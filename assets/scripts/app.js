!function(){"use strict";function t(t,e,i,n,s,o,a){try{var r=t[o](a),l=r.value}catch(t){return void i(t)}r.done?e(l):Promise.resolve(l).then(n,s)}function e(e){return function(){var i=this,n=arguments;return new Promise(function(s,o){var a=e.apply(i,n);function r(e){t(a,s,o,r,l,"next",e)}function l(e){t(a,s,o,r,l,"throw",e)}r(void 0)})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){o(t,e,i[e])})}return t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?h(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,s=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(n=(a=r.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){s=!0,o=t}finally{try{n||null==r.return||r.return()}finally{if(s)throw o}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p="Locomotive",m=$(document),g=$(window),v=$(document.documentElement).removeClass("has-no-js").addClass("has-js"),y=$(document.body),w=$(".js-lisa-toggle-bg"),T=(v.data("debug"),document.getElementsByTagName("html")[0]),E=(document.getElementsByTagName("body")[0],"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{});function k(t,e){return t(e={exports:{}},e.exports),e.exports}k(function(t){var e,i;e=E,i=function(){function t(t,e,i){if(i){var n=document.createDocumentFragment(),s=!e.hasAttribute("viewBox")&&i.getAttribute("viewBox");s&&e.setAttribute("viewBox",s);for(var o=i.cloneNode(!0);o.childNodes.length;)n.appendChild(o.firstChild);t.appendChild(n)}}function e(e){e.onreadystatechange=function(){if(4===e.readyState){var i=e._cachedDocument;i||((i=e._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=e.responseText,e._cachedTarget={}),e._embeds.splice(0).map(function(n){var s=e._cachedTarget[n.id];s||(s=e._cachedTarget[n.id]=i.getElementById(n.id)),t(n.parent,n.svg,s)})}},e.onreadystatechange()}function i(t){for(var e=t;"svg"!==e.nodeName.toLowerCase()&&(e=e.parentNode););return e}return function(n){var s,o=Object(n),a=window.top!==window.self;s="polyfill"in o?o.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&a;var r={},l=window.requestAnimationFrame||setTimeout,h=document.getElementsByTagName("use"),c=0;s&&function n(){for(var a=0;a<h.length;){var u=h[a],d=u.parentNode,f=i(d),p=u.getAttribute("xlink:href")||u.getAttribute("href");if(!p&&o.attributeName&&(p=u.getAttribute(o.attributeName)),f&&p){if(s)if(!o.validate||o.validate(p,f,u)){d.removeChild(u);var m=p.split("#"),g=m.shift(),v=m.join("#");if(g.length){var y=r[g];y||((y=r[g]=new XMLHttpRequest).open("GET",g),y.send(),y._embeds=[]),y._embeds.push({parent:d,svg:f,id:v}),e(y)}else t(d,f,document.getElementById(v))}else++a,++c}else++a}(!h.length||0<h.length-c)&&l(n,67)}()}},t.exports?t.exports=i():e.svg4everybody=i()});var S=k(function(t){var e,i;e=E,i=function(){var t=!0;function e(e){function i(t){var i=e.match(t);return i&&1<i.length&&i[1]||""}function n(t){var i=e.match(t);return i&&1<i.length&&i[2]||""}var s,a=i(/(ipod|iphone|ipad)/i).toLowerCase(),r=!/like android/i.test(e)&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),h=!l&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),u=/silk/i.test(e),d=/sailfish/i.test(e),f=/tizen/i.test(e),p=/(web|hpw)(o|0)s/i.test(e),m=/windows phone/i.test(e),g=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),v=!a&&!u&&/macintosh/i.test(e),y=!r&&!d&&!f&&!p&&/linux/i.test(e),w=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),T=i(/version\/(\d+(\.\d+)?)/i),E=/tablet/i.test(e)&&!/tablet pc/i.test(e),k=!E&&/[^-]mobi/i.test(e),S=/xbox/i.test(e);/opera/i.test(e)?s={name:"Opera",opera:t,version:T||i(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?s={name:"Opera",opera:t,version:i(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||T}:/SamsungBrowser/i.test(e)?s={name:"Samsung Internet for Android",samsungBrowser:t,version:T||i(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?s={name:"NAVER Whale browser",whale:t,version:i(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?s={name:"MZ Browser",mzbrowser:t,version:i(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?s={name:"Opera Coast",coast:t,version:T||i(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?s={name:"Focus",focus:t,version:i(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?s={name:"Yandex Browser",yandexbrowser:t,version:T||i(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?s={name:"UC Browser",ucbrowser:t,version:i(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?s={name:"Maxthon",maxthon:t,version:i(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?s={name:"Epiphany",epiphany:t,version:i(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?s={name:"Puffin",puffin:t,version:i(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?s={name:"Sleipnir",sleipnir:t,version:i(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?s={name:"K-Meleon",kMeleon:t,version:i(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(s={name:"Windows Phone",osname:"Windows Phone",windowsphone:t}).version=w?(s.msedge=t,w):(s.msie=t,i(/iemobile\/(\d+(\.\d+)?)/i)):/msie|trident/i.test(e)?s={name:"Internet Explorer",msie:t,version:i(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?s={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?s={name:"Microsoft Edge",msedge:t,version:w}:/vivaldi/i.test(e)?s={name:"Vivaldi",vivaldi:t,version:i(/vivaldi\/(\d+(\.\d+)?)/i)||T}:d?s={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:i(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?s={name:"SeaMonkey",seamonkey:t,version:i(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(s={name:"Firefox",firefox:t,version:i(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(s.firefoxos=t,s.osname="Firefox OS")):u?s={name:"Amazon Silk",silk:t,version:i(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?s={name:"PhantomJS",phantom:t,version:i(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?s={name:"SlimerJS",slimer:t,version:i(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?s={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:T||i(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(s={name:"WebOS",osname:"WebOS",webos:t,version:T||i(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(s.touchpad=t)):/bada/i.test(e)?s={name:"Bada",osname:"Bada",bada:t,version:i(/dolfin\/(\d+(\.\d+)?)/i)}:f?s={name:"Tizen",osname:"Tizen",tizen:t,version:i(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||T}:/qupzilla/i.test(e)?s={name:"QupZilla",qupzilla:t,version:i(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||T}:/chromium/i.test(e)?s={name:"Chromium",chromium:t,version:i(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||T}:/chrome|crios|crmo/i.test(e)?s={name:"Chrome",chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:r?s={name:"Android",version:T}:/safari|applewebkit/i.test(e)?(s={name:"Safari",safari:t},T&&(s.version=T)):a?(s={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},T&&(s.version=T)):s=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:i(/googlebot\/(\d+(\.\d+))/i)||T}:{name:i(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!s.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(s.name=s.name||"Blink",s.blink=t):(s.name=s.name||"Webkit",s.webkit=t),!s.version&&T&&(s.version=T)):!s.opera&&/gecko\//i.test(e)&&(s.name=s.name||"Gecko",s.gecko=t,s.version=s.version||i(/gecko\/(\d+(\.\d+)?)/i)),s.windowsphone||!r&&!s.silk?!s.windowsphone&&a?(s[a]=t,s.ios=t,s.osname="iOS"):v?(s.mac=t,s.osname="macOS"):S?(s.xbox=t,s.osname="Xbox"):g?(s.windows=t,s.osname="Windows"):y&&(s.linux=t,s.osname="Linux"):(s.android=t,s.osname="Android");var b="";s.windows?b=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(i(/Windows ((NT|XP)( \d\d?.\d)?)/i)):s.windowsphone?b=i(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):s.mac?b=(b=i(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?b=(b=i(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):r?b=i(/android[ \/-](\d+(\.\d+)*)/i):s.webos?b=i(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):s.blackberry?b=i(/rim\stablet\sos\s(\d+(\.\d+)*)/i):s.bada?b=i(/bada\/(\d+(\.\d+)*)/i):s.tizen&&(b=i(/tizen[\/\s](\d+(\.\d+)*)/i)),b&&(s.osversion=b);var C=!s.windows&&b.split(".")[0];return E||h||"ipad"==a||r&&(3==C||4<=C&&!k)||s.silk?s.tablet=t:(k||"iphone"==a||"ipod"==a||r||l||s.blackberry||s.webos||s.bada)&&(s.mobile=t),s.msedge||s.msie&&10<=s.version||s.yandexbrowser&&15<=s.version||s.vivaldi&&1<=s.version||s.chrome&&20<=s.version||s.samsungBrowser&&4<=s.version||s.whale&&1===o([s.version,"1.0"])||s.mzbrowser&&1===o([s.version,"6.0"])||s.focus&&1===o([s.version,"1.0"])||s.firefox&&20<=s.version||s.safari&&6<=s.version||s.opera&&10<=s.version||s.ios&&s.osversion&&6<=s.osversion.split(".")[0]||s.blackberry&&10.1<=s.version||s.chromium&&20<=s.version?s.a=t:s.msie&&s.version<10||s.chrome&&s.version<20||s.firefox&&s.version<20||s.safari&&s.version<6||s.opera&&s.version<10||s.ios&&s.osversion&&s.osversion.split(".")[0]<6||s.chromium&&s.version<20?s.c=t:s.x=t,s}var i=e("undefined"!=typeof navigator&&navigator.userAgent||"");function n(t){return t.split(".").length}function s(t,e){var i,n=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(i=0;i<t.length;i++)n.push(e(t[i]));return n}function o(t){for(var e=Math.max(n(t[0]),n(t[1])),i=s(t,function(t){var i=e-n(t);return s((t+=new Array(i+1).join(".0")).split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});0<=--e;){if(i[0][e]>i[1][e])return 1;if(i[0][e]!==i[1][e])return-1;if(0===e)return 0}}function a(t,n,s){var a=i;"string"==typeof n&&(s=n,n=void 0),void 0===n&&(n=!1),s&&(a=e(s));var r=""+a.version;for(var l in t)if(t.hasOwnProperty(l)&&a[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return o([r,t[l]])<0}return n}return i.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in i)return!0}return!1},i.isUnsupportedBrowser=a,i.compareVersions=o,i.check=function(t,e,i){return!a(t,e,i)},i._detect=e,i.detect=e,i},t.exports?t.exports=i():e.bowser=i()});function b(t){return!isNaN(parseFloat(t))&&isFinite(t)}function C(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]==e)return!0;return!1}function x(t){for(var e=t.length-1;0<e;e--){var i=Math.floor(Math.random()*(e+1)),n=[t[i],t[e]];t[e]=n[0],t[i]=n[1]}return t}function M(t,e){for(var i=e[0],n=Math.abs(t-i),s=0;s<e.length;s++){var o=Math.abs(t-e[s]);o<n&&(n=o,i=e[s])}return i}function L(t){var e=t.attributes,i=/^data\-(.+)$/,n={};for(var s in e)if(e[s]){var o=e[s].name;if(o){var a=o.match(i);a&&(n[a[1]]=O(t.getAttribute(o)))}}return n}k(function(t){var e=function(t){var e,i=Object.prototype,n=i.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",r=s.toStringTag||"@@toStringTag";function l(t,e,i,n){var s,o,a,r,l=e&&e.prototype instanceof m?e:m,g=Object.create(l.prototype),v=new M(n||[]);return g._invoke=(s=t,o=i,a=v,r=c,function(t,e){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===t)throw e;return L()}for(a.method=t,a.arg=e;;){var i=a.delegate;if(i){var n=b(i,a);if(n){if(n===p)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===c)throw r=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=d;var l=h(s,o,a);if("normal"===l.type){if(r=a.done?f:u,l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r=f,a.method="throw",a.arg=l.arg)}}),g}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c="suspendedStart",u="suspendedYield",d="executing",f="completed",p={};function m(){}function g(){}function v(){}var y={};y[o]=function(){return this};var w=Object.getPrototypeOf,T=w&&w(w($([])));T&&T!==i&&n.call(T,o)&&(y=T);var E=v.prototype=m.prototype=Object.create(y);function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(i,s){function o(){return new Promise(function(e,o){!function e(i,s,o,a){var r=h(t[i],t,s);if("throw"!==r.type){var l=r.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){l.value=t,o(l)},function(t){return e("throw",t,o,a)})}a(r.arg)}(i,s,e,o)})}return e=e?e.then(o,o):o()}}function b(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,b(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var s=h(n,t.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,p;var o=s.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(t){if(t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,a=function i(){for(;++s<t.length;)if(n.call(t,s))return i.value=t[s],i.done=!1,i;return i.value=e,i.done=!0,i};return a.next=a}}return{next:L}}function L(){return{value:e,done:!0}}return g.prototype=E.constructor=v,v.constructor=g,v[r]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,i,n,s){var o=new S(l(e,i,n,s));return t.isGeneratorFunction(i)?o:o.next().then(function(t){return t.done?t.value:o.next()})},k(E),E[r]="Generator",E[o]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=$,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function s(n,s){return r.type="throw",r.arg=t,i.next=n,s&&(i.method="next",i.arg=e),!!s}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],r=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(l&&h){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var o=s;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),x(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var s=n.arg;x(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:$(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});var R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;function O(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:R.test(t)?JSON.parse(t):t)}var I=function(){function t(e){i(this,t),this.defaults={name:"load",loadingClass:"is-loading",loadedClass:"is-loaded",readyClass:"is-ready",transitionsPrefix:"is-",enterDelay:0,exitDelay:0,isLoaded:!1,isEntered:!1,isUrl:!1,transitionContainer:null},Object.assign(this,this.defaults,e),this.options=e,this.namespace="modular",this.html=document.documentElement,this.href=window.location.href,this.container="data-"+this.name+"-container",this.subContainer=!1,this.prevTransition=null,this.loadAttributes=["src","srcset","style","href"],this.isInserted=!1,this.isLoading=!1,this.enterTimeout=!1,this.controller=new AbortController,this.classContainer=this.html,this.isChrome=-1!=navigator.userAgent.indexOf("Chrome"),this.init()}return s(t,[{key:"init",value:function(){var t=this;window.addEventListener("popstate",function(e){return t.checkState(e)},!1),this.html.addEventListener("click",function(e){return t.checkClick(e)},!1),this.loadEls(document)}},{key:"checkClick",value:function(t){if(!t.ctrlKey&&!t.metaKey)for(var e=t.target;e&&e!==document;){if(e.matches("a")){t.preventDefault(),this.reset(),this.getClickOptions(e);break}e=e.parentNode}}},{key:"checkState",value:function(){this.reset(),this.getStateOptions()}},{key:"reset",value:function(){this.isLoading&&(this.controller.abort(),this.isLoading=!1,this.controller=new AbortController),window.clearTimeout(this.enterTimeout),this.isInserted&&this.removeContainer(),this.classContainer=this.html,Object.assign(this,this.defaults,this.options)}},{key:"getClickOptions",value:function(t){this.transition=t.getAttribute("data-"+this.name),this.isUrl=t.getAttribute("data-"+this.name+"-url");var e=t.getAttribute("href");"_blank"!=t.getAttribute("target")?"false"!=this.transition?e.startsWith("#")||this.setOptions(e,!0):window.location=e:window.open(e,"_blank")}},{key:"getStateOptions",value:function(){this.transition=history.state;var t=window.location.href;this.setOptions(t)}},{key:"setOptions",value:function(t,e){var i,n="["+this.container+"]";this.transition&&"true"!=this.transition&&(this.transitionContainer="["+this.container+'="'+this.transition+'"]',this.loadingClass=this.transitions[this.transition].loadingClass||this.loadingClass,this.loadedClass=this.transitions[this.transition].loadedClass||this.loadedClass,this.readyClass=this.transitions[this.transition].readyClass||this.readyClass,this.transitionsPrefix=this.transitions[this.transition].transitionsPrefix||this.transitionsPrefix,this.enterDelay=this.transitions[this.transition].enterDelay||this.enterDelay,this.exitDelay=this.transitions[this.transition].exitDelay||this.exitDelay,i=document.querySelector(this.transitionContainer)),this.subContainer=i?(n=this.transitionContainer,this.oldContainer=i,this.classContainer=this.oldContainer.parentNode,this.subContainer||history.replaceState(this.transition,null,this.href),!0):(this.oldContainer=document.querySelector(n),this.subContainer&&history.replaceState(this.prevTransition,null,this.href),!1),this.href=t,this.parentContainer=this.oldContainer.parentNode,null!=this.isUrl&&"false"!=this.isUrl&&0!=this.isUrl?history.pushState(this.transition,null,t):(this.oldContainer.classList.add("is-old"),this.setLoading(),this.startEnterDelay(),this.goTo(t,n,e))}},{key:"setLoading",value:function(){this.classContainer.classList.remove(this.loadedClass,this.readyClass),this.classContainer.classList.add(this.loadingClass),this.classContainer.classList.remove(this.transitionsPrefix+this.prevTransition),this.transition&&this.classContainer.classList.add(this.transitionsPrefix+this.transition),this.subContainer||(this.prevTransition=this.transition);var t=new Event(this.namespace+"loading");window.dispatchEvent(t)}},{key:"startEnterDelay",value:function(){var t=this;this.enterTimeout=window.setTimeout(function(){t.isEntered=!0,t.isLoaded&&t.transitionContainers()},this.enterDelay)}},{key:"goTo",value:function(t,e,i){var n=this;this.isLoading=!0;var s=this.controller.signal;fetch(t,{signal:s}).then(function(t){return t.text()}).then(function(t){var i=new DOMParser;n.data=i.parseFromString(t,"text/html"),n.newContainer=n.data.querySelector(e),n.newContainer.classList.add("is-new"),n.parentNewContainer=n.newContainer.parentNode,n.hideContainer(),n.parentContainer.insertBefore(n.newContainer,n.oldContainer),n.isInserted=!0,n.setSvgs(),n.isLoaded=!0,n.isEntered&&n.transitionContainers(),n.loadEls(n.newContainer),n.isLoading=!1}).catch(function(t){}),i&&history.pushState(this.transition,null,t)}},{key:"transitionContainers",value:function(){var t=this;this.setAttributes(),this.showContainer(),this.setLoaded(),setTimeout(function(){t.removeContainer(),t.setReady()},this.exitDelay)}},{key:"setSvgs",value:function(){if(this.isChrome){var t=this.newContainer.querySelectorAll("use");t.length&&t.forEach(function(t){var e=t.getAttribute("xlink:href");if(e)t.parentNode.innerHTML='<use xlink:href="'+e+'"></use>';else{var i=t.getAttribute("href");i&&(t.parentNode.innerHTML='<use href="'+i+'"></use>')}})}}},{key:"setAttributes",value:function(){var t,e,i=this,n=this.data.getElementsByTagName("title")[0],s=this.data.head.querySelector('meta[name="description"]'),o=document.head.querySelector('meta[name="description"]');t=this.subContainer?(e=this.parentNewContainer,document.querySelector(this.transitionContainer).parentNode):(e=this.data.querySelector("html"),document.querySelector("html"));var a=Object.assign({},e.dataset);n&&(document.title=n.innerHTML),o&&s&&o.setAttribute("content",s.getAttribute("content")),a&&Object.entries(a).forEach(function(e){var n=d(e,2),s=n[0],o=n[1];t.setAttribute("data-"+i.toDash(s),o)})}},{key:"toDash",value:function(t){return t.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"hideContainer",value:function(){this.newContainer.style.visibility="hidden",this.newContainer.style.height=0,this.newContainer.style.overflow="hidden"}},{key:"showContainer",value:function(){this.newContainer.style.visibility="",this.newContainer.style.height="",this.newContainer.style.overflow=""}},{key:"loadEls",value:function(t){var e=this,i=[];this.loadAttributes.forEach(function(n){var s="data-"+e.name+"-"+n,o=t.querySelectorAll("["+s+"]");o.length&&o.forEach(function(t){var e=t.getAttribute(s);if(t.setAttribute(n,e),"src"==n||"srcset"==n){var o=new Promise(function(e){t.onload=function(){return e(t)}});i.push(o)}})}),Promise.all(i).then(function(t){var i=new Event(e.namespace+"images");window.dispatchEvent(i)})}},{key:"setLoaded",value:function(){this.classContainer.classList.add(this.loadedClass);var t=new Event(this.namespace+"loaded");window.dispatchEvent(t)}},{key:"removeContainer",value:function(){this.parentContainer.removeChild(this.oldContainer),this.newContainer.classList.remove("is-new"),this.isInserted=!1}},{key:"setReady",value:function(){this.classContainer.classList.add(this.readyClass);var t=new Event(this.namespace+"ready");window.dispatchEvent(t)}},{key:"on",value:function(t,e){var i=this;window.addEventListener(this.namespace+t,function(){switch(t){case"loading":return e(i.transition,i.oldContainer);case"loaded":return e(i.transition,i.oldContainer,i.newContainer);case"ready":return e(i.transition,i.newContainer);default:return e()}},!1)}}]),t}(),P=0,A=function(){function t(e){i(this,t),this.$el=e.$el||null,this.el=e.el||null,this.uid="m-"+P++,this.$el.attr("data-uid",this.uid)}return s(t,[{key:"init",value:function(){}},{key:"destroy",value:function(){this.$el&&this.$el.removeData("uid")}}]),t}();function j(){for(var t=1,e=1,i=[],n=0;n<256;++n)i.push(Math.random());return{getVal:function(n){var s=n*e,o=Math.floor(s),a=s-o,r=a*a*(3-2*a),l=255&o,h=l+1&255;return function(t,e,i){return t*(1-i)+e*i}(i[l],i[h],r)*t},setAmplitude:function(e){t=e},setScale:function(t){e=t}}}var H="".concat(p,".").concat("PlayShapes"),D={CLICK:"click.".concat(H),MOUSEENTER:"mouseenter.".concat(H),MOUSELEAVE:"mouseleave.".concat(H),MOUSEMOVE:"mousemove.".concat(H),COLOR_SCHEME:"colorScheme.".concat(H)},N="default",B="play",_=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).colorScheme=N,n.updatingScheme=!1,n}return r(e,A),s(e,[{key:"init",value:function(){var t,e,i,n,s,a,r,l,h,c=this;this.width=window.innerWidth,this.height=window.innerHeight,this.canvas=this.el,this.canvas.width=this.width,this.canvas.height=this.height,this.offscreenCanvas=document.createElement("canvas"),this.offscreenCanvas.width=this.canvas.width,this.offscreenCanvas.height=this.canvas.height,this.shapes=[],this.backgroundColorSchemes=(o(t={},N,{r:131,g:149,b:164}),o(t,B,{r:58,g:91,b:159}),t),this.backgroundColor=JSON.parse(JSON.stringify(this.backgroundColorSchemes[this.colorScheme]));var u=[(e={},o(e,N,{r:113,g:131,b:146}),o(e,B,{r:53,g:83,b:141}),e),(i={},o(i,N,{r:147,g:170,b:189}),o(i,B,{r:62,g:101,b:178}),i),(n={},o(n,N,{r:59,g:75,b:91}),o(n,B,{r:41,g:57,b:89}),n),(s={},o(s,N,{r:109,g:116,b:134}),o(s,B,{r:51,g:77,b:130}),s),(a={},o(a,N,{r:44,g:46,b:62}),o(a,B,{r:36,g:47,b:69}),a),(r={},o(r,N,{r:61,g:65,b:94}),o(r,B,{r:40,g:55,b:85}),r),(l={},o(l,N,{r:42,g:41,b:56}),o(l,B,{r:36,g:46,b:66}),l),(h={},o(h,N,{r:62,g:61,b:81}),o(h,B,{r:39,g:54,b:82}),h)];this.initShape(100,100,100,u[0],u[1],10),this.initShape(this.height/3,this.height/3,this.height/3,u[2],u[3],10),this.initShape(this.height-this.height/2.5,this.height-this.height/2.5,this.height-this.height/3,u[4],u[5],10),this.initShape(this.height-this.height/6,this.height-this.height/6,this.height-this.height/6,u[6],u[7],1),this.ctx=this.canvas.getContext("2d"),this.offscreenCtx=this.offscreenCanvas.getContext("2d"),this.amplitude={value:this.height/3},this.scale={value:1},this.position={x:0,y:0},this.mousePosition={x:0,y:0},this.$el.on(D.MOUSEENTER,function(t){TweenMax.to(c.amplitude,2,{value:c.height/1.8}),TweenMax.to(c.scale,2,{value:2})}),this.$el.on(D.MOUSELEAVE,function(t){TweenMax.to(c.amplitude,2,{value:c.height/3}),TweenMax.to(c.scale,2,{value:1})}),g.on(D.MOUSEMOVE,function(t){c.mousePosition.x=300*(t.clientX-window.innerWidth/2)/window.innerWidth,c.mousePosition.y=100*(t.clientY-window.innerHeight/2)/window.innerHeight}),m.on(D.COLOR_SCHEME,function(t){c.updateScheme(t.options.scheme)}),"play"==v.data("template")&&setTimeout(function(){c.updateScheme("play")},300),this.render(),v.addClass("has-shapes-ready")}},{key:"updateScheme",value:function(t){var e=this;this.updatingScheme=!0,this.colorScheme=t,this.colorSchemeTl&&this.colorSchemeTl.kill&&this.colorSchemeTl.kill(),this.colorSchemeTl=new TimelineMax({onComplete:function(){e.updatingScheme=!1}});var i=this.backgroundColorSchemes[t];this.colorSchemeTl.to(this.backgroundColor,.5,{r:i.r,g:i.g,b:i.b},0);for(var n=0;n<this.shapes.length;n++){var s=this.shapes[n].fromColorSchemes[t];this.colorSchemeTl.to(this.shapes[n].fromColor,.5,{r:s.r,g:s.g,b:s.b},0);var o=this.shapes[n].toColorSchemes[t];this.colorSchemeTl.to(this.shapes[n].toColor,.5,{r:o.r,g:o.g,b:o.b},0)}cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame(function(){return e.render()})}},{key:"render",value:function(){var t=this;if(!this.updatingScheme&&window.safari||(this.raf=requestAnimationFrame(function(){return t.render()})),!v.hasClass("has-nav-open")||"play"===v.attr("data-template")||1e3<window.innerWidth||v.hasClass("has-dom-loading")&&v.hasClass("is-transition-play")){this.offscreenCtx.fillStyle="rgb(".concat(this.backgroundColor.r,", ").concat(this.backgroundColor.g,", ").concat(this.backgroundColor.b,")"),this.offscreenCtx.fillRect(0,0,this.width,this.height),this.position.x=this.lerp(this.position.x,this.mousePosition.x,.2),this.position.y=this.lerp(this.position.y,this.mousePosition.y,.2);for(var e=0;e<this.shapes.length;e++)this.shapes[e].iterator=this.shapes[e].iterator+this.scale.value,this.drawShape(this.shapes[e].fromX,this.shapes[e].noiseFrom.getVal(this.shapes[e].iterator)*this.amplitude.value-this.amplitude.value/2+this.shapes[e].fromY,this.shapes[e].pX+this.position.x,this.shapes[e].noiseP.getVal(this.shapes[e].iterator+150)*this.amplitude.value-this.amplitude.value/2+this.shapes[e].pY+this.position.y,this.shapes[e].toX,this.shapes[e].noiseTo.getVal(this.shapes[e].iterator+500)*this.amplitude.value-this.amplitude.value/2+this.shapes[e].toY,this.shapes[e].fromColor,this.shapes[e].toColor);this.ctx.drawImage(this.offscreenCanvas,0,0)}}},{key:"lerp",value:function(t,e,i){return(1-i)*t+i*e}},{key:"initShape",value:function(t,e,i,n,s,o){var a=new j,r=new j,l=new j;a.setScale(.005),r.setScale(.005),l.setScale(.005);var h={fromX:0,fromY:t,pX:this.width/2,pY:e,toX:this.width,toY:i,fromColorSchemes:n,toColorSchemes:s,fromColor:JSON.parse(JSON.stringify(n[this.colorScheme])),toColor:JSON.parse(JSON.stringify(s[this.colorScheme])),iterator:o,noiseFrom:a,noiseP:r,noiseTo:l};this.shapes.push(h)}},{key:"drawShape",value:function(t,e,i,n,s,o,a,r){this.offscreenCtx.beginPath(),this.offscreenCtx.fillStyle="rgb(".concat(Math.round(a.r),", ").concat(Math.round(a.g),", ").concat(Math.round(a.b),")"),this.offscreenCtx.moveTo(t,e),this.offscreenCtx.quadraticCurveTo(i,n,s,o),this.offscreenCtx.lineTo(this.width,this.height),this.offscreenCtx.lineTo(0,this.height),this.offscreenCtx.lineTo(t,e),this.offscreenCtx.fill(),this.offscreenCtx.closePath()}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(H)),g.off(".".concat(H)),m.off(".".concat(H)),cancelAnimationFrame(this.raf)}}]),e}();function U(t,e,i){var n;return function(){var s=this,o=arguments,a=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||t.apply(s,o)},e),a&&t.apply(s,o)}}var z="".concat(p,".").concat("HomeFlag"),F={CLICK:"click.".concat(z),MOUSEDOWN:"mousedown.".concat(z),MOUSEMOVE:"mousemove.".concat(z),MOUSEUP:"mouseup.".concat(z),RESIZE:"resize.".concat(z),TRIGGER:"trigger.".concat(z),SET:"set.".concat(z),GRAB:"Grag.".concat(z),RELEASE:"release.".concat(z),ENTER:"enter.".concat(z),LEAVE:"leave.".concat(z),GROW:"grow.".concat(z),UPDATE_COLOR:"updateColor.".concat(z)},W=function(t){function e(t){return i(this,e),c(this,l(e).call(this,t))}return r(e,A),s(e,[{key:"init",value:function(){this.count=0,this.BCR=this.el.getBoundingClientRect(),this.width=this.BCR.width,this.height=this.BCR.height,this.renderer=new THREE.WebGLRenderer({antialias:!(2<=window.devicePixelRatio),alpha:!0}),this.renderer.setPixelRatio(Math.max(window.devicePixelRatio,1)),this.renderer.setSize(this.width,this.height),this.el.appendChild(this.renderer.domElement),this.initScene(),this.initCamera(),this.initLights(),this.initShape(),this.values={x:0,y:-1,factor:0,color:new THREE.Color(218/255,31/255,38/255),scale:1},this.hasMouseDown=!1,this.render(),this.events()}},{key:"events",value:function(){var t=this;m.on(F.UPDATE_COLOR,function(e){t.values.color={r:e.options.r/255,g:e.options.g/255,b:e.options.b/255}}),1025<window.innerWidth&&(this.$el.on("".concat(F.MOUSEDOWN),function(e){t.hasMouseDown=!0;var i=2*(e.clientY-t.$el.height()/2)/t.$el.height();t.set(i,0),TweenMax.to(t.values,.6,{factor:1})}),this.$el.on("".concat(F.MOUSEMOVE),function(e){if(t.hasMouseDown){var i=2*(e.clientY-t.$el.height()/2)/t.$el.height();t.set(i)}}),this.$el.on("".concat(F.MOUSEUP),function(e){t.hasMouseDown=!1,TweenMax.to(t.values,.6,{factor:0})})),g.on(F.RESIZE,U(function(){t.resize()},20)),m.on(F.TRIGGER,function(e){"next"===e.options.direction?t.goToNext():t.goToPrev()}),m.on(F.SET,function(e){return t.set(e.options.offset,e.options.factor)}),m.on(F.GRAB,function(e){TweenMax.to(t.values,.2,{factor:1})}),m.on(F.RELEASE,function(e){TweenMax.to(t.values,1,{factor:0})}),m.on(F.ENTER,function(e){TweenMax.to(t.plane.scale,.8,{x:1.1,y:1.05,ease:Elastic.easeOut.config(1,.75)})}),m.on(F.LEAVE,function(e){v.hasClass("has-dom-loading")||TweenMax.to(t.plane.scale,.4,{x:1,y:1,ease:Power2.easeInOut})}),m.on(F.GROW,function(e){TweenMax.to(t.plane.scale,.6,{x:4.5,y:2.2,ease:Power1.easeInOut}),$(".js-preloader-background").css({"background-color":"rgb(".concat(parseInt(255*parseFloat(t.values.color.r)),", ").concat(parseInt(255*parseFloat(t.values.color.g)),", ").concat(parseInt(255*parseFloat(t.values.color.b)),")")})})}},{key:"goToPrev",value:function(){TweenMax.to(this.values,.6,{factor:1})}},{key:"goToNext",value:function(){TweenMax.to(this.values,.6,{factor:1})}},{key:"initScene",value:function(){this.scene=new THREE.Scene}},{key:"initCamera",value:function(){this.camera=new THREE.PerspectiveCamera(75,this.width/this.height,.1,3e3),this.camera.position.set(0,0,10)}},{key:"initLights",value:function(){this.ambientLight=new THREE.AmbientLight(4210752),this.scene.add(this.ambientLight)}},{key:"initShape",value:function(){this.lineLength=50,this.planeGeometry=new THREE.PlaneBufferGeometry(6.5,8,this.lineLength,this.lineLength);var t=new THREE.Matrix3;t.setUvTransform(0,0,1,1,0,0,0);var e=(new THREE.TextureLoader).load(window.isTouch?"/assets/images/flag-displacement-vertical.png":"/assets/images/flag-displacement.png");e.minFilter=THREE.LinearFilter,this.planeMaterial=new THREE.ShaderMaterial({vertexShader:"\n    uniform sampler2D texture;\n    uniform float factor;\n\n    #include <common>\n    #include <uv_pars_vertex>\n\n    void main() {\n        #include <uv_vertex>\n\n        vec3 newPosition = vec3(position.x, position.y, position.z + ((texture2D(texture, vUv).r ) * factor * 2.));\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.);\n    }\n",fragmentShader:"\n\n    uniform vec3 color;\n\n    void main() {\n\n      // colour is RGBA: u, v, 0, 1\n      gl_FragColor = vec4( color , 1. );\n\n    }\n",uniforms:{texture:{value:e},uvTransform:{value:t},factor:{value:1},color:{value:new THREE.Color("#db1f28")}},defines:{USE_MAP:!0}}),this.plane=new THREE.Mesh(this.planeGeometry,this.planeMaterial),this.positionPlane(),this.scene.add(this.plane),this.offset={y:-1};var i=new TimelineMax({repeat:-1});i.to(this.offset,2,{y:1}),i.to(this.offset,2,{y:-1})}},{key:"positionPlane",value:function(){this.plane.position.set(0,0,2),700<this.width&&this.width<1025&&this.plane.scale.set(1,1.2,1),this.width<1025&&this.plane.position.set(0,0,0),this.width<700&&this.plane.scale.set(1,1.1,1)}},{key:"set",value:function(t,e,i){this.values.offset=t||this.values.offset,this.values.factor=e||this.values.factor,this.values.color=i||this.values.color}},{key:"render",value:function(){var t=this;this.raf=requestAnimationFrame(function(){return t.render()}),this.planeMaterial.uniforms.uvTransform.value.setUvTransform(window.isTouch?-this.values.offset:0,window.isTouch?0:this.values.offset,this.values.scale,this.values.scale,0,0,0),this.planeMaterial.uniforms.factor.value=this.values.factor,this.planeMaterial.uniforms.color.value=this.values.color,this.renderer.render(this.scene,this.camera)}},{key:"resize",value:function(){var t=this.el.getBoundingClientRect();this.BCR&&this.BCR.width==t.width&&this.BCR.height==t.height||(this.BCR=t,this.width=this.BCR.width,this.height=this.BCR.height,this.positionPlane(),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),cancelAnimationFrame(this.raf),this.$el.off(".".concat(z)),g.off(".".concat(z)),m.off(".".concat(z))}}]),e}(),G=function(){function t(e){i(this,t),this.$visual=e,this.current=!1,this.init()}return s(t,[{key:"init",value:function(){this.initializeElements(),this.initTweens(),this.initializeEvents()}},{key:"initializeElements",value:function(){this.$phoneLeft=this.$visual.find(".js-visual-phone-left"),this.$phoneRight=this.$visual.find(".js-visual-phone-right"),this.$laptop=this.$visual.find(".js-visual-laptop"),this.$inner=this.$visual.find(".js-visual-inner")}},{key:"initializeEvents",value:function(){}},{key:"initTweens",value:function(){this.tweenVisual&&this.tweenVisual.kill&&this.tweenVisual.kill(),TweenMax.set([this.$phoneLeft,this.$phoneRight,this.$laptop,this.$inner],{clearProps:"all"}),this.tweenVisual=new TimelineMax({}),this.tweenVisual.addLabel("start",0).addLabel("middle",1).addLabel("end",2),window.isTouch?this.tweenVisual.fromTo(this.$inner,1,{x:"30%"},{x:"0%",ease:Linear.easeNone,force3D:!0},"start").fromTo(this.$phoneLeft,1,{rotation:-30},{rotation:0,ease:Linear.easeNone,force3D:!0},"start").fromTo(this.$phoneRight,1,{rotation:30,x:"50%"},{rotation:0,x:"0%",ease:Linear.easeNone,force3D:!0},"start").fromTo(this.$laptop,1,{rotation:30},{rotation:0,ease:Linear.easeNone,force3D:!0},"start").fromTo(this.$inner,1,{x:"0%"},{x:"-30%",ease:Linear.easeNone,force3D:!0},"middle").fromTo(this.$phoneLeft,1,{rotation:0},{rotation:30,ease:Linear.easeNone,force3D:!0},"middle").fromTo(this.$phoneRight,1,{rotation:0,x:"0%"},{rotation:-30,x:"-50%",ease:Linear.easeNone,force3D:!0},"middle").fromTo(this.$laptop,1,{rotation:0},{rotation:-20,ease:Linear.easeNone,force3D:!0},"middle"):this.tweenVisual.fromTo(this.$inner,1,{y:"30%"},{y:"0%",ease:Linear.easeNone,force3D:!0},"start").fromTo(this.$phoneLeft,1,{rotation:-30},{rotation:0,ease:Linear.easeNone,force3D:!0},"start").fromTo(this.$phoneRight,1,{rotation:30,y:"50%"},{rotation:0,y:"0%",ease:Linear.easeNone,force3D:!0},"start").fromTo(this.$laptop,1,{rotation:30},{rotation:0,ease:Linear.easeNone,force3D:!0},"start").fromTo(this.$inner,1,{y:"0%"},{y:"-30%",ease:Linear.easeNone,force3D:!0},"middle").fromTo(this.$phoneLeft,1,{rotation:0},{rotation:30,ease:Linear.easeNone,force3D:!0},"middle").fromTo(this.$phoneRight,1,{rotation:0,y:"0%"},{rotation:-30,y:"-50%",ease:Linear.easeNone,force3D:!0},"middle").fromTo(this.$laptop,1,{rotation:0},{rotation:-20,ease:Linear.easeNone,force3D:!0},"middle"),this.tweenVisual.progress(.01).progress(0).pause()}},{key:"destroy",value:function(){this.tweenVisual.kill(),this.tweenVisual=null}}]),t}();function V(t,e,i){return(1-i)*t+i*e}var q="LocomotiveScroll",K={CLICK:"click.".concat(q),ISREADY:"isReady.".concat(q),REBUILD:"rebuild.".concat(q),RENDER:"render.".concat(q),RESIZE:"resize.".concat(q),SCROLL:"scroll.".concat(q),SCROLLTO:"scrollTo.".concat(q),UPDATE:"update.".concat(q),STOP:"stop.".concat(q),START:"start.".concat(q)},Y={container:m,mobileContainer:m,onScroll:function(){},selector:".js-animate",smooth:!1,smoothMobile:!1,reversed:!1,getDirection:!1,getSpeed:!1,scrollBarClassName:"o-scrollbar",isScrollingClassName:"is-scrolling"},X=function(){function t(e){i(this,t),this.$container=e.container?e.container:Y.container,this.selector=e.selector?e.selector:Y.selector,this.callbacks={onScroll:"function"==typeof e.onScroll?e.onScroll:Y.onScroll},this.instance={scroll:{x:0,y:0,direction:""}},this.windowHeight=g.height(),this.windowMiddle=this.windowHeight/2,this.animatedElements=[],this.requestId=void 0}return s(t,[{key:"init",value:function(){var t=this;this.addElements(),this.render(),this.$container.on(K.SCROLL,function(){t.render()}),this.$container.on(K.REBUILD,function(){t.scrollTo({targetOffset:0}),t.update()}),this.$container.on(K.UPDATE,function(e,i){return t.update(i)}),this.$container.on(K.RENDER,function(){return t.render()}),this.$container.on(K.CLICK,".js-scrollto",function(e){e.preventDefault();var i=$(e.currentTarget),n=i.data("offset");t.scrollTo({sourceElem:i,offsetElem:n})}),this.$container.on(K.SCROLLTO,function(e){return t.scrollTo(e.options)}),m.triggerHandler({type:K.ISREADY}),g.on(K.RESIZE,U(function(){t.update()},20))}},{key:"addElements",value:function(){this.animatedElements=[];for(var t=$(this.selector),e=t.length,i=0;i<e;i++){var n=t.eq(i),s=n.attr("data-target"),o=n.attr("data-position"),a=s&&$(s).length?$(s):n,r=a.offset().top,l=r+a.outerHeight(),h="string"==typeof n.attr("data-sticky"),c=n.attr("data-sticky-target"),u=null;"string"==typeof n.attr("data-viewport-offset")&&(u=n.attr("data-viewport-offset").split(","));var d="string"==typeof n.attr("data-callback")?n.attr("data-callback"):null,f=null;if(null!=d){for(var p=d.substr(0,d.indexOf("(")),m=d.substr(d.indexOf("("),d.length-p.length),g=(m=(m=m.replace("(","")).replace(")","")).split("|"),v={},y=0;y<g.length;y++){var w=g[y].split(":");w[0]=w[0].replace(" ","");var T;T="true"===w[1]||"false"!==w[1]&&(/^\d+$/.test(w[1])?parseInt(w[1]):w[1]),v[w[0]]=T}f={event:p,options:v}}var E="string"==typeof n.attr("data-repeat"),k=n.attr("data-inview-class");void 0===k&&(k="is-show"),h&&(l=void 0===c?this.$container.height():$(c).offset().top-n.height(),n.removeClass(k),n.removeClass("is-unstuck"),n.css({"-webkit-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"})),!E&&n.hasClass(k)||(this.animatedElements[i]={$element:n,offset:Math.round(r),repeat:E,position:o,limit:l,inViewClass:k,sticky:h,callback:f,viewportOffset:u})}}},{key:"animateElements",value:function(){for(var t=this.animatedElements.length,e=[],i=0;i<t;i++){var n=this.animatedElements[i];this.toggleElement(n,i)&&e.push(i)}for(i=e.length;i--;)this.animatedElements.splice(e[i],1)}},{key:"render",value:function(){this.instance.scroll.y!==window.pageYOffset&&(this.instance.scroll.y=window.pageYOffset),this.instance.scroll.x!==window.pageXOffset&&(this.instance.scroll.x=window.pageXOffset),this.callbacks.onScroll(this.scroll),this.animateElements()}},{key:"toggleElement",value:function(t,e){var i=!1;if(void 0!==t){var n=this.instance.scroll.y,s=n+this.windowHeight,o=!1;if("top"===t.position)o=n>=t.offset&&n<=t.limit;else if("below"===t.position)o=n>t.limit;else if(t.sticky)o=n>=t.offset&&n<=t.limit;else if(null!=t.viewportOffset)if(1<t.viewportOffset.length){var a=n+this.windowHeight*t.viewportOffset[1];o=s-this.windowHeight*t.viewportOffset[0]>t.offset&&a<t.limit}else{var r=s-this.windowHeight*t.viewportOffset[0];o=r>t.offset&&r<t.limit}else o=s>=t.offset&&n<=t.limit;if(t.sticky&&(n>t.limit?t.$element.addClass("is-unstuck"):t.$element.removeClass("is-unstuck"),n<t.offset&&t.$element.removeClass(t.inViewClass)),o){if(t.$element.hasClass(t.inViewClass)||(t.$element.addClass(t.inViewClass),this.triggerCallback(t,"enter")),t.repeat||t.sticky||(i=!0),t.sticky){var l=this.instance.scroll.y-t.offset;t.$element.css({"-webkit-transform":"translate3d(0, ".concat(l,"px, 0)"),"-ms-transform":"translate3d(0, ".concat(l,"px, 0)"),transform:"translate3d(0, ".concat(l,"px, 0)")})}}else t.repeat&&t.$element.hasClass(t.inViewClass)&&(t.$element.removeClass(t.inViewClass),this.triggerCallback(t,"leave"))}return i}},{key:"triggerCallback",value:function(t,e){null!=t.callback&&t.$element.trigger({type:t.callback.event,options:t.callback.options,way:e})}},{key:"scrollTo",value:function(t){var e=t.targetElem,i=t.sourceElem,n=t.offsetElem,s=b(t.targetOffset)?parseInt(t.targetOffset):0,o=b(t.speed)?parseInt(t.speed):800,a=b(t.delay)?parseInt(t.delay):0,r=t.toTop,l=t.toBottom,h=0;if(void 0===e&&void 0===i&&void 0===s)return console.warn("You must specify at least one parameter."),!1;if(void 0!==e&&e instanceof jQuery&&0<e.length&&(s=e.offset().top+s),void 0!==i&&i instanceof jQuery&&0<i.length){var c;c=i.attr("data-target")?i.attr("data-target"):i.attr("href"),s=$(c).offset().top+s}void 0!==n&&(h=$(n).outerHeight(),s-=h),!0===r?s=0:!0===l&&(s=m.height()),setTimeout(function(){$("html, body").animate({scrollTop:s},o)},a)}},{key:"update",value:function(){this.addElements(),this.animateElements(),this.windowHeight=g.height(),this.windowMiddle=this.windowHeight/2}},{key:"destroy",value:function(){g.off(".".concat(q)),this.$container.off(".".concat(q)),window.cancelAnimationFrame(this.requestId),this.requestId=void 0,this.animatedElements=void 0}}]),t}(),Z=q,Q=Object.assign(K,{PAUSE:"pause.".concat(Z),RESUME:"resume.".concat(Z),SCROLLING:"scrolling.".concat(Z)}),J=Object.assign(Y,{isDraggingClassName:"is-dragging"}),tt=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).$container=t.container?t.container:J.container,n.selector=t.selector?t.selector:J.selector,n.callbacks={onScroll:"function"==typeof t.onScroll?t.onScroll:J.onScroll},n.instance={scroll:{x:0,y:0,direction:""}},n.windowHeight=g.height(),n.windowMiddle=n.windowHeight/2,n.animatedElements=[],n.requestId=void 0,n}return r(e,X),s(e,[{key:"init",value:function(){var t=this;this.addElements(),this.render(),this.$container.on(Q.SCROLL,function(){t.render()}),this.$container.on(Q.REBUILD,function(){t.update()}),this.$container.on(Q.UPDATE,function(e,i){return t.update(i)}),this.$container.on(Q.RENDER,function(){return t.render()}),this.$container.on(Q.CLICK,".js-scrollto",function(e){e.preventDefault();var i=$(e.currentTarget),n=i.data("offset");t.scrollTo({sourceElem:i,offsetElem:n})}),this.$container.on(Q.SCROLLTO,function(e){return t.scrollTo(e.options)}),m.triggerHandler({type:Q.ISREADY}),g.on(Q.RESIZE,U(function(){t.update()},20))}},{key:"toggleElement",value:function(t,e){var i=!1;if(void 0!==t){var n=this.instance.scroll.y,s=n+this.windowHeight,o=!1;if("top"===t.position)o=n>=t.offset&&n<=t.limit;else if("below"===t.position)o=n>t.limit;else if(t.sticky)o=n>=t.offset&&n<=t.limit;else if(null!=t.viewportOffset)if(1<t.viewportOffset.length){var a=n+this.windowHeight*t.viewportOffset[1];o=s-this.windowHeight*t.viewportOffset[0]>t.offset&&a<t.limit}else{var r=s-this.windowHeight*t.viewportOffset[0];o=r>t.offset&&r<t.limit}else o=s>=t.offset&&n<=t.limit;if(t.sticky&&(n>t.limit?t.$element.addClass("is-unstuck"):t.$element.removeClass("is-unstuck"),n<t.offset&&t.$element.removeClass(t.inViewClass)),o){if(t.$element.hasClass(t.inViewClass)||(t.$element.addClass(t.inViewClass),this.triggerCallback(t,"enter")),t.repeat||t.sticky||(i=!0),t.sticky){var l=this.instance.scroll.y-t.offset;v.hasClass("has-smooth-scroll")&&t.$element.css({"-webkit-transform":"translate3d(0, ".concat(l,"px, 0)"),"-ms-transform":"translate3d(0, ".concat(l,"px, 0)"),transform:"translate3d(0, ".concat(l,"px, 0)")})}}else if(t.repeat&&t.$element.hasClass(t.inViewClass)&&(t.$element.removeClass(t.inViewClass),this.triggerCallback(t,"leave")),t.sticky&&v.hasClass("has-smooth-scroll")&&n>t.limit){var h=t.limit-t.offset;t.$element.css({"-webkit-transform":"translate3d(0, ".concat(h,"px, 0)"),"-ms-transform":"translate3d(0, ".concat(h,"px, 0)"),transform:"translate3d(0, ".concat(h,"px, 0)")})}}return i}},{key:"render",value:function(){window.pageYOffset>this.instance.scroll.y&&0<window.pageYOffset?"down"!==this.instance.scroll.direction&&(this.instance.scroll.direction="down",v.attr("data-direction","down")):(window.pageYOffset<this.instance.scroll.y||window.pageYOffset<0)&&"up"!==this.instance.scroll.direction&&(this.instance.scroll.direction="up",v.attr("data-direction","up")),this.instance.scroll.y!==window.pageYOffset&&(this.instance.scroll.y=window.pageYOffset),this.instance.scroll.x!==window.pageXOffset&&(this.instance.scroll.x=window.pageXOffset),this.callbacks.onScroll(this.instance.scroll),this.animateElements()}}]),e}(),et="".concat(p,".").concat("RailMove"),it=function(){function t(e,n,s,o){i(this,t),this.$wrapper=e,this.isFixed=s,this.containerWidth=0,this.requestAnimation=null,this.scrollPosition=-1,this.translation=0,this.grabbed=!1,this.preventClick=!1,this.paused=o,this.originalVelocity=-n,this.velocity=this.originalVelocity,this.lastDelta=null,this.initializeElements(),this.initializeEvents()}return s(t,[{key:"initializeElements",value:function(){this.$railMove=this.$wrapper.find(".c-rail_group-container"),this.$railMoveChildren=this.$railMove.find(".c-rail_item"),this.getBCR()}},{key:"initializeEvents",value:function(){this.update(),this.checkScrollBind=this.updateScroll.bind(this),m.on(Q.SCROLLING,this.checkScrollBind)}},{key:"setContainerWidth",value:function(t){this.containerWidth=t}},{key:"getBCR",value:function(){this.railMoveBCR=this.$railMove[0].getBoundingClientRect()}},{key:"updateScroll",value:function(){if(!v.hasClass("is-mobile")&&!this.isFixed){var t=Math.round(window.scroll.y)?Math.round(window.scroll.y):0,e=t-this.scrollPosition;this.scrollPosition=t,0!=e&&(this.velocity=this.originalVelocity*e)}}},{key:"pause",value:function(){this.paused=!0,cancelAnimationFrame(this.requestAnimation)}},{key:"resume",value:function(){var t=this;this.paused=!1,cancelAnimationFrame(this.requestAnimation),this.requestAnimation=requestAnimationFrame(function(){return t.update()})}},{key:"update",value:function(){var t,e=this;this.grabbed||(this.translation>this.railMoveBCR.width/2||this.translation<-this.railMoveBCR.width/2?this.translation=0:this.translation=this.translation+this.velocity),t=0<this.translation?-this.containerWidth+this.translation%this.containerWidth:this.translation%this.containerWidth,TweenMax.set(this.$railMoveChildren,{x:Math.round(t),force3D:!0}),this.paused||(this.requestAnimation=requestAnimationFrame(function(){return e.update()}))}},{key:"destroy",value:function(){this.$wrapper.off(".".concat(et)),m.off(".".concat(et)),m.off(Q.SCROLLING,this.checkScrollBind),cancelAnimationFrame(this.requestAnimation),TweenMax.set(this.$railMove,{x:0}),this.translation=0}}]),t}(),nt="".concat(p,".").concat("Rail"),st={CLICK:"click.".concat(nt),PAUSE:"pause.".concat(nt),RESUME:"resume.".concat(nt)},ot=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).options=t,n.$wrapper=n.$el,n.speed=t["rail-speed"],n.isFixed="string"==typeof n.$el.attr("data-fixed"),n.initialHTML=n.$el[0].outerHTML,n}return r(e,A),s(e,[{key:"init",value:function(){this.setClasses(),this.wrapItem(),this.initializeElements(),this.fillScreen(),this.groupTrack(),this.duplicateGroup(),this.wrapGroup(),this.railMove=new it(this.$wrapper,this.speed,this.isFixed,this.options.paused),this.railMove.setContainerWidth(this.groupTrackBCR.width),this.pauseBind=this.pause.bind(this),this.$el.on(st.PAUSE,this.pauseBind),this.resumeBind=this.resume.bind(this),this.$el.on(st.RESUME,this.resumeBind)}},{key:"setClasses",value:function(){this.$wrapper.toggleClass("c-rail_wrapper");var t=this.$wrapper.find("> *");if(null!=this.options.shuffle){t.toggleClass("c-rail_item");var e=x(Array.from(t)),i=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;this.$wrapper.append($(r))}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}}else t.toggleClass("c-rail_item")}},{key:"wrapItem",value:function(){var t='<div class="c-rail_track">'+this.$wrapper[0].innerHTML+"</div>";this.$wrapper[0].innerHTML=t}},{key:"initializeElements",value:function(){this.$item=this.$wrapper.find(".c-rail_item"),this.$track=this.$wrapper.find(".c-rail_track"),this.$container=this.$wrapper.find(".c-rail_container")}},{key:"fillScreen",value:function(){var t=window.innerWidth/this.$track[0].getBoundingClientRect().width;if(t===1/0)throw new Error("Ratio is Infinity");for(var e=0;e<t;e++)this.$wrapper.append(this.$track[0].outerHTML)}},{key:"groupTrack",value:function(){var t='<div class="c-rail_track-container">'+this.$wrapper[0].innerHTML+"</div>";this.$wrapper[0].innerHTML=t,this.$groupTracks=this.$wrapper.find(".c-rail_track-container"),this.groupTrackBCR=this.$groupTracks[0].getBoundingClientRect()}},{key:"duplicateGroup",value:function(){this.$wrapper.append(this.$groupTracks[0].outerHTML)}},{key:"wrapGroup",value:function(){var t='<div class="c-rail_group-container">'+this.$wrapper[0].innerHTML+"</div>";this.$wrapper[0].innerHTML=t,this.$groupContainer=this.$wrapper.find(".c-rail_group-container")}},{key:"pause",value:function(){this.railMove.pause()}},{key:"resume",value:function(){this.railMove.resume()}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(nt)),this.railMove&&this.railMove.destroy&&this.railMove.destroy(),this.$el[0].outerHTML=this.initialHTML}}]),e}(),at="".concat(p,".").concat("HomeSimpleSlider"),rt={GOTO:"goto.".concat(at)},lt="is-active",ht="is-out",ct=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$items=$(".js-item",this.$el),this.$items.eq(0).addClass(lt),requestAnimationFrame(function(){t.$items.eq(0).find('[data-module="Rail"]').trigger(st.RESUME),t.$items.eq(0).filter('[data-module="Rail"]').trigger(st.RESUME)}),m.on(rt.GOTO,function(e){t.$items.filter(".".concat(lt)).addClass(ht).removeClass(lt),void 0!==t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout(function(){var i=t.$items.filter(".".concat(ht));i.removeClass(ht),i.find('[data-module="Rail"]').trigger(st.PAUSE),i.filter('[data-module="Rail"]').trigger(st.PAUSE);var n=t.$items.eq(e.options.index);n.addClass(lt),n.find('[data-module="Rail"]').trigger(st.RESUME),n.filter('[data-module="Rail"]').trigger(st.RESUME)},600)})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),clearTimeout(this.timeout),m.off(".".concat(at))}}]),e}(),ut="".concat(p,".").concat("Rope"),dt={SET:"set.".concat(ut),GRAB:"grab.".concat(ut),RELEASE:"release.".concat(ut),INVIEW:"inview.".concat("Rope")},ft=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).delay=t.delay,n.color=t.color,n.auto=t.auto,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.dpr=Math.min(window.devicePixelRatio,2),this.canvas=this.el,this.ctx=this.canvas.getContext("2d"),this.width=this.$el.width()*this.dpr,this.height=this.$el.height()*this.dpr,this.canvas.width=this.width,this.canvas.height=this.height,this.point={x:this.width/2,y:this.height/2},m.on(dt.SET,function(e){return t.set(e)}),m.on(dt.GRAB,function(e){return t.grab(e)}),m.on(dt.RELEASE,function(){return t.release()}),this.$el.on(dt.INVIEW,function(e){return t.animate(t.height)}),this.auto&&(v.hasClass("-first")?this.animate(0):setTimeout(function(){t.animate(0)},600)),this.render()}},{key:"set",value:function(t){var e=this;void 0!==this.tw&&this.tw.kill(),void 0!==this.animation&&this.animation.kill(),this.point.y=2*t.options.y+this.height/2,this.raf=requestAnimationFrame(function(){return e.render()})}},{key:"animate",value:function(t){var e=this;void 0!==this.animation&&this.animation.kill(),this.animation=new TimelineMax({delay:this.delay}),this.animation.eventCallback("onUpdate",function(){return e.render()}),this.animation.to(this.point,.3,{y:t,ease:Power0.easeNone}),this.animation.to(this.point,3,{y:this.height/2,ease:Elastic.easeOut.config(.8,.2)})}},{key:"release",value:function(){var t=this;void 0!==this.tw&&this.tw.kill(),this.tw=TweenMax.to(this.point,2,{y:this.height/2,ease:Elastic.easeOut.config(1.5,.2)}),this.tw=this.tw.eventCallback("onUpdate",function(){return t.render()})}},{key:"render",value:function(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.beginPath(),this.ctx.lineWidth=1*this.dpr,this.ctx.strokeStyle=this.color,this.ctx.moveTo(0,this.height/2),this.ctx.quadraticCurveTo(this.point.x,this.point.y,this.width,this.height/2),this.ctx.stroke()}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),void 0!==this.animation&&this.animation.kill(),void 0!==this.tw&&this.tw.kill(),cancelAnimationFrame(this.raf),this.$el.off(".".concat(ut)),m.off(".".concat(ut))}}]),e}(),pt="".concat(p,".").concat("HomeLinkSlider"),mt={CLICK:"click.".concat(pt),MOUSEENTER:"mouseenter.".concat(pt),MOUSELEAVE:"mouseleave.".concat(pt),UPDATE:"update.".concat(pt),HOVER:"hover.".concat(pt)},gt="has-slider-hover",vt=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).noHover=t["no-hover"],n.tap=t.tap,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.noHover||(this.$el.on(mt.MOUSEENTER,function(){m.triggerHandler({type:F.ENTER}),m.triggerHandler({type:mt.HOVER,options:{value:"enter"}}),v.addClass(gt)}),this.$el.on(mt.MOUSELEAVE,function(){m.triggerHandler({type:F.LEAVE}),m.triggerHandler({type:mt.HOVER,options:{value:"leave"}}),v.removeClass(gt)})),this.tap&&(this.$el.on(mt.CLICK,function(t){t.preventDefault(),t.stopPropagation()}),this.hammerManager=new Hammer.Manager(this.el),this.hammerManager.add(new Hammer.Tap({})),this.onTap=function(e){m.triggerHandler({type:St.GOTO,target:t.el})},this.hammerManager.on("tap",this.onTap)),m.on(mt.UPDATE,function(e){-1!=e.options.url.indexOf("http")?t.$el.attr("target","_blank"):t.$el.attr("target",null),t.$el.toggleClass("is-visible",0<e.options.url.length),t.$el.attr("href",e.options.url)})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.hammerManager&&(this.hammerManager.off("tap",this.onTap),this.hammerManager.destroy(),this.hammerManager=null),this.$el.off(".".concat(pt)),m.off(".".concat(pt))}}]),e}(),yt="".concat(p,".").concat("FancySlider"),wt={CLICK:"click.".concat(yt),GOING_TO:"goingTo.".concat(yt),KILL:"kill.".concat(yt),KEYDOWN:"keydown.".concat(yt),RESIZE:"resize.".concat(yt)},Tt="has-slider-grabbing",Et=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).progressTarget=0,n.grabbed=!1,n.lerpFactors={visuals:.2,color:.1},n.getDeltaScreenDivider=function(){return window.innerHeight/2},n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;setTimeout(function(){t.initElements(),t.initColorTween(),t.initTween(),t.progressTarget=-.125,t.initLerp(),t.startTimer(),t.launch(),t.setCurrentSlide(0)},400)}},{key:"initElements",value:function(){this.elBCR=this.$el[0].getBoundingClientRect(),this.$visuals=this.$el.find(".js-visuals"),this.$visualsList=this.$el.find(".js-visuals-list"),this.$visualsItem=this.$el.find(".js-visuals-item"),this.visualsListBCR=this.$visualsList[0].getBoundingClientRect(),window.isTouch?this.visualsListSizeRelativeToViewport=this.visualsListBCR.width/this.elBCR.width:this.visualsListSizeRelativeToViewport=this.visualsListBCR.height/this.elBCR.height,this.items=[];for(var t=0;t<this.$visualsItem.length;t++){var e,i=new G(this.$visualsItem.eq(t)),n=i.$visual[0].getBoundingClientRect();e=window.isTouch?(n.left-this.elBCR.left)/this.elBCR.width:(n.top-this.elBCR.top)/this.elBCR.height,i.coords=parseFloat((e/this.visualsListSizeRelativeToViewport).toFixed(6)),i.color=this.$visualsItem.eq(t).data("color"),i.url=this.$visualsItem.eq(t).attr("data-url"),this.items.push(i)}this.percentageTable=[];for(var s=0;s<this.items.length;s++){var o,a=this.items[s].coords;o=0==s?this.items[this.items.length-1].coords:this.items[s-1].coords;var r;r=s==this.items.length-1?this.items[0].coords:this.items[s+1].coords,this.percentageTable[s]={min:o,mid:a,max:r}}}},{key:"initEvents",value:function(){var t=this;this.manageDragAndDrop(),this.manageKeyboard(),this.manageResize(),m.on(wt.GOING_TO,function(e){t.triggerEvents(e.options.index),v.removeClass(Tt)}),this.onHomeLinkSliderHoverBind=function(e){"enter"==e.options.value?t.pauseTimer():t.resumeTimerCountdown()},m.on(mt.HOVER,this.onHomeLinkSliderHoverBind),m.on(wt.KILL,function(){return t.kill()})}},{key:"initTween",value:function(){var t=this;this.masterTween=new TimelineMax({onUpdate:function(){var e=t.masterTween.progress();for(var i in t.items){var n=t.percentageTable[i],s=void 0;if(n.mid>n.max&&(e>n.mid||e<n.max)){var o=n.mid,a=n.max,r=e;a<o&&(r<(a=a+1-o)?r=r+1-o:r-=o,o-=o),s=(r-o)/(a-o),s*=.5,s+=.5}else if(n.min>n.mid&&(e>n.min||e<n.mid)){var l=n.min,h=n.mid,c=e;h<l&&(c<(h=h+1-l)?c=c+1-l:c-=l,l-=l),s=(c-l)/(h-l),s*=.5}else if(e<n.mid){var u=n.min;s=(e-u)/(n.mid-u),s*=.5}else{var d=n.mid;s=(e-d)/(n.max-d),s*=.5,s+=.5}s<0?s=0:1<s&&(s=1),t.items&&t.items[i]&&t.items[i].tweenVisual&&t.items[i].tweenVisual.progress&&t.items[i].tweenVisual.progress(s)}}}),this.masterTween.addLabel("start",0),window.isTouch?this.masterTween.fromTo([this.$visualsList],10,{x:"0%"},{x:"-100%",force3D:!0,ease:Linear.easeNone},"start"):this.masterTween.fromTo([this.$visualsList],10,{y:"0%"},{y:"-100%",force3D:!0,ease:Linear.easeNone},"start"),this.masterTween.progress(.01).progress(0).pause()}},{key:"initColorTween",value:function(){var t=this;this.flag={offset:0},this.color=JSON.parse(JSON.stringify(this.items[0].color)),this.colorTween=new TimelineMax({onUpdate:function(){m.triggerHandler({type:F.UPDATE_COLOR,options:t.color}),m.triggerHandler({type:F.SET,options:{offset:t.flag.offset}})}});for(var e=0;e<this.items.length/2;e++){var i=e+1;i>=this.items.length/2&&(i=0),this.colorTween.fromTo(this.flag,.5,{offset:.8},{offset:0,ease:Linear.easeNone},e),this.colorTween.fromTo(this.flag,.5,{offset:0},{offset:-.8,ease:Linear.easeNone},e+.5),this.colorTween.fromTo(this.color,1,{r:this.items[e].color.r,g:this.items[e].color.g,b:this.items[e].color.b},{r:this.items[i].color.r,g:this.items[i].color.g,b:this.items[i].color.b,ease:Linear.easeNone},e)}this.colorTween.progress(0),this.colorTween.pause()}},{key:"initLerp",value:function(){var t=this;this.updateRAF=function(){var e=V(t.masterTween.progress(),t.getClosestInfiniteCoord(t.progressTarget,t.masterTween.progress()),t.lerpFactors.visuals);e<0?e=1-Math.abs(e):1<e&&(e=Math.abs(e)-1),t.masterTween.progress(e);var i=V(t.colorTween.progress(),t.getClosestInfiniteCoord(t.progressTarget,t.colorTween.progress()),t.lerpFactors.color);i<0?i=1-Math.abs(i):1<i&&(i=Math.abs(i)-1),t.colorTween.progress(i),t.raf=requestAnimationFrame(t.updateRAF)},this.updateRAF()}},{key:"setCurrentSlide",value:function(t){-1==t&&console.error(t),this.items[this.currentSlide]&&(this.items[this.currentSlide].current=!1),this.currentSlide=t,this.items[this.currentSlide].current=!0}},{key:"launch",value:function(){var t=this;this.initEvents(),this.goTo(0),setTimeout(function(){m.triggerHandler({type:mt.UPDATE,options:{url:t.$visualsItem.eq(0).attr("data-url")}})},300)}},{key:"goTo",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:CustomEase.create("custom","M0,0,C0.378,0,0.192,1,1,1");this.canScroll=!1,this.setCurrentSlide(t);var s={value:this.progressTarget};this.throwTween=TweenMax.to(s,i,{value:this.getClosestInfiniteCoord(this.items[t].coords),ease:n,onUpdate:function(){var t=s.value;t<0?t=1-Math.abs(t):1<t&&(t=Math.abs(t)-1),e.progressTarget=t},onComplete:function(){e.grabbed=!1,e.canScroll=!0,e.timerPaused?e.resumeTimerCountdown():e.interval&&e.interval.restart&&e.interval.restart()}})}},{key:"goToNext",value:function(t){var e;e=this.currentSlide==this.items.length-1?0:this.currentSlide+1,this.goTo(e,1.4,t),m.triggerHandler({type:F.TRIGGER,options:{direction:"next"}}),m.triggerHandler({type:wt.GOING_TO,options:{index:e}})}},{key:"goToPrev",value:function(t){var e;e=0==this.currentSlide?this.items.length-1:this.currentSlide-1,this.goTo(e,1.4,t),m.triggerHandler({type:F.TRIGGER,options:{direction:"prev"}}),m.triggerHandler({type:wt.GOING_TO,options:{index:e}})}},{key:"triggerEvents",value:function(t){m.triggerHandler({type:rt.GOTO,options:{index:t}}),m.triggerHandler({type:mt.UPDATE,options:{url:this.items[t].url}})}},{key:"startTimer",value:function(){var t=this;this.$sliderProgress=$(".js-fancy-slider-progress"),this.timerStatus={progress:0},this.interval=TweenMax.fromTo(this.timerStatus,6,{progress:0},{progress:1,ease:Linear.easeNone,onStart:function(){TweenMax.to(t.$sliderProgress,.5,{opacity:1,ease:Linear.easeNone})},onComplete:function(){TweenMax.to(t.$sliderProgress,.5,{opacity:0,ease:Linear.easeNone}),t.goToNext()},onUpdate:function(){TweenMax.set(t.$sliderProgress,{scaleX:t.timerStatus.progress})}})}},{key:"resumeTimer",value:function(){this.timerPaused&&this.interval&&(clearTimeout(this.delayTimerTimeout),this.interval.restart(),this.timerPaused=!1)}},{key:"resumeTimerCountdown",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3;this.timerPaused&&this.interval&&(clearTimeout(this.delayTimerTimeout),this.delayTimerTimeout=setTimeout(function(){t.interval.restart(),t.timerPaused=!1},e))}},{key:"pauseTimer",value:function(){this.interval&&(TweenMax.to(this.$sliderProgress,.5,{scaleX:0}),this.timerPaused=!0,this.interval.pause(),clearTimeout(this.delayTimerTimeout))}},{key:"manageResize",value:function(){var t=this;this.checkResize=function(){t.resizeTick||(requestAnimationFrame(function(){!function(){var e=t.masterTween.progress();t.masterTween.progress(0);var i=!0,n=!1,s=void 0;try{for(var o,a=t.items[Symbol.iterator]();!(i=(o=a.next()).done);i=!0)o.value.initTweens()}catch(e){n=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}t.masterTween.progress(e)}(),t.resizeTick=!1}),t.resizeTick=!0)},g.on(wt.RESIZE,this.checkResize),this.$el.find("img").each(function(e,i){i.onload=t.checkResize.bind(t)})}},{key:"manageDragAndDrop",value:function(){var t=this;this.panManager=new Hammer.Manager(this.el,{inputClass:Hammer.TouchMouseInput}),this.panManager.add(new Hammer.Pan({direction:window.isTouch?Hammer.DIRECTION_HORIZONTAL:Hammer.DIRECTION_VERTICAL,threshold:window.isTouch?10:0})),this.onPanStart=function(e){t.pauseTimer(),t.$el.toggleClass("grabbed",!0),t.grabbed=!0,t.thrown=!1,t.throwTween&&t.throwTween.kill&&t.throwTween.kill(),t.progressOnGrabStart=t.progressTarget,m.triggerHandler({type:F.GRAB}),v.addClass(Tt)},this.panManager.on("panstart",this.onPanStart),this.onPanMove=function(e){if(t.grabbed){var i,n;window.isTouch?(i=e.deltaX/t.getDeltaScreenDivider()/t.items.length,n=t.progressOnGrabStart-i,t.panSpeed=e.velocityX):(i=e.deltaY/t.getDeltaScreenDivider()/t.items.length,n=t.progressOnGrabStart-i,t.panSpeed=e.velocityY),n<0?n=1-Math.abs(n):1<n&&(n=Math.abs(n)-1),t.progressTarget=n;var s=100*(e.center.y-t.$el.height()/2)/t.$el.height();m.triggerHandler({type:dt.SET,options:{y:s}})}},this.panManager.on("panstart panmove",this.onPanMove),this.onPanEnd=function(e){t.grabbed&&(t.$el.toggleClass("grabbed",!1),t.thrown=!0,t.speed=t.panSpeed,t.grabbEnd=Date.now(),t.lastUpdateAfterThrow=t.grabbEnd,t.resumeTimerCountdown(),t.updateAfterThrow(),m.triggerHandler({type:F.RELEASE}),m.triggerHandler({type:dt.RELEASE}))},this.panManager.on("panend",this.onPanEnd)}},{key:"manageKeyboard",value:function(){var t=this;m.on(wt.KEYDOWN,function(e){if(t.canScroll)switch(e.keyCode){case 40:t.pauseTimer(),t.goToNext();break;case 38:t.pauseTimer(),t.goToPrev()}})}},{key:"updateAfterThrow",value:function(){var t=this,e=Date.now(),i=e-this.lastUpdateAfterThrow,n=this.speed*i/this.getDeltaScreenDivider()/this.items.length,s=this.progressTarget-n;if(s<0?s=1-Math.abs(s):1<s&&(s=Math.abs(s)-1),this.progressTarget=s,this.speed*=.88,Math.abs(this.speed)<.01){this.thrown=!1;var o=M(this.progressTarget,this.getInfiniteCoords());o<0?o=1-Math.abs(o):1<o&&(o=Math.abs(o)-1);var a=this.items.find(function(t){if(t.coords==parseFloat((o%1).toFixed(6)))return!0});this.goTo(this.items.indexOf(a),.5,Power2.easeOut),m.triggerHandler({type:wt.GOING_TO,options:{index:this.items.indexOf(a)}})}else if(e>=this.grabbEnd+50){this.thrown=!1,this.canScroll=!1;var r=1e3*this.speed/this.getDeltaScreenDivider()/this.items.length,l={value:this.progressTarget};this.throwTween&&this.throwTween.kill&&this.throwTween.kill(),this.throwTween=TweenMax.to(l,1.33,{throwProps:{value:{velocity:-r,end:function(e){var i=M(e,t.getInfiniteCoords()),n=t.getCoordFromInfiniteCoord(i),s=t.items.map(function(t){return t.coords}).indexOf(parseFloat((n%1).toFixed(6)));return m.triggerHandler({type:wt.GOING_TO,options:{index:s}}),i}}},ease:Power4.easeOut,onUpdate:function(){var e=l.value;e<0?e=1-Math.abs(e):1<e&&(e=Math.abs(e)-1),t.progressTarget=e},onComplete:function(){t.grabbed=!1,t.canScroll=!0;var e=t.items.map(function(t){return t.coords});0==t.items[0].coords&&e.push(1);var i=M(t.progressTarget,e);t.setCurrentSlide(e.indexOf(i)%t.items.length),t.goTo(t.currentSlide,0),t.timerPaused?t.resumeTimerCountdown():t.interval&&t.interval.restart&&t.interval.restart()}})}this.lastUpdateAfterThrow=e,!this.toDestroy&&this.thrown&&0!=this.speed&&requestAnimationFrame(this.updateAfterThrow.bind(this))}},{key:"getInfiniteCoords",value:function(){var t=f(new Set(this.items.map(function(t){return t.coords})));return f(new Set([].concat(f(t.map(function(t){return t-1})),f(t),f(t.map(function(t){return t+1}))))).sort(function(t,e){return t-e})}},{key:"getClosestInfiniteCoord",value:function(t,e){return t=parseFloat((t%1).toFixed(6)),null==e&&(e=this.progressTarget),M(e,[t-1,t,t+1])}},{key:"getCoordFromInfiniteCoord",value:function(t){return t<0?t+1:2<=t?t-1:t}},{key:"kill",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,s=this.items[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var o=n.value;o.destroy(),o=null}}catch(t){e=!0,i=t}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}g.off(".fancySlider"),m.off(".fancySlider")}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),clearTimeout(this.delayTimerTimeout),this.interval.kill(),this.masterTween.kill(),this.throwTween&&this.throwTween.kill&&this.throwTween.kill(),this.panManager.off("panstart",this.onPanStart),this.panManager.off("panstart panmove",this.onPanMove),this.panManager.off("panend",this.onPanEnd),this.panManager.destroy(),this.panManager=null,g.off(wt.RESIZE,this.checkResize),this.$el.off(".".concat(yt)),m.off(".".concat(yt)),window.cancelAnimationFrame(this.raf),m.off(mt.HOVER,this.onHomeLinkSliderHoverBind)}}]),e}(),kt="".concat(p,".").concat("Load"),St={CLICK:"click.".concat(kt),GOTO:"goto.".concat(kt),RESIZE:"resize.".concat(kt),INIT_MODULES:"initModules.".concat(kt),INIT_SCOPED_MODULES:"initScopedModules.".concat(kt),DELETE_SCOPED_MODULES:"deleteScopedModules.".concat(kt),INIT_GLOBALS:"initGlobals.".concat(kt),READYTOANIMATE:"readyToAnimate.".concat(kt),PAGE_CHANGE:"pageChange.".concat(kt)},bt=function(t){function e(t){return i(this,e),c(this,l(e).call(this,t))}return r(e,A),s(e,[{key:"init",value:function(){var t=new I({enterDelay:1e3,loadingClass:"has-dom-loading",loadedClass:"has-dom-ready",readyClass:"has-dom-animated",transitionsPrefix:"is-transition-",transitions:{nav:{},play:{exitDelay:1600},back:{},project:{},projectList:{enterDelay:0},playArticle:{enterDelay:100,loadingClass:"is-loading",loadedClass:"is-loaded",readyClass:"is-animated"}}});t.on("loading",function(t){v.removeClass("has-nav-open is-not-top -first ui-light ui-dark has-quick-menu"),TweenMax.set(w,{clearProps:"background-color"}),m.triggerHandler({type:St.PAGE_CHANGE}),"playArticle"!=t&&"projectList"!=t&&v.removeClass("has-dom-loaded"),"project"==t?(m.triggerHandler({type:F.GROW}),m.triggerHandler({type:wt.KILL})):$(".js-preloader-background").css({"background-color":"black"})}),t.on("loaded",function(t,e,i){m.triggerHandler({type:St.DELETE_SCOPED_MODULES,$scope:$(e)}),window.scroll={x:0,y:0,direction:null,limit:0},m.triggerHandler({type:St.INIT_SCOPED_MODULES,$scope:$(i)}),setTimeout(function(){v.addClass("has-dom-loaded"),v.removeClass("has-dom-loading")},600),"play"==v.attr("data-template")?setTimeout(function(){m.triggerHandler({type:D.COLOR_SCHEME,options:{scheme:B}})},300):m.triggerHandler({type:D.COLOR_SCHEME,options:{scheme:N}}),"default"==v.attr("data-pageColor")?TweenMax.set(w,{clearProps:"background-color"}):TweenMax.set(w,{backgroundColor:v.attr("data-pageColor")}),"projectList"===t&&$(".c-projectList_wrapper").removeClass("has-dom-loading")}),t.on("ready",function(t,e){"projectList"===t&&(m.triggerHandler({type:Q.REBUILD}),m.triggerHandler({type:Q.SCROLLTO,options:{targetElem:$(".js-project-list")}}),g.triggerHandler({type:"resize"})),m.triggerHandler({type:St.READYTOANIMATE}),window.ga&&ga("send","pageview")}),t.on("images",function(){requestAnimationFrame(function(){requestAnimationFrame(function(){g.triggerHandler({type:"resize"})})})}),m.on(St.GOTO,function(e){t.checkClick(e)})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),m.off(".".concat(kt))}}]),e}(),Ct=Object.getOwnPropertySymbols,xt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,$t=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,n,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var a in i=Object(arguments[o]))xt.call(i,a)&&(s[a]=i[a]);if(Ct){n=Ct(i);for(var r=0;r<n.length;r++)Mt.call(i,n[r])&&(s[n[r]]=i[n[r]])}}return s};function Lt(){}Lt.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function s(){n.off(t,s),e.apply(i,arguments)}return s._=e,this.on(t,s,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var o=0,a=n.length;o<a;o++)n[o].fn!==e&&n[o].fn._!==e&&s.push(n[o]);return s.length?i[t]=s:delete i[t],this}};var Rt=Lt,Ot=k(function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),0<e?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,s,o,a,r;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),r=n.reduce(function(t,e){return t+e}),o=i.reduce(function(t,e){return t+e}),a=r/n.length,s=o/i.length,Math.abs(a)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(E)}),It="onwheel"in document,Pt="onmousewheel"in document,At="ontouchstart"in document,jt=navigator.msMaxTouchPoints&&1<navigator.msMaxTouchPoints,Ht=!!window.navigator.msPointerEnabled,Dt="onkeydown"in document,Nt=-1<navigator.userAgent.indexOf("Firefox"),Bt=Object.prototype.toString,_t=Object.prototype.hasOwnProperty;function Ut(t,e){return function(){return t.apply(e,arguments)}}var zt=Ot.Lethargy,Ft="virtualscroll",Wt=Gt;function Gt(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)_t.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==Bt.call(t[i])&&e.push(i);for(var n=0;n<e.length;n++){var s=e[n];t[s]=Ut(t[s],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=$t({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0},t),this.options.limitInertia&&(this._lethargy=new zt),this._emitter=new Rt,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}Gt.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(Ft,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},Gt.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,Nt&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},Gt.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},Gt.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},Gt.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,n=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(n.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(n.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=n.pageX,this.touchStartY=n.pageY,this._notify(t)},Gt.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case 37:case 38:e.deltaY=this.options.keyStep;break;case 39:case 40:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case 32:e.deltaY=-i;break;default:return}this._notify(t)},Gt.prototype._bind=function(){It&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),Pt&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),At&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),Ht&&jt&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),Dt&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},Gt.prototype._unbind=function(){It&&this.el.removeEventListener("wheel",this._onWheel),Pt&&this.el.removeEventListener("mousewheel",this._onMouseWheel),At&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),Ht&&jt&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),Dt&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},Gt.prototype.on=function(t,e){this._emitter.on(Ft,t,e);var i=this._emitter.e;i&&i[Ft]&&1===i[Ft].length&&this._bind()},Gt.prototype.off=function(t,e){this._emitter.off(Ft,t,e);var i=this._emitter.e;(!i[Ft]||i[Ft].length<=0)&&this._unbind()},Gt.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},Gt.prototype.destroy=function(){this._emitter.off(),this._unbind()};var Vt=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).isReversed=t.reversed||J.reversed,n.getDirection=t.getDirection||J.getDirection,n.getSpeed=t.getSpeed||J.getSpeed,n.inertia=t.inertia||J.inertia,n.scrollBarClassName=t.scrollBarClassName||J.scrollBarClassName,n.isScrollingClassName=t.isScrollingClassName||J.isScrollingClassName,n.parallaxElements=[],n.isDraggingScrollBar=!1,n}return r(e,tt),s(e,[{key:"init",value:function(){var t=this;v.addClass("has-smooth-scroll"),this.instance=new Wt({mouseMultiplier:-1<navigator.platform.indexOf("Win")?1:.4,touchMultiplier:4,firefoxMultiplier:30}),this.inertia=.1*this.inertia,this.instance.scroll={x:0,y:0,direction:null},this.instance.delta={x:0,y:0},this.getSpeed&&(this.instance.scroll.speed=0),this.instance.on(function(e){t.stop||t.isDraggingScrollBar||(t.instance.delta.y-=e.deltaY,t.isScrolling=!0,T.classList.add(t.isScrollingClassName),t.instance.delta.y<0&&(t.instance.delta.y=0),t.instance.delta.y>t.instance.limit&&(t.instance.delta.y=t.instance.limit))}),this.setScrollLimit(),this.initScrollBar(),this.addElements(),this.events(),this.preloadImages(),this.timestamp=Date.now(),this.render()}},{key:"events",value:function(){var t=this;this.$container.on(Q.REBUILD,function(){t.update()}),this.$container.on(Q.UPDATE,function(e,i){return t.update(i)}),this.$container.on(Q.CLICK,".js-scrollto",function(e){e.preventDefault();var i=$(e.currentTarget),n=i.data("offset");t.scrollTo({sourceElem:i,offsetElem:n})}),this.$container.on(Q.SCROLLTO,function(e){return t.scrollTo(e.options)}),m.triggerHandler({type:Q.ISREADY}),g.on(Q.RESIZE,function(){t.update()}),this.$container.on(Q.STOP,function(){t.stop=!0}),this.$container.on(Q.START,function(){t.stop=!1})}},{key:"initScrollBar",value:function(){var t=this;this.scrollbarWrapper=document.createElement("span"),this.scrollbar=document.createElement("span"),this.scrollbarWrapper.classList.add("".concat(this.scrollBarClassName,"_wrapper")),this.scrollbar.classList.add("".concat(this.scrollBarClassName)),this.scrollbarWrapper.append(this.scrollbar),document.body.append(this.scrollbarWrapper),this.scrollbar.style.height="".concat(window.innerHeight*window.innerHeight/this.instance.limit,"px"),this.scrollBarLimit=window.innerHeight-this.scrollbar.getBoundingClientRect().height,this.scrollbar.addEventListener("mousedown",function(e){return t.getScrollBar(e)}),window.addEventListener("mouseup",function(e){return t.releaseScrollBar(e)}),window.addEventListener("mousemove",function(e){return t.moveScrollBar(e)})}},{key:"reinitScrollBar",value:function(){this.scrollbar.style.height="".concat(window.innerHeight*window.innerHeight/this.instance.limit,"px"),this.scrollBarLimit=window.innerHeight-this.scrollbar.getBoundingClientRect().height}},{key:"destroyScrollBar",value:function(){var t=this;this.scrollbar.removeEventListener("mousedown",function(e){return t.getScrollBar(e)}),window.removeEventListener("mouseup",function(e){return t.releaseScrollBar(e)}),window.removeEventListener("mousemove",function(e){return t.moveScrollBar(e)})}},{key:"getScrollBar",value:function(t){this.isScrolling=!1,this.isDraggingScrollBar=!0,T.classList.remove(this.isScrollingClassName)}},{key:"releaseScrollBar",value:function(t){this.isScrolling=!0,this.isDraggingScrollBar=!1,T.classList.add(this.isScrollingClassName)}},{key:"moveScrollBar",value:function(t){if(this.isDraggingScrollBar){var e=100*t.pageY/window.innerHeight*this.instance.limit/100;0<e&&e<this.instance.limit&&(this.instance.delta.y=e)}}},{key:"addElements",value:function(){this.animatedElements=[],this.parallaxElements=[];for(var t=$(this.selector),e=t.length,i=0;i<e;i++){var n=t.eq(i),s=!!n.attr("data-speed")&&n.attr("data-speed")/10,o=(n.attr("data-position"),n.attr("data-target")),a=(n.attr("data-horizontal"),"string"==typeof n.attr("data-sticky")),r=n.attr("data-sticky-target"),l=o&&$(o).length?$(o):n,h=l.offset().top+this.instance.scroll.y,c=h+l.outerHeight(),u=null;"string"==typeof n.attr("data-viewport-offset")&&(u=n.attr("data-viewport-offset").split(","));var d="string"==typeof n.attr("data-callback")?n.attr("data-callback"):null,f=null;if(null!=d){for(var p=d.substr(0,d.indexOf("(")),m=d.substr(d.indexOf("("),d.length-p.length),g=(m=(m=m.replace("(","")).replace(")","")).split("|"),v={},y=0;y<g.length;y++){var w=g[y].split(":");w[0]=w[0].replace(" ","");var T;T="true"===w[1]||"false"!==w[1]&&(/^\d+$/.test(w[1])?parseInt(w[1]):w[1]),v[w[0]]=T}f={event:p,options:v}}var E="string"==typeof n.attr("data-repeat"),k=n.attr("data-inview-class");void 0===k&&(k="is-show"),!o&&n.attr("data-transform")&&(c=(h-=parseFloat(n.attr("data-transform").y))+l.outerHeight()),a&&(c=void 0===r?1/0:$(r).offset().top-n.height()+this.instance.scroll.y);var S={$element:n,inViewClass:k,limit:c,offset:Math.round(h),repeat:E,callback:f,viewportOffset:u};if(!1!==s){var b=n.attr("data-position"),C="string"==typeof n.attr("data-horizontal"),x=(c-h)/2+h,M=n.attr("data-delay");S.horizontal=C,S.middle=x,S.offset=h,S.position=b,S.speed=s,S.delay=M,this.parallaxElements.push(S)}else S.sticky=a,this.animatedElements.push(S),a&&this.toggleElement(S)}}},{key:"render",value:function(t,e){var i=this;this.raf=requestAnimationFrame(function(){return i.render()}),this.isScrolling?this.instance.scroll.y=this.lerp(this.instance.scroll.y,this.instance.delta.y,this.inertia):this.isDraggingScrollBar?this.instance.scroll.y=this.lerp(this.instance.scroll.y,this.instance.delta.y,.2):this.instance.scroll.y=this.lerp(this.instance.scroll.y,this.instance.delta.y,.5*this.inertia),this.$container.css({"-webkit-transform":"translate3d(0, ".concat(-this.instance.scroll.y,"px, 0)"),"-ms-transform":"translate3d(0, ".concat(-this.instance.scroll.y,"px, 0)"),transform:"translate3d(0, ".concat(-this.instance.scroll.y,"px, 0)")}),this.getDirection&&(this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.scroll.direction&&(this.instance.scroll.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.scroll.direction&&(this.instance.scroll.direction="up")),this.getSpeed&&(this.instance.delta.y!==this.instance.scroll.y?(this.instance.scroll.speed=(this.instance.delta.y-this.instance.scroll.y)/(Date.now()-this.timestamp),this.instance.delta.y=this.instance.delta.y):this.instance.scroll.speed=0),Math.abs(this.instance.scroll.y-this.instance.delta.y)<1&&T.classList.remove(this.isScrollingClassName),this.transformElements(t),this.animateElements(),this.callbacks.onScroll(this.instance),this.timestamp=Date.now();var n=this.instance.scroll.y/this.instance.limit*this.scrollBarLimit;this.scrollbar.style.transform="translate3d(0,".concat(n,"px,0)")}},{key:"lerp",value:function(t,e,i){return(1-i)*t+i*e}},{key:"scrollTo",value:function(t){var e=this,i=t.targetElem,n=t.sourceElem,s=t.offsetElem,o=b(t.targetOffset)?parseInt(t.targetOffset):0,a=b(t.delay)?parseInt(t.delay):0,r=(b(t.speed)&&parseInt(t.speed),t.toTop),l=t.toBottom,h=0;if(void 0===i&&void 0===n&&void 0===o)return console.warn("You must specify at least one parameter."),!1;if(void 0!==i&&i instanceof jQuery&&0<i.length&&(o=i.offset().top+this.instance.scroll.y+o),void 0!==n&&n instanceof jQuery&&0<n.length){var c;c=n.attr("data-target")?n.attr("data-target"):n.attr("href"),o=$(c).offset().top+this.instance.scroll.y+o}void 0!==s&&(h=$(s).outerHeight(),o-=h),!0===r?o=0:!0===l&&(o=this.instance.limit),setTimeout(function(){e.isScrolling=!1,e.instance.delta.y=o,T.classList.remove(e.isScrollingClassName)},a)}},{key:"setScrollLimit",value:function(){this.instance.limit=this.$container[0].offsetHeight-this.windowHeight}},{key:"transformElement",value:function(t,e,i,n,s){if(e=e||0,i=i||0,n=n||0,s){var o=this.getTranslate(t[0]),a=this.lerp(o.y,i,s),r=this.lerp(o.x,e,s);t.css({"-webkit-transform":"translate3d(".concat(r,"px, ").concat(a,"px, ").concat(n,"px)"),"-ms-transform":"translate3d(".concat(r,"px, ").concat(a,"px, ").concat(n,"px)"),transform:"translate3d(".concat(r,"px, ").concat(a,"px, ").concat(n,"px)")}).data("transform",{x:r,y:a,z:n})}else t.css({"-webkit-transform":"translate3d(".concat(e,"px, ").concat(i,"px, ").concat(n,"px)"),"-ms-transform":"translate3d(".concat(e,"px, ").concat(i,"px, ").concat(n,"px)"),transform:"translate3d(".concat(e,"px, ").concat(i,"px, ").concat(n,"px)")}).data("transform",{x:e,y:i,z:n})}},{key:"getTranslate",value:function(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),n=i.transform||i.webkitTransform||i.mozTransform,s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[13]):(s=n.match(/^matrix\((.+)\)$/),e.x=s?parseFloat(s[1].split(", ")[4]):0,e.y=s?parseFloat(s[1].split(", ")[5]):0,e)}}},{key:"transformElements",value:function(t){if(0<this.parallaxElements.length)for(var e=this.instance.scroll.y+this.windowHeight,i=this.instance.scroll.y+this.windowMiddle,n=0,s=this.parallaxElements.length;n<s;n++){var o=this.parallaxElements[n],a=!1,r=e+this.windowHeight>=o.offset&&this.instance.scroll.y<=o.limit;if(this.toggleElement(o,n),t&&!r&&o.speed&&"top"!==o.position&&(a=(o.offset-this.windowMiddle-o.middle)*-o.speed),r&&o.speed)switch(o.position){case"top":a=this.instance.scroll.y*-o.speed;break;case"bottom":a=(this.instance.limit-e+this.windowHeight)*o.speed;break;default:a=(i-o.middle)*-o.speed}b(a)&&(o.horizontal?this.transformElement(o.$element,a,0,0,o.delay):this.transformElement(o.$element,0,a,0,o.delay))}}},{key:"update",value:function(t){t=t||{},this.windowHeight=g.height(),this.windowMiddle=this.windowHeight/2,this.setScrollLimit(),this.addElements(),this.transformElements(!0),this.reinitScrollBar()}},{key:"setWheelDirection",value:function(t){this.scrollbar.reverseWheel(t)}},{key:"preloadImages",value:function(){var t=this,e=Array.from(document.querySelectorAll("img"));e.forEach(function(i){var n=document.createElement("img");n.addEventListener("load",function(){e.splice(e.indexOf(i),1),0===e.length&&t.update()}),n.src=i.getAttribute("src")})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),v.removeClass("has-smooth-scroll"),this.parallaxElements=[],this.instance.destroy(),cancelAnimationFrame(this.raf)}}]),e}(),qt=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).isDraggingClassName=t.isDraggingClassName||J.isDraggingClassName,n.isSmooth=!0,n}return r(e,Vt),s(e,[{key:"init",value:function(){var t=this;v.addClass("has-smooth-scroll"),this.instance=new Wt({mouseMultiplier:-1<navigator.platform.indexOf("Win")?1:.4,touchMultiplier:4,firefoxMultiplier:30}),this.inertia=.1*this.inertia,this.instance.scroll={x:0,y:0,direction:null},this.instance.delta={x:0,y:0},this.getSpeed&&(this.instance.scroll.speed=0),this.instance.on(function(e){t.isDraggingScrollBar||(t.instance.delta.y-=e.deltaY,t.isScrolling=!0,T.classList.add(t.isScrollingClassName),t.instance.delta.y<0&&(t.instance.delta.y=0),t.instance.delta.y>t.instance.limit&&(t.instance.delta.y=t.instance.limit))}),this.setScrollLimit(),this.initScrollBar(),this.addElements(),this.events(),this.preloadImages(),this.timestamp=Date.now(),this.render()}},{key:"events",value:function(){var t=this;this.$container.on(Q.REBUILD,function(){t.update()}),this.$container.on(Q.UPDATE,function(e,i){return t.update(i)}),this.$container.on(Q.CLICK,".js-scrollto",function(e){e.preventDefault();var i=$(e.currentTarget),n=i.data("offset");t.scrollTo({sourceElem:i,offsetElem:n})}),m.on(Q.SCROLLTO,function(e){return t.scrollTo(e.options)}),m.triggerHandler({type:Q.ISREADY}),g.on(Q.RESIZE,function(){t.update()})}},{key:"addElements",value:function(){this.animatedElements=[],this.parallaxElements=[];for(var t=$(this.selector),e=t.length,i=0;i<e;i++){var n=t.eq(i);TweenMax.set(n,{clearProps:"transform"});var s=!!b(n.attr("data-speed"))&&n.attr("data-speed")/10,o=(n.attr("data-position"),n.attr("data-target")),a=(n.attr("data-horizontal"),"string"==typeof n.attr("data-sticky")),r=n.attr("data-sticky-target"),l=o&&$(o).length?$(o):n,h=l.offset().top+this.instance.scroll.y,c=h+l.outerHeight(),u=null;"string"==typeof n.attr("data-viewport-offset")&&(u=n.attr("data-viewport-offset").split(","));var d="string"==typeof n.attr("data-callback")?n.attr("data-callback"):null,f=null;if(null!=d){for(var p=d.substr(0,d.indexOf("(")),m=d.substr(d.indexOf("("),d.length-p.length),g=(m=(m=m.replace("(","")).replace(")","")).split("|"),v={},y=0;y<g.length;y++){var w=g[y].split(":");w[0]=w[0].replace(" ","");var T;T="true"===w[1]||"false"!==w[1]&&(/^\d+$/.test(w[1])?parseInt(w[1]):w[1]),v[w[0]]=T}f={event:p,options:v}}var E="string"==typeof n.attr("data-repeat"),k=n.attr("data-inview-class");void 0===k&&(k="is-show"),!o&&n.attr("data-transform")&&(h-=parseFloat(n.attr("data-transform").y)),a&&(c=void 0===r?1/0:$(r).offset().top-n.outerHeight()+this.instance.scroll.y);var S={$element:n,inViewClass:k,limit:c,offset:Math.round(h),repeat:E,callback:f,viewportOffset:u};if(!1!==s){var C=n.attr("data-position"),x=n.attr("data-horizontal"),M=(c-h)/2+h;S.horizontal=x,S.middle=M,S.offset=h,S.position=C,S.speed=s,this.parallaxElements.push(S)}else S.sticky=a,this.animatedElements.push(S),a&&this.toggleElement(S)}}},{key:"transformElements",value:function(t){if(0<this.parallaxElements.length)for(var e=this.instance.scroll.y+this.windowHeight,i=this.instance.scroll.y+this.windowMiddle,n=0,s=this.parallaxElements.length;n<s;n++){var o=this.parallaxElements[n],a=e,r=!1,l=!1;if(l="full"===o.position?a>=o.offset&&a<=o.limit:a>=o.offset&&this.instance.scroll.y<=o.limit,this.toggleElement(o,n),t&&!l&&o.speed&&"top"!==o.position&&(r=(o.offset-this.windowMiddle-o.middle)*-o.speed),l&&o.speed)switch(o.position){case"top":r=this.instance.scroll.y*-o.speed;break;case"bottom":r=(this.instance.limit-a)*o.speed;break;case"after":r=(e-o.middle)*-o.speed;break;case"full":r=(a-o.limit)*o.speed;break;default:r=(i-o.middle)*-o.speed}else o.stickyScroll&&((l=a>o.limit)&&"down"==this.instance.scroll.direction&&this.stickyScrollDistance+o.limit<=a?(this.stickyScrollDistance=a-o.limit,r=this.stickyScrollDistance):"up"==this.instance.scroll.direction&&this.instance.scroll.y<=this.stickyScrollDistance&&(this.stickyScrollDistance=this.instance.scroll.y,r=this.instance.scroll.y));b(r)&&(o.horizontal?this.transformElement(o.$element,r):this.transformElement(o.$element,0,r))}}},{key:"render",value:function(t,e){var i=this;this.raf=requestAnimationFrame(function(){return i.render()}),this.isScrolling?this.instance.scroll.y=this.lerp(this.instance.scroll.y,this.instance.delta.y,this.inertia):this.isDraggingScrollBar?this.instance.scroll.y=this.lerp(this.instance.scroll.y,this.instance.delta.y,.2):this.instance.scroll.y=this.lerp(this.instance.scroll.y,this.instance.delta.y,this.inertia),this.callbacks.onScroll(this.instance.scroll);var n="matrix(1,0,0,1,0,".concat(-Math.round(this.instance.scroll.y),")");this.$container[0].style.webkitTransform=n,this.$container[0].style.MozTransform=n,this.$container[0].style.msTransform=n,this.$container[0].style.OTransform=n,this.$container[0].style.transform=n,this.getDirection&&(this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.scroll.direction&&(this.instance.scroll.direction="down",v.attr("data-direction","down")):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.scroll.direction&&(this.instance.scroll.direction="up",v.attr("data-direction","up"))),this.getSpeed&&(this.instance.delta.y!==this.instance.scroll.y?(this.instance.scroll.speed=(this.instance.delta.y-this.instance.scroll.y)/(Date.now()-this.timestamp),this.instance.delta.y=this.instance.delta.y):this.instance.scroll.speed=0),Math.abs(this.instance.scroll.y-this.instance.delta.y)<1&&T.classList.remove(this.isScrollingClassName),this.transformElements(t),this.animateElements(),this.timestamp=Date.now();var s=this.instance.scroll.y/this.instance.limit*this.scrollBarLimit;this.scrollbar.style.transform="translate3d(0,".concat(s,"px,0)")}},{key:"getScrollBar",value:function(t){this.isScrolling=!1,this.isDraggingScrollBar=!0,T.classList.remove(this.isScrollingClassName),T.classList.add(this.isDraggingClassName)}},{key:"releaseScrollBar",value:function(t){this.isScrolling=!0,this.isDraggingScrollBar=!1,T.classList.add(this.isScrollingClassName),T.classList.remove(this.isDraggingClassName)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),v.removeClass("has-smooth-scroll"),this.parallaxElements=[],this.instance.destroy(),this.scrollbarWrapper.remove(),cancelAnimationFrame(this.raf),m.off(Q.PAUSE),m.off(Q.RESUME),m.off(Q.UPDATE)}}]),e}(),Kt=function(){function t(e){i(this,t),this.options=e,this.smooth=e.smooth||J.smooth,this.smoothMobile=e.smoothMobile||J.smoothMobile,this.mobileContainer=e.mobileContainer||J.mobileContainer,this.isMobile=!1,this.init()}return s(t,[{key:"init",value:function(){var t=this;v[0].scrollTop=0,y[0].scrollTop=0,this.smoothMobile||(this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),this.instance=!0!==t.smooth||t.isMobile?(t.mobileContainer&&(t.options.container=t.mobileContainer),new tt(t.options)):new qt(t.options),this.instance.init();var e=$(".js-scrollto-on-load").first();1===e.length&&m.triggerHandler({type:"Event.SCROLLTO",options:{targetElem:e}})}},{key:"destroy",value:function(){this.instance.destroy()}}]),t}(),Yt="".concat(p,".").concat("Scroll"),Xt={TRIGGER_UI_DARK:"triggerUIDark.".concat(Yt),TRIGGER_UI_LIGHT:"triggerUILight.".concat(Yt),SHOW_QUICK_MENU:"showQuickMenu.".concat(Yt),HIDE_QUICK_MENU:"hideQuickMenu.".concat(Yt)},Zt="ui-dark",Qt="ui-light",Jt="has-quick-menu",te=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).mainScroll="string"==typeof t["main-scroll"],n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.timeout=setTimeout(function(){t.scrollManager=new Kt({container:t.$el,selector:".js-animate",smooth:!0,smoothMobile:!1,mobileContainer:m,getDirection:!0,getSpeed:!1,inertia:1,scrollBarClassName:"o-scrollbar",isScrollingClassName:"is-scrolling",isDraggingClassName:"is-dragging",onScroll:function(e){t.mainScroll&&(v.toggleClass("is-top",e.y<100),v.toggleClass("is-not-top",100<=e.y),window.scroll=e,m.triggerHandler({type:Q.SCROLLING}))}})},100),this.onUiDarkTrigger=function(t){null!=t.options.direction?window.scroll.direction===t.options.direction&&t.way===t.options.way&&(v.addClass(Zt),v.removeClass("".concat(Qt))):null==t.options.way?(v.addClass(Zt),v.removeClass("".concat(Qt))):t.way===t.options.way?(v.addClass(Zt),v.removeClass("".concat(Qt))):v.removeClass(Zt)},m.on(Xt.TRIGGER_UI_DARK,this.onUiDarkTrigger),this.onUiLightTrigger=function(t){null!=t.options.direction?window.scroll.direction===t.options.direction&&t.way===t.options.way&&(v.addClass(Qt),v.removeClass("".concat(Zt))):null==t.options.way?(v.addClass(Qt),v.removeClass("".concat(Zt))):t.way===t.options.way?(v.addClass(Qt),v.removeClass("".concat(Zt))):v.removeClass(Qt)},m.on(Xt.TRIGGER_UI_LIGHT,this.onUiLightTrigger),this.onShowQuickMenuTrigger=function(t){null!=t.options.direction&&window.scroll.direction===t.options.direction&&t.way===t.options.way&&v.addClass(Jt)},m.on(Xt.SHOW_QUICK_MENU,this.onShowQuickMenuTrigger),this.onHideQuickMenuTrigger=function(t){null!=t.options.direction&&window.scroll.direction===t.options.direction&&t.way===t.options.way&&v.removeClass(Jt)},m.on(Xt.HIDE_QUICK_MENU,this.onHideQuickMenuTrigger)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),m.off(Xt.TRIGGER_UI_DARK,this.onUiDarkTrigger),m.off(Xt.TRIGGER_UI_LIGHT,this.onUiLightTrigger),m.off(Xt.SHOW_QUICK_MENU,this.onShowQuickMenuTrigger),m.off(Xt.HIDE_QUICK_MENU,this.onHideQuickMenuTrigger),clearTimeout(this.timeout),this.scrollManager&&this.scrollManager.destroy&&this.scrollManager.destroy()}}]),e}(),ee=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}return r(e,A),s(e,[{key:"init",value:function(){this.$words=this.$el.find(".js-words"),this.$wordsReverse=this.$el.find(".js-words-reverse"),this.$words.length&&(this.tl=new TimelineMax({repeat:-1}),this.tl.to(this.$words,22,{x:"-100%",ease:Power0.easeNone,force3D:!0}),this.tl.to(this.$words,0,{x:0,force3D:!0})),this.$wordsReverse.length&&(this.tlReverse=new TimelineMax({repeat:-1}),this.tlReverse.to(this.$wordsReverse,0,{x:"-100%",force3D:!0}),this.tlReverse.to(this.$wordsReverse,22,{x:"0%",ease:Power0.easeNone,force3D:!0}))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this)}}]),e}(),ie="CursorZone",ne="".concat(p,".").concat(ie),se={CLICK:"click.".concat(ne),MOUSEENTER:"mouseenter.".concat(ne),MOUSELEAVE:"mouseleave.".concat(ne),MOUSEMOVE:"mousemove.".concat(ne),MOUSEDOWN:"mousedown.".concat(ne),MOUSEUP:"mouseup.".concat(ne),SET_TIMEOUT_DURATION:"setTimeoutDuration.".concat(ne),SET_TEXT:"setText.".concat(ne),RESIZE:"resize.".concat(ne),TRIGGER:"trigger.".concat(ie),FORCE_CURSOR:"forceCursor.".concat(ie)},oe="is-dragging",ae=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).log=t.log,n.$cursor=$(".js-cursor",n.$el),n.$span=n.$cursor.find("span"),n.isHover=!1,n.isOverNoHover=!1,n.hideCursor=!1,n.cursorAlwaysVisible=n.$el.hasClass("js-video-cursor"),n.touch=!1,n.forceCursor=n.cursorAlwaysVisible,n.draggable=!!t.draggable&&t.draggable,n.timeoutDuration=t["timeout-duration"]||!1,n.mouse={x:window.innerWidth/2,y:window.innerHeight/2},n.realMouse={x:n.$el.width()/2,y:n.$el.height()/2},n.lastRealMouse={x:0,y:0},n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.compute(),window.isMobile||(this.$el.on(se.MOUSELEAVE,".js-no-drag, a:not(.js-hover), iframe",function(){t.touch||(t.isOverNoHover=!1)}),this.$el.on(se.MOUSEENTER,".js-no-drag, a:not(.js-hover), iframe",function(){t.touch||(t.isOverNoHover=!0)}),this.$el.on(se.MOUSEENTER,function(){clearTimeout(t.timeout)}),this.$el.on(se.FORCE_CURSOR,function(e){t.setForceCursor(e.options.value)}),this.onTouchStart=function(){t.touch=!0},this.el.addEventListener("touchstart",this.onTouchStart,{passive:!0}),this.onTouchEnd=function(){t.touch=!1},this.el.addEventListener("touchend",this.onTouchEnd,{passive:!0}),this.$el.on(se.MOUSEUP,".js-drag-zone",function(){return t.mouseup()}),this.$el.on(se.MOUSEDOWN,".js-drag-zone",function(e){return t.mousedown()}),this.$el.on(se.TRIGGER,function(e){"enter"===e.way?t.animate():cancelAnimationFrame(t.raf)}),this.$el.on(se.SET_TEXT,function(e){return t.setText(e.options.value)}),this.$el.on(se.SET_TIMEOUT_DURATION,function(e){return t.setTimeoutDuration(e.options.value)})),"home"===v.attr("data-template")&&this.animate(),setTimeout(function(){t.compute(),t.manageResize()},700)}},{key:"compute",value:function(){this.hasSmoothScroll=!1,v.hasClass("has-smooth-scroll")&&(this.hasSmoothScroll=!0),this.clientWidth=this.el.clientWidth,this.clientHeight=this.el.clientHeight;var t=this.hasSmoothScroll?window.scroll.y:0;this.offsetTop=this.$el.offset().top+t,this.offsetLeft=this.$el.offset().left,this.log&&console.log(this.offsetTop,this.el)}},{key:"manageResize",value:function(){var t=this,e=!1;this.resizeCheckBind=function(){e||(requestAnimationFrame(function(){t.compute(),e=!1}),e=!0)},g.on(se.RESIZE,this.resizeCheckBind)}},{key:"mousedown",value:function(){this.draggable&&this.$el.addClass(oe)}},{key:"mouseup",value:function(){this.draggable&&this.$el.removeClass(oe)}},{key:"animate",value:function(){this.realMouse={x:Math.round(100*(window.cursor.x-this.offsetLeft))/100,y:Math.round(100*(window.cursor.y-(this.offsetTop-window.scroll.y)))/100},this.log&&console.log(this.realMouse),window.touch?this.isHover=!1:this.isHover=0<=this.realMouse.x&&this.realMouse.x<=this.clientWidth&&0<=this.realMouse.y&&this.realMouse.y<=this.clientHeight,!this.timeoutDuration||window.touch||this.realMouse.x==this.lastRealMouse.x&&this.realMouse.y==this.lastRealMouse.y||this.setTimeoutDuration(this.timeoutDuration),this.$el.toggleClass("has-cursor-hover",this.isHover&&!this.hideCursor&&!this.isOverNoHover||this.forceCursor),!this.isHover&&this.cursorAlwaysVisible&&(this.realMouse={x:this.$el.width()/2,y:this.$el.height()/2},this.mouse.x=V(this.mouse.x,this.realMouse.x,.1),this.mouse.y=V(this.mouse.y,this.realMouse.y,.1),this.$cursor.css({"-webkit-transform":"translate3d(".concat(this.mouse.x,"px, ").concat(this.mouse.y,"px, 0px)"),"-ms-transform":"translate3d(".concat(this.mouse.x,"px, ").concat(this.mouse.y,"px, 0px)"),transform:"translate3d(".concat(this.mouse.x,"px, ").concat(this.mouse.y,"px, 0px)")})),this.isHover&&!window.touch&&(this.mouse.x=V(this.mouse.x,this.realMouse.x,.2),this.mouse.y=V(this.mouse.y,this.realMouse.y,.2),this.$cursor.css({"-webkit-transform":"translate3d(".concat(this.mouse.x,"px, ").concat(this.mouse.y,"px, 0px)"),"-ms-transform":"translate3d(".concat(this.mouse.x,"px, ").concat(this.mouse.y,"px, 0px)"),transform:"translate3d(".concat(this.mouse.x,"px, ").concat(this.mouse.y,"px, 0px)")})),this.lastRealMouse={x:parseFloat(this.realMouse.x),y:parseFloat(this.realMouse.y)},this.raf=requestAnimationFrame(this.animate.bind(this))}},{key:"setForceCursor",value:function(t){this.forceCursor=t}},{key:"setTimeoutDuration",value:function(t){this.hideCursor=!1,this.timeoutDuration=t,this.resetTimeout()}},{key:"resetTimeout",value:function(){var t=this;clearTimeout(this.timeout),this.timeoutDuration&&this.isHover&&(this.timeout=setTimeout(function(){t.hideCursor=!0},this.timeoutDuration))}},{key:"setText",value:function(t){var e=this;this.textTl&&this.textTl.kill&&this.textTl.kill(),this.textTl=new TimelineMax,this.textTl.to(this.$span,.25,{opacity:0}),this.textTl.addCallback(function(){e.$span.text(t)}),this.textTl.to(this.$span,.25,{opacity:1})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(ne)),this.el.removeEventListener("touchstart",this.onTouchStart,{passive:!0}),this.el.removeEventListener("touchend",this.onTouchEnd,{passive:!0}),g.off(".".concat(ne)),window.cancelAnimationFrame(this.raf)}}]),e}();function re(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var le="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function he(t,e){return 0===t.indexOf(e.toLowerCase())?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function ce(t){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(t)}function ue(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.id,n=e.url,s=i||n;if(!s)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(t=s,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return"https://vimeo.com/".concat(s);if(ce(s))return s.replace("http:","https:");if(i)throw new TypeError("“".concat(i,"” is not a valid video id."));throw new TypeError("“".concat(s,"” is not a vimeo.com url."))}var de=void 0!==Array.prototype.indexOf,fe="undefined"!=typeof window&&void 0!==window.postMessage;if(!(le||de&&fe))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var pe="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t){if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,i=function(t,e,i){Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:i}):t[e]=i};t.WeakMap=function(){function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(i(this,"_id","_WeakMap_"+o()+"."+o()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function s(t,i){if(!n(t)||!e.call(t,"_id"))throw new TypeError(i+" method called on incompatible receiver "+typeof t)}function o(){return Math.random().toString().substring(2)}return i(t.prototype,"delete",function(t){if(s(this,"delete"),!n(t))return!1;var e=t[this._id];return!(!e||e[0]!==t||(delete t[this._id],0))}),i(t.prototype,"get",function(t){if(s(this,"get"),n(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}}),i(t.prototype,"has",function(t){if(s(this,"has"),!n(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)}),i(t.prototype,"set",function(t,e){if(s(this,"set"),!n(t))throw new TypeError("Invalid value used as weak map key");var o=t[this._id];return o&&o[0]===t?o[1]=e:i(t,this._id,[t,e]),this}),i(t,"_polyfill",!0),t}()}function n(t){return Object(t)===t}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:pe);var me,ge=(function(t){var e,i,n;n=function(){var t,e,i,n=Object.prototype.toString,s="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,i,n){return Object.defineProperty(t,e,{value:i,writable:!0,configurable:!1!==n})}}catch(n){t=function(t,e,i){return t[e]=i,t}}function o(t,n){i.add(t,n),e||(e=s(i.drain))}function a(t){var e,i=typeof t;return null==t||"object"!=i&&"function"!=i||(e=t.then),"function"==typeof e&&e}function r(){for(var t=0;t<this.chain.length;t++)l(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function l(t,e,i){var n,s;try{!1===e?i.reject(t.msg):(n=!0===e?t.msg:e.call(void 0,t.msg))===i.promise?i.reject(TypeError("Promise-chain cycle")):(s=a(n))?s.call(n,i.resolve,i.reject):i.resolve(n)}catch(t){i.reject(t)}}function h(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,0<e.chain.length&&o(r,e))}function c(t,e,i,n){for(var s=0;s<e.length;s++)!function(s){t.resolve(e[s]).then(function(t){i(s,t)},n)}(s)}function u(t){this.def=t,this.triggered=!1}function d(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new d(this);this.then=function(t,i){var n={success:"function"!=typeof t||t,failure:"function"==typeof i&&i};return n.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");n.resolve=t,n.reject=e}),e.chain.push(n),0!==e.state&&o(r,e),n.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,function(t){(function t(e){var i,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(i=a(e))?o(function(){var s=new u(n);try{i.call(e,function(){t.apply(s,arguments)},function(){h.apply(s,arguments)})}catch(t){h.call(s,t)}}):(n.msg=e,n.state=1,0<n.chain.length&&o(r,n))}catch(t){h.call(new u(n),t)}}}).call(e,t)},function(t){h.call(e,t)})}catch(t){h.call(e,t)}}i=function(){var t,i,n;function s(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,o){n=new s(e,o),i?i.next=n:t=n,i=n,n=void 0},drain:function(){var n=t;for(t=i=e=void 0;n;)n.fn.call(n.self),n=n.next}}}();var p=t({},"constructor",f,!1);return t(f.prototype=p,"__NPO__",0,!1),t(f,"resolve",function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");e(t)})}),t(f,"reject",function(t){return new this(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");i(t)})}),t(f,"all",function(t){var e=this;return"[object Array]"!=n.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");var s=t.length,o=Array(s),a=0;c(e,t,function(t,e){o[t]=e,++a===s&&i(o)},n)})}),t(f,"race",function(t){var e=this;return"[object Array]"!=n.call(t)?e.reject(TypeError("Not an array")):new e(function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");c(e,t,function(t,e){i(e)},n)})}),f},(i=pe)[e="Promise"]=i[e]||n(),t.exports&&(t.exports=i[e])}(me={exports:{}}),me.exports),ve=new WeakMap;function ye(t,e,i){var n=ve.get(t.element)||{};e in n||(n[e]=[]),n[e].push(i),ve.set(t.element,n)}function we(t,e){return(ve.get(t.element)||{})[e]||[]}function Te(t,e,i){var n=ve.get(t.element)||{};if(!n[e])return!0;if(!i)return n[e]=[],ve.set(t.element,n),!0;var s=n[e].indexOf(i);return-1!==s&&n[e].splice(s,1),ve.set(t.element,n),n[e]&&0===n[e].length}var Ee=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function ke(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Ee.reduce(function(e,i){var n=t.getAttribute("data-vimeo-".concat(i));return(n||""===n)&&(e[i]=""===n?1:n),e},e)}function Se(t,e){var i=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=i,e.appendChild(n.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function be(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0;return new Promise(function(n,s){if(!ce(t))throw new TypeError("“".concat(t,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(t));for(var a in e)e.hasOwnProperty(a)&&(o+="&".concat(a,"=").concat(encodeURIComponent(e[a])));var r="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;r.open("GET",o,!0),r.onload=function(){if(404!==r.status)if(403!==r.status)try{var e=JSON.parse(r.responseText);if(403===e.domain_status_code)return Se(e,i),void s(new Error("“".concat(t,"” is not embeddable.")));n(e)}catch(e){s(e)}else s(new Error("“".concat(t,"” is not embeddable.")));else s(new Error("“".concat(t,"” was not found.")))},r.onerror=function(){var t=r.status?" (".concat(r.status,")"):"";s(new Error("There was an error fetching the embed code from Vimeo".concat(t,".")))},r.send()})}function Ce(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return console.warn(t),{}}return t}function xe(t,e,i){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var n={method:e};void 0!==i&&(n.value=i);var s=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));8<=s&&s<10&&(n=JSON.stringify(n)),t.element.contentWindow.postMessage(n,t.origin)}}var Me=new WeakMap,$e=new WeakMap,Le=function(){function t(e){var i,n=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,i){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),window.jQuery&&e instanceof jQuery&&(1<e.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"undefined"!=typeof document&&"string"==typeof e&&(e=document.getElementById(e)),i=e,!Boolean(i&&1===i.nodeType&&"nodeName"in i&&i.ownerDocument&&i.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");var o=e.ownerDocument.defaultView;if("IFRAME"!==e.nodeName){var a=e.querySelector("iframe");a&&(e=a)}if("IFRAME"===e.nodeName&&!ce(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(Me.has(e))return Me.get(e);this.element=e,this.origin="*";var r=new ge(function(t,i){var a=function(e){if(ce(e.origin)&&n.element.contentWindow===e.source){"*"===n.origin&&(n.origin=e.origin);var s=Ce(e.data);if(s&&"error"===s.event&&s.data&&"ready"===s.data.method){var o=new Error(s.data.message);return o.name=s.data.name,void i(o)}var a=s&&"ready"===s.event,r=s&&"ping"===s.method;if(a||r)return n.element.setAttribute("data-ready","true"),void t();!function(t,e){var i,n=[];if((e=Ce(e)).event)"error"===e.event&&we(t,e.data.method).forEach(function(i){var n=new Error(e.data.message);n.name=e.data.name,i.reject(n),Te(t,e.data.method,i)}),n=we(t,"event:".concat(e.event)),i=e.data;else if(e.method){var s=function(t,e){var i=we(t,e);if(i.length<1)return!1;var n=i.shift();return Te(t,e,n),n}(t,e.method);s&&(n.push(s),i=e.value)}n.forEach(function(e){try{if("function"==typeof e)return void e.call(t,i);e.resolve(i)}catch(e){}})}(n,s)}};if(o.addEventListener?o.addEventListener("message",a,!1):o.attachEvent&&o.attachEvent("onmessage",a),"IFRAME"!==n.element.nodeName){var r=ke(e,s);be(ue(r),r,e).then(function(t){var i,s,o,a=Se(t,e);return n.element=a,n._originalElement=e,i=e,s=a,o=ve.get(i),ve.set(s,o),ve.delete(i),Me.set(n.element,n),t}).catch(i)}});return $e.set(this,r),Me.set(this.element,this),"IFRAME"===this.element.nodeName&&xe(this,"ping"),this}var e,i;return e=t,(i=[{key:"callMethod",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new ge(function(n,s){return e.ready().then(function(){ye(e,t,{resolve:n,reject:s}),xe(e,t,i)}).catch(s)})}},{key:"get",value:function(t){var e=this;return new ge(function(i,n){return t=he(t,"get"),e.ready().then(function(){ye(e,t,{resolve:i,reject:n}),xe(e,t)}).catch(n)})}},{key:"set",value:function(t,e){var i=this;return new ge(function(n,s){if(t=he(t,"set"),null==e)throw new TypeError("There must be a value to set.");return i.ready().then(function(){ye(i,t,{resolve:n,reject:s}),xe(i,t,e)}).catch(s)})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===we(this,"event:".concat(t)).length&&this.callMethod("addEventListener",t).catch(function(){}),ye(this,"event:".concat(t),e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");Te(this,"event:".concat(t),e)&&this.callMethod("removeEventListener",t).catch(function(t){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=$e.get(this)||new ge(function(t,e){e(new Error("Unknown player. Probably unloaded."))});return ge.resolve(t)}},{key:"addCuePoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new ge(function(e){$e.delete(t),Me.delete(t.element),t._originalElement&&(Me.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),e()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}])&&re(e.prototype,i),t}();le||(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),i=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(t))};e.forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=ke(t);be(ue(e),e,t).then(function(e){return Se(e,t)}).catch(i)}catch(e){i(e)}})}(),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(ce(e.origin)&&e.data&&"spacechange"===e.data.event)for(var i=t.querySelectorAll("iframe"),n=0;n<i.length;n++)if(i[n].contentWindow===e.source){i[n].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}}());var Re="".concat(p,".").concat("FancyVideo"),Oe={CLICK:"click.".concat(Re)},Ie=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).$player=n.$el.find(".js-player"),n.$videoCursor=n.$el.find(".js-video-cursor"),n.active=!1,n.alreadyPlayed=!1,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.player=new Le(this.$player.find("iframe")),this.player.on("ready",function(){t.player.element.scrolling="no",t.player.element.frameBorder="0"}),this.player.setVolume(1),this.player.on("pause",function(){t.$el.toggleClass("-paused",!0),t.$videoCursor.triggerHandler({type:se.FORCE_CURSOR,options:{value:!0}}),t.$videoCursor.triggerHandler({type:se.SET_TEXT,options:{value:"Play"}}),t.$videoCursor.triggerHandler({type:se.SET_TIMEOUT_DURATION,options:{value:!1}})}),this.player.on("play",function(){t.$el.toggleClass("-active",!0),t.$el.toggleClass("-paused",!1),t.$videoCursor.triggerHandler({type:se.SET_TEXT,options:{value:"Pause"}}),t.$videoCursor.triggerHandler({type:se.SET_TIMEOUT_DURATION,options:{value:1e3}}),t.$videoCursor.triggerHandler({type:se.FORCE_CURSOR,options:{value:!1}})}),this.player.on("ended",function(){t.active=!1,t.$el.toggleClass("-active",!1),t.$videoCursor.triggerHandler({type:se.SET_TEXT,options:{value:"Play"}}),t.$videoCursor.triggerHandler({type:se.SET_TIMEOUT_DURATION,options:{value:!1}}),t.$videoCursor.triggerHandler({type:se.FORCE_CURSOR,options:{value:!0}})}),this.$el.on(Oe.CLICK,function(){t.active?(clearTimeout(t.timeout),t.player.getPaused().then(function(e){e?t.player.play():t.player.pause()})):(t.active=!0,t.$el.toggleClass("is-active",!0),t.player.play())})}},{key:"destroy",value:function(){this.player.off("ready"),this.player.off("pause"),this.player.off("play"),this.player.off("ended"),this.player.destroy(),u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Re))}}]),e}(),Pe=JSON.parse(localStorage.getItem("lisa")),Ae={lisa:{context:null,lang:null,muted:!(!Pe||!Pe.muted),promises:[],session:{},trads:{},utterances:[]},models3d:{}};window.locomotive=Ae;var je="ProjectHeader",He="".concat(p,".").concat(je),De={CLICK:"click.".concat(He),PROGRESS:"progress.".concat(He),RESIZE:"resize.".concat(He),TRIGGER:"trigger.".concat(je)},Ne=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).inView=!1,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.compute(),this.checkScrollBind=this.checkScroll.bind(this),m.on(Q.SCROLLING,this.checkScrollBind),this.checkResizeBind=this.checkResize.bind(this),g.on(De.RESIZE,this.checkResizeBind),this.$el.on(De.TRIGGER,function(e){"enter"===e.way?t.inView=!0:t.inView=!1})}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(requestAnimationFrame(function(){t.compute(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"compute",value:function(){this.elBCR=this.$el[0].getBoundingClientRect();var t=this.hasSmoothScroll?window.scroll.y:0;this.offsetTop=this.$el.offset().top+t,this.scrollStart=0,this.scrollEnd=this.scrollStart+window.innerHeight+this.elBCR.height}},{key:"checkScroll",value:function(t){var e=this;this.inView&&(this.scrollTick||this.dirty||(requestAnimationFrame(function(){e.scrollUpdate(t)}),this.scrollTick=!0))}},{key:"scrollUpdate",value:function(t){var e=(window.scroll.y-this.scrollStart)/(this.scrollEnd-this.scrollStart);e=Math.max(0,Math.min(1,Math.round(1e3*e)/1e3)),m.triggerHandler({type:De.PROGRESS,options:{progress:e}}),this.scrollTick=!1}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(He)),m.off(Q.SCROLLING,this.checkScrollBind),g.off(De.RESIZE,this.checkResizeBind)}}]),e}(),Be="".concat(p,".").concat("ProjectDevice"),_e={CLICK:"click.".concat(Be),RESIZE:"resize.".concat(Be),MOUSEMOVE:"mousemove.".concat(Be),ORIENTATION:"deviceorientation.".concat(Be)},Ue=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).showGui=t.gui,n.rotationAmplitudes={x:35,y:2},n.settings={camera:{fov:25,position:[0,0,10]}},n.device=t.device,n.textureSrc=t.texture,n.deviceColor=t.color&&t.color.length?t.color:"ffffff",n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.initScene(),this.initLights();var e=this.initObject();this.initScrollTl(),this.showGui&&e.then(function(){t.initGui()});var i=new Promise(function(e){t.onReadyToAnimate=function(){e(),m.off(St.READYTOANIMATE,t.onReadyToAnimate)},m.on(St.READYTOANIMATE,t.onReadyToAnimate)});Promise.all([e,i]).then(function(){t.slideUp()}),this.checkResizeBind=this.checkResize.bind(this),g.on(_e.RESIZE,this.checkResizeBind),this.checkResize(),this.animate(),this.manageInteractions()}},{key:"checkResize",value:function(){var t=this;window.isMobile?this.resize():this.resizeTick||(requestAnimationFrame(function(){t.resize()}),this.resizeTick=!0)}},{key:"initScene",value:function(){this.scene,this.camera,this.renderer,this.element,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(this.settings.camera.fov,window.innerWidth/window.innerHeight,1,2e4),this.camera.position.set(this.settings.camera.position[0],this.settings.camera.position[1],this.settings.camera.position[2]),this.camera.lookAt(0,0,0),this.scene.add(this.camera),this.mouse=new THREE.Vector2,this.mouse.x=-window.innerWidth/2,this.mouse.y=-window.innerHeight/2,this.renderer=new THREE.WebGLRenderer({antialias:!(2<=window.devicePixelRatio),alpha:!0}),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),this.element=this.renderer.domElement,this.container=this.el,this.container.width=this.$el[0].getBoundingClientRect().width,this.container.height=this.$el[0].getBoundingClientRect().height,this.element.width=this.container.width,this.element.height=this.container.height,this.renderer.setSize(this.container.width,this.container.height),this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.container.appendChild(this.element)}},{key:"initLights",value:function(){this.spotLight=new THREE.DirectionalLight(13421772,.5),this.spotLight.position.set(-500,500,200),this.spotLight.castShadow=!0,this.camera.add(this.spotLight),this.ambientLight=new THREE.AmbientLight(16777215,.75),this.scene.add(this.ambientLight)}},{key:"initObject",value:function(){var t=this;return this.scrollWrapper=new THREE.Object3D,this.slideUpWrapper=new THREE.Object3D,this.wrapper=new THREE.Object3D,this.wrapper.rotationTarget={x:0,y:0,z:0},this.texture=(new THREE.TextureLoader).load(this.textureSrc),this.loadModel(this.file).then(function(e){t.object=e,t.setupObject(),t.scrollWrapper.add(t.slideUpWrapper),t.slideUpWrapper.add(t.wrapper),t.wrapper.add(t.object),t.scene.add(t.scrollWrapper)})}},{key:"setupObject",value:function(){}},{key:"initScrollTl",value:function(){this.scrollTl=new TimelineMax({}),this.scrollTl.fromTo(this.scrollWrapper.rotation,1,{y:5*Math.PI/180},{y:-15*Math.PI/180,ease:CustomEase.create("custom","M0,0,C0.102,0.104,0.282,0.674,0.44,0.822,0.632,1.002,0.818,1,1,1")},0),this.scrollTl.pause()}},{key:"slideUp",value:function(){this.slideUpTl=new TimelineMax({}),this.slideUpTl.addLabel("start",0),this.slideUpTl.fromTo(this.slideUpWrapper.position,2,{y:-200},{y:0,ease:Power3.easeOut},"start"),this.slideUpTl.fromTo(this.slideUpWrapper.rotation,2,{y:90*Math.PI/180},{y:0,ease:Power3.easeOut},"start")}},{key:"initGui",value:function(){this.gui=new dat.GUI;var t=this.gui.addFolder("Camera");t.add(this.camera,"fov",10,500),t.add(this.camera.position,"x",0,20),t.add(this.camera.position,"y",0,20),t.add(this.camera.position,"z",0,20),t.open();var e=this.gui.addFolder("Ambient Light");e.add(this.ambientLight,"intensity",0,1),e.open();var i=this.gui.addFolder("SpotLight");i.add(this.spotLight,"intensity",0,1),i.open()}},{key:"loadModel",value:function(t){var e,i=this,n="/assets/3d/models/",s=t.substr(t.lastIndexOf(".")+1).toLowerCase();if(Ae.models3d[n+t])return"glb"!=s&&"gltf"!=s||(this.texture.flipY=!1),new Promise(function(t){t()}).then(function(){return Ae.models3d[n+t].clone()});switch(s){case"fbx":this.fbxLoader||(this.fbxLoader=new THREE.FBXLoader),e=new Promise(function(e){i.fbxLoader.load(n+t,e)});break;case"obj":this.objLoader||(this.objLoader=new THREE.OBJLoader),e=new Promise(function(e){i.objLoader.load(n+t,e)});break;case"glb":case"gltf":this.gltfLoader||(this.gltfLoader=new THREE.GLTFLoader),this.texture.flipY=!1,e=new Promise(function(e){i.gltfLoader.load(n+t,e)}).then(function(t){return t.scene});break;default:return!1}return e.then(function(e){return(Ae.models3d[n+t]=e).clone()})}},{key:"manageInteractions",value:function(){var t=this;this.mouse=new THREE.Vector2,this.mouseMoveBind=function(e){t.mouse.x=(e.clientX-window.innerWidth/2)/window.innerWidth*t.rotationAmplitudes.x,t.mouse.y=(e.clientY-window.innerHeight/2)/window.innerHeight*t.rotationAmplitudes.y,t.wrapper.rotationTarget.x=-t.mouse.y*Math.PI/180*2,t.wrapper.rotationTarget.y=-t.mouse.x*Math.PI/180},g.on(_e.MOUSEMOVE,this.mouseMoveBind),this.onHeaderProgressBind=function(e){t.scrollTl.progress(e.options.progress)},m.on(De.PROGRESS,this.onHeaderProgressBind)}},{key:"animate",value:function(){var t=this;this.raf=requestAnimationFrame(function(){return t.animate()}),this.render()}},{key:"render",value:function(){this.wrapper.rotation.x=V(this.wrapper.rotation.x,this.wrapper.rotationTarget.x,.1),this.wrapper.rotation.y=V(this.wrapper.rotation.y,this.wrapper.rotationTarget.y,.1),this.wrapper.rotation.z=V(this.wrapper.rotation.z,this.wrapper.rotationTarget.z,.1),this.camera.updateProjectionMatrix(),this.renderer.render(this.scene,this.camera)}},{key:"resize",value:function(){this.container.width=this.$el[0].getBoundingClientRect().width,this.container.height=this.$el[0].getBoundingClientRect().height,this.element.width=this.container.width,this.element.height=this.container.height,this.camera.aspect=this.container.width/this.container.height,this.renderer.setSize(this.container.width,this.container.height),this.resizeTick=!1}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),cancelAnimationFrame(this.raf),this.$el.off(".".concat(Be)),g.off(_e.RESIZE,this.checkResizeBind),g.off(_e.MOUSEMOVE,this.mouseMoveBind),m.off(De.PROGRESS,this.onHeaderProgressBind),m.off(St.READYTOANIMATE,this.onReadyToAnimate)}}]),e}(),ze="".concat(p,".").concat("ProjectSmartphone"),Fe=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).file="smartphone.glb",n}return r(e,Ue),s(e,[{key:"initGui",value:function(){var t=this;u(l(e.prototype),"initGui",this).call(this);var i=new function(){this.rotation={x:-12,y:-35,z:-8}},n=this.gui.addFolder("Phone"),s=n.addFolder("Rotation"),o=s.add(i.rotation,"x",-180,180),a=s.add(i.rotation,"y",-180,180),r=s.add(i.rotation,"z",-180,180);o.onChange(function(e){t.object.rotation.x=e*Math.PI/180}),a.onChange(function(e){t.object.rotation.y=e*Math.PI/180}),r.onChange(function(e){t.object.rotation.z=e*Math.PI/180}),n.open()}},{key:"setupObject",value:function(){this.deviceMaterial=new THREE.MeshLambertMaterial({color:new THREE.Color(16777215),map:this.texture}),this.reposition(),this.object.rotation.x=-12*Math.PI/180,this.object.rotation.y=-35*Math.PI/180,this.object.rotation.z=-8*Math.PI/180,this.object.children[0].material=this.deviceMaterial}},{key:"reposition",value:function(){this.object&&this.object.position&&(700<window.innerWidth?this.camera.position.z=14.5:this.camera.position.z=10.5)}},{key:"resize",value:function(){u(l(e.prototype),"resize",this).call(this),this.reposition()}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(ze))}}]),e}(),We="".concat(p,".").concat("ProjectLaptop"),Ge=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).settings={camera:{fov:25,position:[0,0,10]}},n.file="laptop_v2.glb",n}return r(e,Ue),s(e,[{key:"initGui",value:function(){var t=this;u(l(e.prototype),"initGui",this).call(this);var i=new function(){this.rotation={x:0,y:0,z:0},this.color="#ffffff"},n=this.gui.addFolder("device"),s=n.addFolder("Rotation"),o=s.add(i.rotation,"x",-180,180),a=s.add(i.rotation,"y",-180,180),r=s.add(i.rotation,"z",-180,180);o.onChange(function(e){t.object.rotation.x=e*Math.PI/180}),a.onChange(function(e){t.object.rotation.y=e*Math.PI/180}),r.onChange(function(e){t.object.rotation.z=e*Math.PI/180});var h=n.addFolder("Position");h.add(this.object.position,"x",-10,10),h.add(this.object.position,"y",-10,10),h.add(this.object.position,"z",-10,10),n.open();var c=n.addFolder("Light position");c.add(this.spotLight.position,"x",-10,10),c.add(this.spotLight.position,"y",-10,10),c.add(this.spotLight.position,"z",-10,10)}},{key:"setupObject",value:function(){this.deviceMaterial=new THREE.MeshLambertMaterial({color:new THREE.Color(16777215),map:this.texture}),this.reposition(),this.object.rotation.x=38*Math.PI/180,this.object.rotation.y=-26*Math.PI/180,this.object.rotation.z=6*Math.PI/180,this.object.children[0].material=this.deviceMaterial}},{key:"reposition",value:function(){this.object&&this.object.position&&(700<window.innerWidth?(this.object.position.x=.15,this.object.position.y=.1,this.object.position.z=0,this.camera.position.z=12.5):(this.object.position.x=-.1,this.object.position.y=.1,this.object.position.z=0,this.camera.position.z=10))}},{key:"resize",value:function(){u(l(e.prototype),"resize",this).call(this),this.reposition()}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(We))}}]),e}(),Ve="".concat(p,".").concat("VimeoPlayer"),qe={CLICK:"click.".concat(Ve),LAUNCH:"launch.".concat(Ve),PAUSE:"pause.".concat(Ve)},Ke=function(t){function e(t){return i(this,e),c(this,l(e).call(this,t))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.player=new Le(this.$el[0]),this.timeout,this.$el.on(qe.LAUNCH,function(e){"enter"==e.way?t.timeout=setTimeout(function(){t.player.play()},600):(clearTimeout(t.timeout),t.player.pause())}),this.$el.on(qe.PAUSE,function(e){t.player.pause()})}},{key:"destroy",value:function(){this.player.destroy(),u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Ve))}}]),e}(),Ye="".concat(p,".").concat("VideoPlayer"),Xe={CLICK:"click.".concat(Ye)},Ze=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).active=!1,n.values={play:t.play,pause:t.pause},n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$video=this.$el.find(".js-video"),this.$videoCursor=this.$el.find(".js-video-cursor"),this.player=new Le(this.$video.get(0)),this.player.setVolume(1),this.player.on("pause",function(){t.$el.toggleClass("-paused",!0),t.$videoCursor.triggerHandler({type:se.FORCE_CURSOR,options:{value:!0}}),t.$videoCursor.triggerHandler({type:se.SET_TEXT,options:{value:t.values.play}}),t.$videoCursor.triggerHandler({type:se.SET_TIMEOUT_DURATION,options:{value:!1}})}),this.player.on("play",function(){t.$el.toggleClass("-active",!0),t.$el.toggleClass("-paused",!1),t.$videoCursor.triggerHandler({type:se.SET_TEXT,options:{value:t.values.pause}}),t.$videoCursor.triggerHandler({type:se.SET_TIMEOUT_DURATION,options:{value:1e3}}),t.$videoCursor.triggerHandler({type:se.FORCE_CURSOR,options:{value:!1}})}),this.player.on("ended",function(){t.active=!1,t.$el.toggleClass("-active",!1),t.$videoCursor.triggerHandler({type:se.SET_TEXT,options:{value:t.values.play}}),t.$videoCursor.triggerHandler({type:se.SET_TIMEOUT_DURATION,options:{value:!1}}),t.$videoCursor.triggerHandler({type:se.FORCE_CURSOR,options:{value:!0}})}),this.$el.on(Xe.CLICK,function(){t.active?t.player.getPaused().then(function(e){e?t.player.play():t.player.pause()}):(t.active=!0,t.player.play())})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.player.destroy(),this.$el.off(".".concat(Ye))}}]),e}(),Qe="Object3D",Je="".concat(p,".").concat(Qe),ti={CLICK:"click.".concat(Je),MOUSEMOVE:"mousemove.".concat(Je),ORIENTATION:"deviceorientation.".concat(Je),CHANGE:"change.".concat(Je),RESIZE:"resize.".concat(Je),TRIGGER:"trigger.".concat(Qe)},ei=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).showGui=t.gui,n.settings={camera:{fov:45,position:[0,0,10],translateScroll:[0,20,0]},object:{position:[0,0,0],rotation:[0,0,0],scale:[1,1,1],rotationMouseMove:[40,5],rotationScroll:[0,0,0]},ambientLight:{intensity:.1},spotLight:{intensity:1,position:[0,0,20]}},n.inView=!1,t.settings&&t.settings.camera&&(n.settings.camera=Object.assign(n.settings.camera,t.settings.camera)),t.settings&&t.settings.object&&(n.settings.object=Object.assign(n.settings.object,t.settings.object)),t.settings&&t.settings.ambientLight&&(n.settings.ambientLight=Object.assign(n.settings.ambientLight,t.settings.ambientLight)),t.settings&&t.settings.spotLight&&(n.settings.spotLight=Object.assign(n.settings.spotLight,t.settings.spotLight)),n.files=t.models.split(","),n.$scrollRef=n.$el,t["scroll-ref"]&&$(t["scroll-ref"]).length&&(n.$scrollRef=$(t["scroll-ref"])),n.scrollRef=n.$scrollRef[0],n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.initScene(),this.initLights(),this.initObject(),this.checkResizeBind=this.checkResize.bind(this),g.on(ti.RESIZE,this.checkResizeBind),this.checkResize(),this.initInteractions(),this.manageScroll(),this.initScrollTl(),this.scrollUpdate(),this.$scrollRef.on(ti.TRIGGER,function(e){"enter"===e.way?(cancelAnimationFrame(t.raf),t.inView=!0,t.animate()):(cancelAnimationFrame(t.raf),t.inView=!1)})}},{key:"initScene",value:function(){this.scene,this.camera,this.renderer,this.element,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(this.settings.camera.fov,window.innerWidth/window.innerHeight,1,2e4),this.camera.lookAt(0,0,0),this.scene.add(this.camera),this.mouse=new THREE.Vector2,this.mouse.x=-window.innerWidth/2,this.mouse.y=-window.innerHeight/2,this.renderer=new THREE.WebGLRenderer({antialias:!(2<=window.devicePixelRatio),alpha:!0}),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,this.element=this.renderer.domElement,this.container=this.el,this.container.width=this.$el[0].getBoundingClientRect().width,this.container.height=this.$el[0].getBoundingClientRect().height,this.element.width=this.container.width,this.element.height=this.container.height,this.renderer.setSize(this.container.width,this.container.height),this.renderer.shadowMap.enabled=!0,this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.container.appendChild(this.element)}},{key:"initLights",value:function(){this.spotLight=new THREE.DirectionalLight(13421772,this.settings.spotLight.intensity),this.spotLight.position.set(this.settings.spotLight.position[0],this.settings.spotLight.position[1],this.settings.spotLight.position[2]),this.spotLight.castShadow=!0,this.spotLight.shadow.mapSize.width=2048,this.spotLight.shadow.mapSize.height=2048,this.spotLight.shadow.camera.near=1,this.spotLight.shadow.camera.far=1e4,this.spotLight.shadow.bias=-1e-5,this.spotLight.shadow.camera.left=300,this.spotLight.shadow.camera.right=-300,this.spotLight.shadow.camera.top=-300,this.spotLight.shadow.camera.bottom=300,this.camera.add(this.spotLight),this.ambientLight=new THREE.AmbientLight(16777215,this.settings.ambientLight.intensity),this.scene.add(this.ambientLight)}},{key:"initObject",value:function(){var t=this;this.outerWrapper=new THREE.Object3D,this.innerWrapper=new THREE.Object3D,this.objects=new Array(this.files.length),this.outerWrapper.rotationTarget={x:0,y:0,z:0},this.outerWrapper.add(this.innerWrapper),this.scene.add(this.outerWrapper);var e=[],i=0,n=!0,s=!1,o=void 0;try{for(var a,r=function(){var n=a.value,s=i;e.push(new Promise(function(e){t.loadModel(n).then(function(i){t.objects[s]=i,t.objects[s].rotation.x=t.settings.object.rotation[0]*(Math.PI/180),t.objects[s].rotation.y=t.settings.object.rotation[1]*(Math.PI/180),t.objects[s].rotation.z=t.settings.object.rotation[2]*(Math.PI/180),0==s?(t.objects[s].scale.x=t.settings.object.scale[0],t.objects[s].scale.y=t.settings.object.scale[1],t.objects[s].scale.z=t.settings.object.scale[2]):t.objects[s].scale.set(1e-4,1e-4,1e-4),t.objects[s].position.x=t.settings.object.position[0],t.objects[s].position.y=t.settings.object.position[1],t.objects[s].position.z=t.settings.object.position[2],0==s&&t.innerWrapper.add(t.objects[s]),e()})})),i++},l=this.files[Symbol.iterator]();!(n=(a=l.next()).done);n=!0)r()}catch(n){s=!0,o=n}finally{try{n||null==l.return||l.return()}finally{if(s)throw o}}Promise.all(e).then(function(){t.manageSlider(),window.isMobile||t.initScrollTl(),t.manageScroll(),t.initGui()})}},{key:"initInteractions",value:function(){this.manageMouse()}},{key:"initGui",value:function(){var t=this;if(this.showGui){this.gui=new dat.GUI,this.guiMain=this.gui.addFolder(this.uid),this.guiMain.open();var e=this.guiMain.addFolder("Camera");e.add(this.camera,"fov",10,500),e.add(this.settings.camera.position,"0",-10,10).name("x").onChange(function(){t.camera.lookAt(0,0,0),t.initScrollTl(),t.scrollUpdate()}),e.add(this.settings.camera.position,"1",-10,10).name("y").onChange(function(){t.camera.lookAt(0,0,0),t.initScrollTl(),t.scrollUpdate()}),e.add(this.settings.camera.position,"2",-10,10).name("z").onChange(function(){t.camera.lookAt(0,0,0),t.initScrollTl(),t.scrollUpdate()});var i=e.addFolder("translateScroll");i.add(this.settings.camera.translateScroll,"0",-20,20).name("x").onChange(function(){t.initScrollTl(),t.scrollUpdate()}),i.add(this.settings.camera.translateScroll,"1",-20,20).name("y").onChange(function(){t.initScrollTl(),t.scrollUpdate()}),i.add(this.settings.camera.translateScroll,"2",-20,20).name("z").onChange(function(){t.initScrollTl(),t.scrollUpdate()}),this.guiMain.addFolder("Ambient Light").add(this.ambientLight,"intensity",0,1);var n=this.guiMain.addFolder("SpotLight");n.add(this.spotLight,"intensity",0,1),n.add(this.spotLight.position,"x",-10,10),n.add(this.spotLight.position,"y",-10,10),n.add(this.spotLight.position,"z",-10,10);var s=this.guiMain.addFolder("Object"),o=s.addFolder("Position");o.add(this.objects[0].position,"x",-10,10),o.add(this.objects[0].position,"y",-10,10),o.add(this.objects[0].position,"z",-10,10);var a=s.addFolder("Rotation"),r={x:parseFloat(180*this.objects[0].rotation.x/Math.PI),y:parseFloat(180*this.objects[0].rotation.y/Math.PI),z:parseFloat(180*this.objects[0].rotation.z/Math.PI)};a.add(r,"x",-360,360).onChange(function(){t.objects[0].rotation.x=r.x*(Math.PI/180)}),a.add(r,"y",-360,360).onChange(function(){t.objects[0].rotation.y=r.y*(Math.PI/180)}),a.add(r,"z",-360,360).onChange(function(){t.objects[0].rotation.z=r.z*(Math.PI/180)});var l=s.addFolder("RotationScroll");l.add(this.settings.object.rotationScroll,"0",-180,180).name("x").onChange(function(){t.initScrollTl(),t.scrollUpdate()}),l.add(this.settings.object.rotationScroll,"1",-180,180).name("y").onChange(function(){t.initScrollTl(),t.scrollUpdate()}),l.add(this.settings.object.rotationScroll,"2",-180,180).name("z").onChange(function(){t.initScrollTl(),t.scrollUpdate()});var h=s.addFolder("RotationMouseMove");h.add(this.settings.object.rotationMouseMove,"0",-180,180).name("x"),h.add(this.settings.object.rotationMouseMove,"1",-180,180).name("y");var c=s.addFolder("Scale");c.add(this.objects[0].scale,"x",0,4),c.add(this.objects[0].scale,"y",0,4),c.add(this.objects[0].scale,"z",0,4)}}},{key:"initScrollTl",value:function(){var t=this;this.scrollTl=new TimelineMax({onUpdate:function(){t.camera.lookAt(0,0,0)}}),this.scrollTl.fromTo(this.camera.position,1,{x:this.settings.camera.position[0]+this.settings.camera.translateScroll[0]/2,y:this.settings.camera.position[1]+this.settings.camera.translateScroll[1]/2,z:this.settings.camera.position[2]+this.settings.camera.translateScroll[2]/2},{x:this.settings.camera.position[0]-this.settings.camera.translateScroll[0]/2,y:this.settings.camera.position[1]-this.settings.camera.translateScroll[1]/2,z:this.settings.camera.position[2]-this.settings.camera.translateScroll[2]/2,ease:Linear.easeNone},0),this.scrollTl.fromTo(this.innerWrapper.rotation,1,{x:this.settings.object.rotationScroll[0]/2*(Math.PI/180),y:this.settings.object.rotationScroll[1]/2*(Math.PI/180),z:this.settings.object.rotationScroll[2]/2*(Math.PI/180)},{x:-this.settings.object.rotationScroll[0]/2*(Math.PI/180),y:-this.settings.object.rotationScroll[1]/2*(Math.PI/180),z:-this.settings.object.rotationScroll[2]/2*(Math.PI/180),ease:Linear.easeNone},0),this.scrollTl.pause()}},{key:"manageMouse",value:function(){var t=this;this.mouse=new THREE.Vector2,this.mouseMoveBind=function(e){t.mouse.x=(e.clientX-window.innerWidth/2)/window.innerWidth*t.settings.object.rotationMouseMove[0],t.mouse.y=(e.clientY-window.innerHeight/2)/window.innerHeight*t.settings.object.rotationMouseMove[1],t.outerWrapper.rotationTarget.x=-t.mouse.y*Math.PI/180*2,t.outerWrapper.rotationTarget.y=-t.mouse.x*Math.PI/180},g.on(ti.MOUSEMOVE,this.mouseMoveBind)}},{key:"manageScroll",value:function(){this.checkScrollBind=this.checkScroll.bind(this),m.on(Q.SCROLLING,this.checkScrollBind)}},{key:"manageSlider",value:function(){var t=this;this.index=0,this.hiding=!1,this.onChangeBind=function(e){t.targetIndex=e.options.index,t.showTl&&t.showTl.kill&&t.showTl.kill(),t.hiding||(t.hideTl&&t.hideTl.kill&&t.hideTl.kill(),t.hiding=!0,t.hidingPromise=new Promise(function(e){t.hideTl=new TimelineMax({onComplete:e}),t.hideTl.to(t.objects[t.index].scale,.4,{x:.5,y:.5,z:.5},0),t.hideTl.to(t.$el,.4,{opacity:0},0)}).then(function(){t.hiding=!1,t.innerWrapper.remove(t.objects[t.index]),null!=t.objects[t.targetIndex]&&t.displayObject(t.targetIndex),t.index=t.targetIndex}))},this.$el.on(ti.CHANGE,this.onChangeBind)}},{key:"displayObject",value:function(t){this.innerWrapper.add(this.objects[t]),this.objects[t].scale.set(.5,.5,.5),this.showTl=new TimelineMax,this.showTl.to(this.objects[t].scale,.4,{x:1,y:1,z:1},0),this.showTl.to(this.$el,.4,{opacity:1},0)}},{key:"loadModel",value:function(t){var e,i=this,n="/assets/3d/models/",s=t.substr(t.lastIndexOf(".")+1).toLowerCase();if(Ae.models3d[n+t])return new Promise(function(t){t()}).then(function(){return Ae.models3d[n+t].clone()});switch(s){case"fbx":this.fbxLoader||(this.fbxLoader=new THREE.FBXLoader),e=new Promise(function(e){i.fbxLoader.load(n+t,e)});break;case"obj":this.objLoader||(this.objLoader=new THREE.OBJLoader),e=new Promise(function(e){i.objLoader.load(n+t,e)});break;case"glb":case"gltf":this.gltfLoader||(this.gltfLoader=new THREE.GLTFLoader),e=new Promise(function(e){i.gltfLoader.load(n+t,e)}).then(function(t){return t.scene});break;default:return!1}return e.then(function(e){return(Ae.models3d[n+t]=e).clone()})}},{key:"animate",value:function(){var t=this;this.raf=requestAnimationFrame(function(){return t.animate()}),this.render()}},{key:"render",value:function(){this.outerWrapper.rotation.x=V(this.outerWrapper.rotation.x,this.outerWrapper.rotationTarget.x,.1),this.outerWrapper.rotation.y=V(this.outerWrapper.rotation.y,this.outerWrapper.rotationTarget.y,.1),this.outerWrapper.rotation.z=V(this.outerWrapper.rotation.z,this.outerWrapper.rotationTarget.z,.1),this.camera.updateProjectionMatrix(),this.renderer.render(this.scene,this.camera)}},{key:"checkResize",value:function(){var t=this;window.isMobile?this.resize():this.resizeTick||(requestAnimationFrame(function(){t.resize(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"resize",value:function(){this.hasSmoothScroll=!1,v.hasClass("has-smooth-scroll")&&(this.hasSmoothScroll=!0),this.container.width=this.$el[0].getBoundingClientRect().width,this.container.height=this.$el[0].getBoundingClientRect().height,this.element.width=this.container.width,this.element.height=this.container.height,this.camera.aspect=this.container.width/this.container.height,this.renderer.setSize(this.container.width,this.container.height),this.scrollRefBCR=this.scrollRef.getBoundingClientRect();var t=this.hasSmoothScroll?window.scroll.y:0;this.offsetTop=this.$scrollRef.offset().top+t,this.scrollStart=this.offsetTop-window.innerHeight,this.scrollEnd=this.scrollStart+window.innerHeight+this.scrollRefBCR.height}},{key:"checkScroll",value:function(t){var e=this;this.inView&&(this.scrollTick||this.dirty||(requestAnimationFrame(function(){e.scrollUpdate(t)}),this.scrollTick=!0))}},{key:"scrollUpdate",value:function(){var t=(window.scroll.y-this.scrollStart)/(this.scrollEnd-this.scrollStart);t=Math.max(0,Math.min(1,Math.round(1e3*t)/1e3)),this.scrollTl.progress(t),this.scrollTick=!1}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Je)),cancelAnimationFrame(this.raf),m.off(Q.SCROLLING,this.checkScrollBind),g.off(ti.MOUSEMOVE,this.mouseMoveBind),g.off(ti.RESIZE,this.checkResizeBind)}}]),e}(),ii="".concat(p,".").concat("Slider"),ni=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$slider=this.$el.find(".js-slider"),this.$objects=$(".js-objects",this.$el),this.swiper=new Swiper(this.$slider,{loop:!0,slidesPerView:"auto",parallax:!0,touchStartPreventDefault:!1,longSwipesRatio:.1}),0<this.$objects.length&&this.swiper.on("slideChangeTransitionStart",function(e){t.$objects.triggerHandler({type:ti.CHANGE,options:{index:t.swiper.realIndex}})})}},{key:"destroy",value:function(){this.swiper.destroy(),u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(ii))}}]),e}(),si="".concat(p,".").concat("AwardsList"),oi={CLICK:"click.".concat(si),MOUSEMOVE:"mousemove.".concat(si),MOUSEENTER:"mouseenter.".concat(si),MOUSELEAVE:"mouseleave.".concat(si),CHANGE:"change.".concat(si),RESIZE:"resize.".concat(si)},ai="has-awards-list-hover",ri=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).showGui=t.gui,n.settings={camera:{fov:45,position:[0,0,5]},object:{position:[0,0,0],rotation:[0,0,0],scale:[1,1,1],rotationMouseMove:[40,40]},ambientLight:{intensity:.1},spotLight:{intensity:1,position:[0,0,20]}},t.settings&&t.settings.camera&&(n.settings.camera=Object.assign(n.settings.camera,t.settings.camera)),t.settings&&t.settings.object&&(n.settings.object=Object.assign(n.settings.object,t.settings.object)),t.settings&&t.settings.ambientLight&&(n.settings.ambientLight=Object.assign(n.settings.ambientLight,t.settings.ambientLight)),t.settings&&t.settings.spotLight&&(n.settings.spotLight=Object.assign(n.settings.spotLight,t.settings.spotLight)),n.files=t.models.split(","),n.$scene=$("#js-awards-scene"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;if(window.innerWidth<1200)return!1;this.initScene(),this.initLights(),this.initObject(),this.checkResizeBind=this.checkResize.bind(this),g.on(oi.RESIZE,this.checkResizeBind),this.checkResize(),this.initInteractions(),this.$el.on(oi.MOUSEENTER,".js-item",function(e){var i=$(e.currentTarget);t.display(i.attr("data-model"),i)}),this.$el.on(oi.MOUSELEAVE,".js-item",function(e){t.hide($(e.currentTarget).attr("data-model"))}),this.$el.on(oi.MOUSEENTER,function(e){v.addClass(ai),t.outerWrapper.scale.set(1,1,1),t.animate()}),this.$el.on(oi.MOUSELEAVE,function(e){v.removeClass(ai),TweenMax.to(t.outerWrapper.scale,.3,{x:.001,y:.001,z:.001,ease:Power2.easeIn,onComplete:function(){cancelAnimationFrame(t.raf)}})})}},{key:"initScene",value:function(){this.scene,this.camera,this.renderer,this.element,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(this.settings.camera.fov,window.innerWidth/window.innerHeight,1,2e4),this.camera.position.set(this.settings.camera.position[0],this.settings.camera.position[1],this.settings.camera.position[2]),this.camera.lookAt(0,0,0),this.scene.add(this.camera),this.mouse=new THREE.Vector2,this.mouse.x=-window.innerWidth/2,this.mouse.y=-window.innerHeight/2,this.mouseLerped=new THREE.Vector2,this.mouseLerped.x=-window.innerWidth/2,this.mouseLerped.y=-window.innerHeight/2,this.renderer=new THREE.WebGLRenderer({antialias:!(2<=window.devicePixelRatio),alpha:!0}),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,this.element=this.renderer.domElement,this.container=this.$scene[0],this.container.width=window.innerWidth,this.container.height=window.innerHeight,this.element.width=this.container.width,this.element.height=this.container.height,this.renderer.setSize(this.container.width,this.container.height),this.renderer.shadowMap.enabled=!0,this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.renderer.setPixelRatio(Math.min(1.5,window.devicePixelRatio)),this.container.appendChild(this.element)}},{key:"initLights",value:function(){this.spotLight=new THREE.DirectionalLight(13421772,this.settings.spotLight.intensity),this.spotLight.position.set(this.settings.spotLight.position[0],this.settings.spotLight.position[1],this.settings.spotLight.position[2]),this.spotLight.castShadow=!0,this.spotLight.shadow.mapSize.width=2048,this.spotLight.shadow.mapSize.height=2048,this.spotLight.shadow.camera.near=1,this.spotLight.shadow.camera.far=1e4,this.spotLight.shadow.bias=-1e-5,this.spotLight.shadow.camera.left=300,this.spotLight.shadow.camera.right=-300,this.spotLight.shadow.camera.top=-300,this.spotLight.shadow.camera.bottom=300,this.camera.add(this.spotLight),this.ambientLight=new THREE.AmbientLight(16777215,this.settings.ambientLight.intensity),this.scene.add(this.ambientLight)}},{key:"initObject",value:function(){var t=this;this.outerWrapper=new THREE.Object3D,this.innerWrapper=new THREE.Object3D,this.outerWrapper.add(this.innerWrapper),this.scene.add(this.outerWrapper),this.objects=new Array,this.innerWrapper.rotation.x=this.settings.object.rotation[0]*(Math.PI/180),this.innerWrapper.rotation.y=this.settings.object.rotation[1]*(Math.PI/180),this.innerWrapper.rotation.z=this.settings.object.rotation[2]*(Math.PI/180),this.outerWrapper.rotationTarget={x:0,y:0,z:0};for(var e=0;e<this.files.length;e++)this.loadModel(this.files[e]).then(function(e){t.objects.push({id:e.id,object:e.object});for(var i=new THREE.MeshPhongMaterial({color:16777215}),n=e.object.children.length-1;0<=n;n--)e.object.children[n].material=i;e.object.scale.set(.001,.001,.001),t.innerWrapper.add(e.object)})}},{key:"display",value:function(t,e){var i=this;clearTimeout(this.displayTimeout),this.displayTimeout=setTimeout(function(){e.prepend(i.$scene);for(var n=i.objects.length-1;0<=n;n--)i.objects[n].id===t?TweenMax.to(i.objects[n].object.scale,.3,{x:1,y:1,z:1,ease:Power2.easeOut}):TweenMax.to(i.objects[n].object.scale,.1,{x:.001,y:.001,z:.001,ease:Power2.easeIn})},200)}},{key:"hide",value:function(t){for(var e=this.objects.length-1;0<=e;e--)this.objects[e].id===t&&TweenMax.to(this.objects[e].object.scale,.2,{x:.001,y:.001,z:.001,ease:Power2.easeIn})}},{key:"initInteractions",value:function(){this.manageMouse()}},{key:"manageMouse",value:function(){var t=this;this.mouse=new THREE.Vector2,this.mouseMoveBind=function(e){t.mouse.x=(e.clientX-window.innerWidth/2)/window.innerWidth*t.settings.object.rotationMouseMove[0],t.mouse.y=(e.clientY-window.innerHeight/2)/window.innerHeight*t.settings.object.rotationMouseMove[1],t.outerWrapper.rotationTarget.x=-t.mouse.y*Math.PI/180*2,t.outerWrapper.rotationTarget.y=t.mouse.x*Math.PI/180*2},g.on(oi.MOUSEMOVE,this.mouseMoveBind)}},{key:"displayObject",value:function(t){this.outerWrapper.add(this.objects[t]),this.objects[t].scale.set(0,0,0),TweenMax.to(this.objects[t].scale,.4,{x:1,y:1,z:1})}},{key:"loadModel",value:function(t){var e=this,i="/assets/3d/models/";switch(t.substr(t.lastIndexOf(".")+1).toLowerCase()){case"fbx":return this.fbxLoader||(this.fbxLoader=new THREE.FBXLoader),new Promise(function(n){e.fbxLoader.load(i+t,n)});case"obj":return this.objLoader||(this.objLoader=new THREE.OBJLoader),new Promise(function(n){e.objLoader.load(i+t,n)});case"glb":case"gltf":return this.gltfLoader||(this.gltfLoader=new THREE.GLTFLoader),new Promise(function(n){e.gltfLoader.load(i+t,n)}).then(function(e){return{object:e.scene,id:t}});default:return!1}}},{key:"animate",value:function(){var t=this;this.raf=requestAnimationFrame(function(){return t.animate()}),this.render()}},{key:"render",value:function(){this.outerWrapper.rotation.x=V(this.outerWrapper.rotation.x,this.outerWrapper.rotationTarget.x,.1),this.outerWrapper.rotation.y=V(this.outerWrapper.rotation.y,this.outerWrapper.rotationTarget.y,.1),this.outerWrapper.rotation.z=V(this.outerWrapper.rotation.z,this.outerWrapper.rotationTarget.z,.1),this.camera.updateProjectionMatrix(),this.mouseLerped.x=V(this.mouseLerped.x,10*this.mouse.x,.1),this.$scene.css({transform:"translate3d(".concat(-this.mouseLerped.x,"px, 0,0)")}),this.renderer.render(this.scene,this.camera)}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(requestAnimationFrame(function(){t.resize(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"resize",value:function(){this.container.width=window.innerWidth,this.container.height=window.innerHeight,this.element.width=this.container.width,this.element.height=this.container.height,this.camera.aspect=this.container.width/this.container.height,this.renderer.setSize(this.container.width,this.container.height)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(si)),cancelAnimationFrame(this.raf),g.off(oi.MOUSEMOVE,this.mouseMoveBind),g.off(oi.RESIZE,this.checkResizeBind)}}]),e}(),li="".concat(p,".").concat("LisaCircle"),hi={CLICK:"click.".concat(li),SHOW:"show.".concat(li),HIDE:"hide.".concat(li),FOLLOW_CURSOR:"followCurosr.".concat(li),UNFOLLOW_CURSOR:"unfollowCurosr.".concat(li),MOUSEMOVE:"mousemove.".concat(li),RESIZE:"resize.".concat(li),SPEAK_START:"speakStart.".concat(li),SPEAK_STOP:"speakStop.".concat(li),SET_ACTIVE:"setActive.".concat(li)},ci=function(t){function e(t){var n;if(i(this,e),(n=c(this,l(e).call(this,t))).isFake=void 0!==n.getiOSVersion()&&13<=n.getiOSVersion()[0]||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,n.currentLerpFactor=0,n.followingCursor=!1,n.screenCenter={x:window.innerWidth/2,y:window.innerHeight/2},n.mousePos={x:n.screenCenter.x,y:n.screenCenter.y},n.currentPos={x:n.screenCenter.x,y:n.screenCenter.y},n.active=!1,n.speaking=!1,n.currentNoise=0,n.showGui=!1,n.frequencyLerp=.25,n.frequencyCaps={min:110,max:256},n.isFake)n.tick=Math.floor(1e3*Math.random()),n.noise=new j,n.noise.setScale(.15),n.currentNoise=0;else{var s=window.AudioContext||window.webkitAudioContext||!1;n.audioCtx=new s,Ae.lisa.audioCtx=n.audioCtx,Ae.lisa.audioFrequency=10}return n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.isFake||(this.analyser=this.audioCtx.createAnalyser(),this.stream=this.audioCtx.createMediaElementSource(Ae.lisa.audio),this.analyser.fftSize=1024,this.frequencyData=new Uint8Array(this.analyser.frequencyBinCount),this.realFrequencyData=new Uint8Array(this.analyser.frequencyBinCount),this.stream.connect(this.analyser),this.analyser.connect(this.audioCtx.destination)),this.$glow=this.$el.find(".js-glow"),this.$main=this.$el.find(".js-main"),m.on(hi.SHOW,function(){t.$el.toggleClass("-visible",!0)}),m.on(hi.HIDE,function(){t.$el.toggleClass("-visible",!1)}),m.on(hi.FOLLOW_CURSOR,function(){t.followingCursor=!0,t.$el.toggleClass("-compact",!0),t.lerpTween&&t.lerpTween.kill&&t.lerpTween.kill(),t.lerpTween=TweenMax.to(t,1,{currentLerpFactor:.15})}),m.on(hi.UNFOLLOW_CURSOR,function(){t.followingCursor=!1,t.$el.toggleClass("-compact",!1),t.lerpTween&&t.lerpTween.kill&&t.lerpTween.kill(),t.currentLerpFactor=.05}),g.on(hi.MOUSEMOVE,function(e){window.isMobile||(t.mousePos.x=e.clientX,t.mousePos.y=e.clientY)}),g.on(hi.RESIZE,function(){t.screenCenter={x:window.innerWidth/2,y:window.innerHeight/2},window.isMobile&&(t.mousePos={x:t.screenCenter.x,y:t.screenCenter.y})}),m.on(hi.SPEAK_START,function(){t.speaking=!0}),m.on(hi.SPEAK_STOP,function(){t.speaking=!1}),m.on(hi.SET_ACTIVE,function(e){t.setActive(e.options.value)})}},{key:"initGui",value:function(){this.showGui&&(this.gui=new dat.GUI,this.guiMain=this.gui.addFolder("LisaCircle"),this.guiMain.open(),this.guiMain.add(this,"frequencyLerp",0,1),this.guiMain.add(this.frequencyCaps,"min",0,256),this.guiMain.add(this.frequencyCaps,"max",0,256),this.guiMain.add(Ae.lisa,"audioFrequency"))}},{key:"setActive",value:function(t){t&&!this.active?(this.update(),this.active=!0):!t&&this.active&&(cancelAnimationFrame(this.raf),this.active=!1)}},{key:"update",value:function(){if(this.currentPos.x=V(this.currentPos.x,this.followingCursor?this.mousePos.x:this.screenCenter.x,this.currentLerpFactor),this.currentPos.y=V(this.currentPos.y,this.followingCursor?this.mousePos.y:this.screenCenter.y,this.currentLerpFactor),TweenMax.set(this.$el,{x:this.currentPos.x,y:this.currentPos.y,force3D:!0}),this.isFake)this.currentNoise=V(this.currentNoise,this.speaking?this.noise.getVal(this.tick):0,.2),TweenMax.set(this.$main,{x:"-50%",y:"-50%",scale:1+.1*this.currentNoise,force3D:!0}),this.tick++;else{this.analyser.getByteFrequencyData(this.frequencyData);var t=Math.max(0,Math.min(1,(this.frequencyData[Ae.lisa.audioFrequency]-this.frequencyCaps.min)/(this.frequencyCaps.max-this.frequencyCaps.min)));this.currentNoise=V(this.currentNoise,this.speaking?t:0,this.frequencyLerp),TweenMax.set(this.$main,{x:"-50%",y:"-50%",scale:.8+.4*this.currentNoise,force3D:!0})}TweenMax.set(this.$glow,{opacity:this.currentNoise,force3D:!0}),this.raf=requestAnimationFrame(this.update.bind(this))}},{key:"getiOSVersion",value:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]}}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),cancelAnimationFrame(this.raf),this.$el.off(".".concat(li)),g.off(".".concat(li)),m.off(".".concat(li))}}]),e}(),ui="".concat(p,".").concat("LisaStep"),di={CLICK:"click.".concat(ui),SHOW:"show.".concat(ui),HIDE:"hide.".concat(ui),SHOWING:"showing.".concat(ui),SHOW_END:"showEnd.".concat(ui),HIDING:"hiding.".concat(ui),SKIP:"skip.".concat(ui)},fi=function(t){function n(t){var e;return i(this,n),(e=c(this,l(n).call(this,t))).muteTimeout=3e3,e.id=t.id,e.nextId=t.next,e.forceNext=null,e.preventBack=null!=t["prevent-back"],e.progress=t.progress,e.subtitle=null!=t.subtitle,e.sentences=t.sentences,e.active=!1,e.$toggleTroll=e.$el.find(".js-toggle-troll"),e.$troll=e.$el.find(".js-troll"),e.$trollVideo=e.$el.find(".js-troll-video"),e}var o,a;return r(n,A),s(n,[{key:"init",value:function(){var t=this;this.$title=this.$el.find(".js-title"),m.on(di.SHOW,function(e){e.options.id===t.id&&(t.show(),e.options.forceNext&&(t.forceNext=e.options.forceNext))}),m.on(di.HIDE,function(e){e.options.id===t.id&&t.hide()}),this.$toggleTroll.on(di.CLICK,function(){t.$troll.toggleClass("is-active",!0);var e=t.$trollVideo[0];e.currentTime=0,e.play(),e.onended=function(){e.pause(),t.$troll.toggleClass("is-active",!1)}})}},{key:"show",value:(a=e(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return m.triggerHandler({type:di.SHOWING,options:{id:this.id,preventBack:this.preventBack,progress:this.progress}}),t.next=3,Promise.all(Ae.lisa.promises);case 3:return this.el.scrollTop=0,m.triggerHandler({type:hi.SHOW}),m.triggerHandler({type:hi.UNFOLLOW_CURSOR}),this.active=!0,this.$el.toggleClass("-active",!0),this.setText(),t.abrupt("return",new Promise(function(t){TweenMax.staggerFrom(e.splitText.lines,.75,{opacity:0,y:"100%",ease:Power2.easeOut},.05),setTimeout(t,.5)}).then(function(){var t=e.speak();return m.triggerHandler({type:di.SHOW_END,options:{id:e.id}}),t}).then(function(){if(e.nextId&&e.active){var t=e.forceNext?e.forceNext:e.nextId;e.hide(),m.triggerHandler({type:di.SHOW,options:{id:t}})}}));case 10:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)})},{key:"hide",value:function(){var t=this,e=new Promise(function(e){window.speechSynthesis.cancel(),Ae.lisa.audio.pause(),m.triggerHandler({type:di.HIDING,options:{id:t.id}}),t.active=!1,t.$el.toggleClass("-active",!1),t.$el.toggleClass("-expanded",!1),setTimeout(e,500)}).then(function(){t.forceNext=null,Ae.lisa.promises.splice(Ae.lisa.promises.indexOf(e),1)});return Ae.lisa.promises.push(e),e}},{key:"setText",value:function(){var t=Ae.lisa,e=Object.keys(this.sentences);this.msgId=e[Math.floor(Math.random()*e.length)],this.msg=this.sentences[this.msgId],this.$title.html(this.msg),this.splitText=new SplitText(this.$title,{wordsClass:"word"}),this.subtitle&&this.$title.attr("data-subtitle",t.trads[t.session.goal])}},{key:"speak",value:(o=e(regeneratorRuntime.mark(function t(){var e,i,n,s,o,a,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=Ae.lisa).muted)return t.abrupt("return",new Promise(function(t){setTimeout(function(){t()},r.muteTimeout)}));t.next=5;break;case 5:return n=new Promise(function(t){setTimeout(t,r.muteTimeout)}),s=function t(s){e.muted&&(Ae.lisa.audio.pause(),m.triggerHandler({type:hi.SPEAK_STOP}),n.then(i),m.off(mi.MUTED,t))},m.on(mi.MUTED,s),a=function t(e){Ae.lisa.audio.pause(),m.triggerHandler({type:hi.SPEAK_STOP}),o(),m.off(di.SKIP,t)},m.on(di.SKIP,a),void 0!==Ae.lisa.audioCtx&&Ae.lisa.audioCtx.resume(),Ae.lisa.audio.src="/assets/lisa/"+e.lang+"/"+this.msgId+".mp3",Ae.lisa.audio.currentTime=0,Ae.lisa.audio.play(),m.triggerHandler({type:hi.SPEAK_START}),t.abrupt("return",new Promise(function(t){Ae.lisa.audio.onended=function(){m.triggerHandler({type:hi.SPEAK_STOP}),t(),m.off(mi.MUTED,s),m.off(di.SKIP,a)},o=i=t}));case 16:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"destroy",value:function(){this.$el.off(".".concat(ui)),m.off(".".concat(ui)),g.off(".".concat(ui)),this.$toggleTroll.off(".".concat(ui)),u(l(n.prototype),"destroy",this).call(this)}}]),n}(),pi="".concat(p,".").concat("Lisa"),mi={CLICK:"click.".concat(pi),MUTED:"muted.".concat(pi),SHOWING:"showing.".concat(pi),HIDING:"hiding.".concat(pi),SHOW:"show.".concat(pi),HIDE:"hide.".concat(pi)},gi={BACK:".js-back",SETKEY:".js-set-key"},vi=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).active=!1,n.current=null,n.history=[],n.isMutedTracked=!1,Ae.lisa.lang=t.lang,Ae.lisa.promises.push(n.getContext()),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this,e=new Audio;e.autoplay=!1,$(e).appendTo(this.$el),Ae.lisa.audio=e,this.$back=this.$el.find(gi.BACK),this.$setKey=this.$el.find(gi.SETKEY),this.$skip=this.$el.find(gi.SKIP),this.$el.toggleClass("-muted",Ae.lisa.muted),new Promise(function(t){var e=speechSynthesis.getVoices();e.length?t(e):speechSynthesis.onvoiceschanged=function(){e=speechSynthesis.getVoices(),t(e)}}).then(function(t){}),y.on(mi.CLICK,".js-lisa-toggle",function(e){t.preventLisaToggle||(t.preventLisaToggle=!0,t.timeoutPreventLisaToggle=setTimeout(function(){t.preventLisaToggle=!1},1e3),t.active?(ga("send",{hitType:"event",eventCategory:"contact.button",eventAction:"close"}),t.hide()):(ga("send",{hitType:"event",eventCategory:"contact.button",eventAction:"open"}),t.show()))}),m.on(di.SHOWING,function(e){t.showing=!0,t.current=e.options.id,t.$back.toggleClass("-hidden",e.options.preventBack)}),m.on(di.SHOW_END,function(e){t.showing=!1}),m.on(di.HIDING,function(e){t.history.push(e.options.id)}),m.on(mi.SHOW,function(e){t.show(e.options)}),m.on(mi.HIDE,function(){t.hide()}),m.on(St.PAGE_CHANGE,function(){t.hide()}),this.$el.on(mi.CLICK,gi.SKIP,function(){m.triggerHandler(di.SKIP)}),this.$el.on(mi.CLICK,gi.BACK,function(){t.showing||(m.triggerHandler({type:di.HIDE,options:{id:t.current}}),t.history.pop(),m.triggerHandler({type:di.SHOW,options:{id:t.history.pop()}}))}),this.$el.on(mi.CLICK,".js-mute",function(){Ae.lisa.muted=!Ae.lisa.muted,t.$el.toggleClass("-muted",Ae.lisa.muted),localStorage.setItem("lisa",JSON.stringify({muted:Ae.lisa.muted})),!1===t.isMutedTracked&&!0===Ae.lisa.muted&&(t.isMutedTracked=!0,ga("send",{hitType:"event",eventCategory:"contact.form",eventAction:"muted"})),m.triggerHandler({type:mi.MUTED})}),this.$el.on(mi.CLICK,gi.SETKEY,function(t){var e=$(t.currentTarget);Ae.lisa.session[e.data("key")]=e.data("value")}),this.$setKey.each(function(t,e){var i=$(e);Ae.lisa.trads[$(e).data("value")]=i.find("span")[0].innerText})}},{key:"show",value:function(t){v.removeClass("has-nav-open");var e=$(".js-lisa-toggle");t&&t.session&&(Ae.lisa.session=a({},Ae.lisa.session,JSON.parse(JSON.stringify(t.session)))),v.toggleClass("has-lisa-active",!0),clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout),this.showTimeout=setTimeout(function(){m.triggerHandler({type:di.SHOW,options:{id:"greeting-1",forceNext:t&&t.step?t.step:null}})},500),this.active=!0,e.find(".js-lisa-toggle-open").toggleClass("-hidden",this.active),e.find(".js-lisa-toggle-close").toggleClass("-hidden",!this.active),m.triggerHandler({type:mi.SHOWING}),m.triggerHandler({type:hi.SET_ACTIVE,options:{value:!0}})}},{key:"hide",value:function(){var t=this,e=$(".js-lisa-toggle");m.triggerHandler({type:di.HIDE,options:{id:this.current}}),this.history=[],m.triggerHandler({type:hi.HIDE}),clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){e.find(".js-lisa-toggle-bg").toggleClass("-white",t.active),e.find(".js-lisa-toggle-open").toggleClass("-hidden",t.active),e.find(".js-lisa-toggle-close").toggleClass("-hidden",!t.active),m.triggerHandler({type:hi.SET_ACTIVE,options:{value:!1}})},800),v.removeClass("has-lisa-active"),m.triggerHandler({type:mi.HIDING}),this.active=!1}},{key:"getContext",value:function(){return new Promise(function(t){$.getJSON("api/weather-forecast",{lang:Ae.lisa.lang},function(e){Ae.lisa.context=e,t()})})}},{key:"destroy",value:function(){this.$el.off(".".concat(pi)),y.off(".".concat(pi)),m.off(".".concat(pi)),u(l(e.prototype),"destroy",this).call(this)}}]),e}(),yi=function(t){function n(t){var e;return i(this,n),(e=c(this,l(n).call(this,t))).muteTimeout=1e3,e}var o;return r(n,fi),s(n,[{key:"init",value:function(){var t=this;u(l(n.prototype),"init",this).call(this),this.$el.on(di.CLICK,".js-next-btn",function(e){t.hide(),m.triggerHandler({type:di.SHOW,options:{id:$(e.currentTarget).data("target")}})}),this.$el.on(di.CLICK,".js-close-btn",function(){m.triggerHandler({type:mi.HIDE})})}},{key:"show",value:(o=e(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u(l(n.prototype),"show",this).call(this).then(function(){e.active&&(e.$el.toggleClass("-expanded",!0),m.triggerHandler({type:hi.FOLLOW_CURSOR}),e.noCursorFollow&&m.triggerHandler({type:hi.HIDE}))}));case 1:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"destroy",value:function(){u(l(n.prototype),"destroy",this).call(this),this.$el.off(di.CLICK)}}]),n}(),wi="".concat(p,".").concat("LisaProgress"),Ti=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;m.on(di.SHOWING,function(e){TweenMax.set(t.$el,{scaleX:e.options.progress,force3D:!0})}),m.on(mi.HIDING,function(e){TweenMax.set(t.$el,{scaleX:.02,force3D:!0})})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),m.off(".".concat(wi))}}]),e}(),Ei="session-random",ki=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).type=t.type?t.type:Ei,n.sessionProperties=t["session-properties"]&&t["session-properties"].split?t["session-properties"].split(","):t["session-properties"],n}return r(e,yi),s(e,[{key:"setText",value:function(){var t=Ae.lisa,e={};switch(this.type){case Ei:e=this.sentences[t.session[this.sessionProperties[0]]];break;case"random-concat":for(var i=Object.keys(this.sentences),n=0;n<i.length;n++){var s=i[n],o=s,a=!0,r=!1,l=void 0;try{for(var h,c=this.sessionProperties[Symbol.iterator]();!(a=(h=c.next()).done);a=!0){var u=h.value;o+="."+t.session[u]}}catch(t){r=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}var d=this.sentences[s][o];if(!e)throw"No sentence matches the properties given";e[o]=d}break;default:throw"No type given. Please make it right 😠"}var f=Object.keys(e);this.msgId=f[Math.floor(Math.random()*f.length)],this.msg=e[this.msgId],this.splitText=new SplitText(this.$title,{wordsClass:"word"}),this.$title.html(this.msg),this.subtitle&&this.$title.attr("data-subtitle",t.trads[t.session.goal])}}]),e}(),Si="".concat(p,".").concat("LisaFormStep"),bi={FOCUS:"focus.".concat(Si),SUBMIT:"submit.".concat(Si)},Ci=".js-form",xi="-loading",Mi={isSubmitting:!1,isTransmitting:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,usingFormData:!1,captchaId:null,isCaptchaRendered:!1},$i=function(t){function n(t){var e;return i(this,n),(e=c(this,l(n).call(this,t))).errorMessage=t["error-message"],e.hasCaptcha=window.grecaptcha&&window.recaptchaKey,e.isFocusTracked=!1,e.formStates={},e}var o;return r(n,ki),s(n,[{key:"init",value:function(){var t=this;u(l(n.prototype),"init",this).call(this),this.$formList=this.$el.find(Ci),this.$message=this.$el.find(".js-message"),this.setFormStates(this.$formList),this.$el.on(bi.FOCUS,".js-input",function(e){return t.onInputFocus(e)}),this.$el.on(bi.SUBMIT,Ci,function(e){return t.onSubmit(e)})}},{key:"setFormStates",value:function(t){for(var e=0,i=t.length;e<i;e++){var n=t.eq(e),s=this.getFormIdent(n);this.formStates[s]=a({},Mi),0<n.find('input[type="file"]').length&&(this.formStates[s].contentType=!1,this.formStates[s].processData=!1,this.formStates[s].usingFormData=!0)}}},{key:"getFormIdent",value:function(t){return t.attr("data-type")}},{key:"onInputFocus",value:function(t){var e=$(t.currentTarget).parents(Ci),i=this.getFormIdent(e);this.hasCaptcha&&(this.formStates[i].isCaptchaRendered||(this.formStates[i].captchaId=window.grecaptcha.render(e.find(".js-captcha").get(0)),this.formStates[i].isCaptchaRendered=!0)),!1===this.isFocusTracked&&(this.isFocusTracked=!0,ga("send",{hitType:"event",eventCategory:"contact.form",eventAction:"focus",eventLabel:i}))}},{key:"onSubmit",value:function(t){t.preventDefault(),t.stopPropagation();var e=$(t.currentTarget),i=this.getFormIdent(e);if(!this.validate(e))return this.message(this.errorMessage,!0),!1;this.formStates[i].isSubmitting=!0,this.sendData(e,i)}},{key:"sendData",value:function(t,e){var i=this;if(!this.formStates[e].isTransmitting){this.formStates[e].isTransmitting=!0,t.addClass(xi),this.message("",!1,!1);var n=this.formStates[e].usingFormData?new FormData(t.get(0)):t.serialize();setTimeout(function(){$.ajax({url:t.data("action")||t.prop("action"),method:"POST",contentType:i.formStates[e].contentType,processData:i.formStates[e].processData,dataType:"json",data:n}).done(function(t,n,s){"string"==typeof t.id?(Ae.lisa.session.name=t.firstName,i.hide(),m.triggerHandler({type:di.SHOW,options:{id:"end"}}),ga("send",{hitType:"event",eventCategory:"contact.form",eventAction:"submit.success",eventLabel:e})):(console.group("Something went wrong with the request (fail, ".concat(n,")")),console.log(t),console.log(s),console.log(n),console.groupEnd())}).fail(function(t,n,s){var o=[],a={};try{if(t&&t.responseJSON&&(a=t.responseJSON),!($.isArray(a)&&0<a.length))throw new Error("Bad Response");o=a}catch(t){}var r=o.map(function(t){return"".concat(t.message," <br>")});i.message(r,!0),ga("send",{hitType:"event",eventCategory:"contact.form",eventAction:"submit.fail",eventLabel:e}),console.group("Something went wrong with the request (fail, ".concat(n,")")),console.log(s),console.log(a),console.log(n),console.groupEnd()}).always(function(){t.removeClass(xi),i.formStates[e].isSubmitting=!1,i.formStates[e].isTransmitting=!1})},600)}}},{key:"message",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.$message.toggleClass("-error",e).html(t),i?this.$message.slideDown(250):this.$message.slideUp(250)}},{key:"show",value:(o=e(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u(l(n.prototype),"show",this).call(this).then(function(){if(e.active){e.$formList.hide();var t=e.$formList.filter('[data-type="'.concat(Ae.lisa.session.goal,'"]'));for(var i in t.show(),Ae.lisa.session)t.find('input[name="'.concat(i,'"],select[name="').concat(i,'"]')).val(Ae.lisa.session[i])}}));case 1:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"resetCaptchas",value:function(){if(this.hasCaptcha)for(var t in this.formStates)null!==this.formStates[t].captchaId&&window.grecaptcha.reset(this.formStates[t].captchaId)}},{key:"hide",value:function(){return this.message("",!1,!1),this.$formList.each(function(t,e){e.reset()}),this.resetCaptchas(),u(l(n.prototype),"hide",this).call(this)}},{key:"validate",value:function(t){var e=t.find("[data-is-required]:visible");e.removeClass("-invalid");var i=!1;return e.each(function(t,e){var n=$(e);switch(n.attr("type")){case"checkbox":n.is("checked")||(n.addClass("-invalid"),i=!0);break;default:n.val()||(n.addClass("-invalid"),i=!0)}}),!i}},{key:"destroy",value:function(){this.$el.off(".".concat(Si)),u(l(n.prototype),"destroy",this).call(this)}}]),n}(),Li=function(t){function n(t){return i(this,n),c(this,l(n).call(this,t))}var o;return r(n,ki),s(n,[{key:"show",value:(o=e(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=u(l(n.prototype),"show",this).call(this),requestAnimationFrame(function(){i.$el.find("[data-project-type]").addClass("is-hidden"),i.$el.find('[data-project-type="'.concat(Ae.lisa.session.projectType,'"]')).removeClass("is-hidden")}),t.abrupt("return",e);case 3:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})}]),n}(),Ri=function(t){function e(t){return i(this,e),c(this,l(e).call(this,t))}return r(e,yi),s(e,[{key:"setText",value:function(){var t=Ae.lisa,e=void 0!==t.context&&"string"==typeof t.context.weatherIdent,i={};if(e)for(var n=Object.keys(this.sentences.context),s=0;s<n.length;s++){var o=n[s],a=o+"."+t.context.tod+"."+t.context.weatherIdent;i[a]=this.sentences.context[o][a]}for(var r={},l=Object.keys(i),h=0;h<l.length;h++){var c=l[h];r[c]=i[c]}for(var u=Object.keys(this.sentences.generic),d=0;d<u.length;d++){var f=u[d];r[f]=this.sentences.generic[f]}var p=Object.keys(r);if(this.msgId=p[Math.floor(Math.random()*p.length)],this.msg=r[this.msgId],e&&.5<Math.random()&&this.sentences[t.context.weatherIdent]&&Object.keys(this.sentences[t.context.weatherIdent]).length){var m=this.sentences[t.context.weatherIdent],g=Object.keys(m);this.msgId=g[Math.floor(Math.random()*g.length)],this.msg=m[this.msgId]}this.$title.html(this.msg),this.splitText=new SplitText(this.$title,{wordsClass:"word"}),this.subtitle&&this.$title.attr("data-subtitle",Ae.lisa.trads[Ae.lisa.session.goal])}}]),e}(),Oi="".concat(p,".").concat("LisaOpener"),Ii={CLICK:"click.".concat(Oi)},Pi=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$el.on(Ii.CLICK,function(e){m.triggerHandler({type:mi.SHOW,options:{session:t.$el.data("session"),step:t.$el.data("step")}})})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Oi))}}]),e}(),Ai="".concat(p,".").concat("StickyLimiter"),ji=0,Hi={RESIZE:"resize.".concat(Ai)},Di=function(t){function e(t){var n;return i(this,e),n=c(this,l(e).call(this,t)),ji++,window.stickyLimiters||(window.stickyLimiters=[]),window.stickyLimiters.push(h(n)),n.zIndex=99-ji,n.$inner=n.$el.find(".js-sticky-inner"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;setTimeout(function(){t.hasSmoothScroll=!1,v.hasClass("has-smooth-scroll")&&(t.hasSmoothScroll=!0),t.hasSmoothScroll&&(t.checkResizeBind=t.checkResize.bind(t),g.on(Hi.RESIZE,t.checkResizeBind),t.compute(),t.checkScrollBind=t.checkScroll.bind(t),m.on(Q.SCROLLING,t.checkScrollBind),t.$el.before('<div class="o-sticky-shadow"></div>'),t.tw=TweenMax.fromTo(t.$inner,1,{y:"-100%"},{y:"0%",ease:Linear.easeNone}),t.tw.pause())},200)}},{key:"compute",value:function(){this.tw&&this.tw.progress&&this.tw.progress(0),this.elBCR=this.$el[0].getBoundingClientRect();var t=this.hasSmoothScroll?window.scroll.y:0;this.offsetTop=this.$el.offset().top+t,this.scrollStart=this.offsetTop-window.innerHeight,this.scrollEnd=this.scrollStart+this.elBCR.height}},{key:"scrollUpdate",value:function(t){var e=(window.scroll.y-this.scrollStart)/(this.scrollEnd-this.scrollStart);e=Math.max(0,Math.min(1,Math.round(1e3*e)/1e3)),this.hasSmoothScroll||(e=1),this.tw.progress(e),this.scrollTick=!1}},{key:"checkResize",value:function(){var t=this;this.computeTick||(requestAnimationFrame(function(){t.compute(),requestAnimationFrame(function(){t.scrollUpdate()}),t.computeTick=!1}),this.computeTick=!0)}},{key:"checkScroll",value:function(t){this.scrollUpdate(t)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),g.off(Hi.RESIZE,this.checkResizeBind),m.off(Q.SCROLLING,this.checkScrollBind)}}]),e}(),Ni="".concat(p,".").concat("AccordionCareers"),Bi={CLICK:"click.".concat(Ni),RESIZE:"resize.".concat(Ni)},_i=".js-accordion-item",Ui=".js-accordion-content",zi="is-open",Fi=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).$scrollContainer=window.isMobile?m:$(".o-scroll"),n.$target=$(t.target),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$el.on(Bi.CLICK,".js-accordion-triggerer",function(e){return t.trigger(e)}),0<this.$target.length&&this.open(this.$target)}},{key:"trigger",value:function(t){var e=$(t.currentTarget).parents(_i);e.hasClass(zi)?this.close(e):this.open(e)}},{key:"open",value:function(t){var e=this;this.checkActive(),t.find(Ui).slideDown(1e3,function(){return e.scrollTo(t)}),t.addClass(zi)}},{key:"close",value:function(t){t.find(Ui).slideUp(1e3,function(){g.triggerHandler({type:"resize"})}),t.removeClass(zi)}},{key:"checkActive",value:function(){var t=this.$el.find(_i+"."+zi);t.length&&this.close(t)}},{key:"scrollTo",value:function(t){m.triggerHandler({type:Q.SCROLLTO,options:{targetElem:t,speed:600}}),setTimeout(function(){g.triggerHandler({type:"resize"})},300)}},{key:"handleResize",value:function(){this.checkActive()}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Ni)),g.off(".".concat(Ni))}}]),e}(),Wi="Panorama",Gi="".concat(p,".").concat(Wi),Vi={CLICK:"click.".concat(Gi),RESIZE:"resize.".concat(Gi),MOUSE_DOWN:"mousedown.".concat(Gi),MOUSE_UP:"mouseup.".concat(Gi),TRIGGER:"trigger.".concat(Wi)},qi="-dragging",Ki=1,Yi=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).dragging=!1,n.progressTarget=.5,n.dirty=!1,n.inView=!1,n.lerpFactor=Ki,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.tw=TweenMax.fromTo(this,.5,{progressTarget:.15},{progressTarget:1,ease:Power1.easeInOut}),this.tw.pause(),this.$inner=this.$el.find(".js-inner"),this.checkResizeBind=this.checkResize.bind(this),g.on(Vi.RESIZE,this.checkResizeBind),this.compute(),this.manageDragAndDrop(),this.update(),this.checkScrollBind=this.checkScroll.bind(this),m.on(Q.SCROLLING,this.checkScrollBind),this.$el.on(Vi.TRIGGER,function(e){"enter"===e.way?t.inView=!0:t.inView=!1})}},{key:"checkResize",value:function(){var t=this;this.computeTick||(requestAnimationFrame(function(){t.compute()}),this.computeTick=!0)}},{key:"checkScroll",value:function(t){if(!this.dirty){if(!this.inView)return;this.scrollUpdate(t)}}},{key:"compute",value:function(){this.hasSmoothScroll=!1,v.hasClass("has-smooth-scroll")&&(this.hasSmoothScroll=!0),TweenMax.set(this.$inner,{scale:1,transition:"none"}),this.innerBCR=this.$inner[0].getBoundingClientRect(),this.wrapperBCR=this.$el[0].getBoundingClientRect(),this.deltaX=this.wrapperBCR.width-this.innerBCR.width,TweenMax.set(this.$inner,{clearProps:"scale,transition"}),this.tl&&this.tl.kill&&this.tl.kill(),this.tl=new TimelineMax({}),this.tl.fromTo(this.$inner,1,{x:0},{x:this.deltaX,ease:Linear.easeNone}),this.tl.progress(this.progressTarget).pause(),this.elBCR=this.$el[0].getBoundingClientRect();var t=this.hasSmoothScroll?window.scroll.y:0;this.offsetTop=this.$el.offset().top+t,this.scrollStart=this.offsetTop-window.innerHeight,this.scrollEnd=this.scrollStart+window.innerHeight+this.elBCR.height,this.computeTick=!1}},{key:"scrollUpdate",value:function(t){var e=(window.scroll.y-this.scrollStart)/(this.scrollEnd-this.scrollStart);e=Math.max(0,Math.min(1,Math.round(1e3*e)/1e3)),this.tw.progress(e),this.scrollTick=!1}},{key:"manageDragAndDrop",value:function(){var t=this;this.panManager=new Hammer.Manager(this.$el[0],{inputClass:Hammer.TouchMouseInput}),this.panManager.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,threshold:0})),this.onPanStart=function(e){t.dragging=!0,t.progressOnGrabStart=t.tl.progress(),t.$el.toggleClass(qi,t.dragging),t.dirty=!0,t.lerpFactor=.1,t.tw.kill()},this.panManager.on("panstart",this.onPanStart),this.$el.on(Vi.MOUSE_DOWN,this.onPanStart),this.onPanMove=function(e){var i=e.deltaX/t.deltaX;t.progressTarget=Math.max(0,Math.min(t.progressOnGrabStart+i,1))},this.panManager.on("panmove",this.onPanMove),this.onPanEnd=function(e){t.dragging=!1,t.$el.toggleClass(qi,t.dragging)},this.panManager.on("panend",this.onPanEnd),this.$el.on(Vi.MOUSE_UP,this.onPanEnd)}},{key:"update",value:function(){this.tl.progress(V(this.tl.progress(),this.progressTarget,this.lerpFactor)),this.raf=requestAnimationFrame(this.update.bind(this))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Gi)),g.off(Vi.RESIZE,this.resizeBind),m.off(Q.SCROLLING,this.checkScrollBind),this.panManager.off("panstart",this.onPanStart),this.panManager.off("panmove",this.onPanMove),this.panManager.off("panend",this.onPanEnd),this.panManager.destroy(),this.panManager=null}}]),e}(),Xi="".concat(p,".").concat("Quote"),Zi={CLICK:"click.".concat(Xi),RESIZE:"resize.".concat(Xi),MOUSE_DOWN:"mousedown.".concat(Xi),MOUSE_UP:"mouseup.".concat(Xi),TRIGGER:"trigger.".concat("Quote")},Qi="-dragging",Ji=1,tn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).dragging=!1,n.progressTarget=0,n.dirty=!1,n.inView=!1,n.lerpFactor=Ji,n.$text=n.$el.find(".js-text"),n.$inner=n.$el.find(".js-inner"),n.$dragzone=n.$el.find(".js-drag-zone"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.tw=TweenMax.fromTo(this,.5,{progressTarget:0},{progressTarget:.05,ease:Power1.easeIn}),this.tw.pause(),this.checkResizeBind=this.checkResize.bind(this),g.on(Zi.RESIZE,this.checkResizeBind),this.compute(),this.manageDragAndDrop(),this.update(),this.$el.on(Zi.TRIGGER,function(e){"enter"===e.way?t.inView=!0:t.inView=!1})}},{key:"checkResize",value:function(){var t=this;this.computeTick||(requestAnimationFrame(function(){t.compute()}),this.computeTick=!0)}},{key:"checkScroll",value:function(t){if(!this.dirty){if(!this.inView)return;this.scrollUpdate(t)}}},{key:"compute",value:function(){this.hasSmoothScroll=!1,v.hasClass("has-smooth-scroll")&&(this.hasSmoothScroll=!0),TweenMax.set(this.$inner,{scale:1,transition:"none"}),this.textBCR=this.$text[0].getBoundingClientRect(),this.wrapperBCR=this.$el[0].getBoundingClientRect(),this.deltaX=this.wrapperBCR.width-this.textBCR.width,TweenMax.set(this.$inner,{clearProps:"scale,transition"}),this.tl&&this.tl.kill&&this.tl.kill(),this.tl=new TimelineMax({}),this.tl.fromTo(this.$text,1,{x:0},{x:this.deltaX,ease:Linear.easeNone}),this.tl.progress(this.progressTarget).pause(),this.elBCR=this.$el[0].getBoundingClientRect();var t=this.hasSmoothScroll?window.scroll.y:0;this.offsetTop=this.$el.offset().top+t,this.scrollStart=this.offsetTop-window.innerHeight,this.scrollEnd=this.scrollStart+window.innerHeight+this.elBCR.height,this.computeTick=!1}},{key:"scrollUpdate",value:function(t){var e=(window.scroll.y-this.scrollStart)/(this.scrollEnd-this.scrollStart);e=Math.max(0,Math.min(1,Math.round(1e3*e)/1e3)),this.tw.progress(e),this.scrollTick=!1}},{key:"manageDragAndDrop",value:function(){var t=this;this.panManager=new Hammer.Manager(this.$dragzone[0],{inputClass:Hammer.TouchMouseInput}),this.panManager.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,threshold:0})),this.onPanStart=function(e){t.dragging=!0,t.progressOnGrabStart=t.tl.progress(),t.$el.toggleClass(Qi,t.dragging),t.dirty=!0,t.lerpFactor=.1,t.tw.kill()},this.panManager.on("panstart",this.onPanStart),this.$dragzone.on(Zi.MOUSE_DOWN,this.onPanStart),this.onPanMove=function(e){var i=e.deltaX/(.8*-t.wrapperBCR.width);t.progressTarget=Math.max(0,Math.min(t.progressOnGrabStart+i,1))},this.panManager.on("panmove",this.onPanMove),this.onPanEnd=function(e){t.dragging=!1,t.$el.toggleClass(Qi,t.dragging)},this.panManager.on("panend",this.onPanEnd),this.$dragzone.on(Zi.MOUSE_UP,this.onPanEnd)}},{key:"update",value:function(){this.tl.progress(V(this.tl.progress(),this.progressTarget,this.lerpFactor)),this.raf=requestAnimationFrame(this.update.bind(this))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Xi)),this.$dragzone.off(".".concat(Xi)),m.off(Q.SCROLLING,this.checkScrollBind),g.off(Zi.RESIZE,this.checkResizeBind),this.panManager.off("panstart",this.onPanStart),this.panManager.off("panmove",this.onPanMove),this.panManager.off("panend",this.onPanEnd),this.panManager.destroy(),this.panManager=null}}]),e}(),en="".concat(p,".").concat("Sprite"),nn={CLICK:"click.".concat(en),RESIZE:"resize.".concat(en),MOUSE_MOVE:"mousemove.".concat(en),REQUEST_UPDATE:"requestUpdate.".concat(en),SET_MODE:"setMode.".concat(en)},sn={INSTANT:"instant",FADE:"fade"},on=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).tick=1,n.lastFrame=0,n.updateRequest=!1,n.imageRequested=!1,n.imageToReplace=!1,n.setMode(sn.INSTANT),n.FRAMERATE=null!=t.framerate?t.framerate:30,n.NB_COLS=parseInt(t.cols),n.NB_ROWS=parseInt(t.rows),n.NB_FRAMES=null!=t["frames-nb"]?t["frames-nb"]:n.NB_COLS*n.NB_ROWS,n.FRAME_WIDTH=100/n.NB_COLS,n.FRAME_HEIGHT=100/n.NB_ROWS,n.$sizer=n.$el.find(".js-sizer"),n.$image=n.$el.find(".js-image"),n.src=n.$image.attr("data-src"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.getFrameValues(),TweenMax.set(this.$image,{width:100*this.NB_COLS+"%"}),this.$el.on(nn.REQUEST_UPDATE,function(e){t.imageRequested?!0===e.options.value?t.checkUpdate():t.mode==sn.FADE&&t.hideSprite():t.loadImage().then(function(){t.updateRequest&&(t.updateRequest=!1,t.checkUpdate())}),t.updateRequest=e.options.value}),this.$el.on(nn.SET_MODE,function(e){t.setMode(e.options.value)})}},{key:"checkUpdate",value:function(){var t=this;this.updateRequest||(this.imageToReplace?(this.setImgTimeout=setTimeout(function(){t.$image[0].src=t.src,t.showSprite()},300),this.imageToReplace=!1):this.showSprite(),requestAnimationFrame(this.update.bind(this)),this.updateRequest=!0)}},{key:"loadImage",value:function(){var t=this;return this.imageRequested=!0,this.$el.toggleClass("-loading",!0),new Promise(function(e){var i=new Image;i.onload=function(){t.imageToReplace=!0,e(),t.$el.toggleClass("-loading",!1)},i.src=t.src})}},{key:"getFrameValues",value:function(){this.frames=[];for(var t=0;t<this.NB_FRAMES;t++){var e=t%this.NB_COLS,i=Math.floor(t/this.NB_COLS),n={column:e,row:i,x:e*this.FRAME_WIDTH+"%",y:i*this.FRAME_HEIGHT+"%"};this.frames.push(n)}}},{key:"goToFrame",value:function(t){TweenMax.set(this.$image,{x:"-"+this.frames[t].x,y:"-"+this.frames[t].y})}},{key:"update",value:function(t){t-this.lastFrame>1e3/this.FRAMERATE&&(this.lastFrame=t,this.goToFrame(Math.round(this.tick%this.NB_FRAMES)),this.tick++),this.updateRequest&&requestAnimationFrame(this.update.bind(this))}},{key:"setMode",value:function(t){var e=this;this.mode=t,Object.entries(sn).forEach(function(i){var n=d(i,2),s=(n[0],n[1]);s==t?e.$el.toggleClass("-"+s,!0):e.$el.toggleClass("-"+s,!1)})}},{key:"showSprite",value:function(){clearTimeout(this.hideSpriteTimeout),TweenMax.set(this.$sizer,{opacity:0}),TweenMax.set(this.$image,{opacity:1,visibility:"visible"})}},{key:"hideSprite",value:function(){var t=this;TweenMax.set(this.$sizer,{opacity:1}),TweenMax.set(this.$image,{opacity:0}),this.hideSpriteTimeout=setTimeout(function(){TweenMax.set(t.$image,{visibility:"hidden"})},500)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(en))}}]),e}(),an="".concat(p,".").concat("TeamMember"),rn={CLICK:"click.".concat(an),MOUSE_ENTER:"mouseenter.".concat(an),MOUSE_MOVE:"mousemove.".concat(an),MOUSE_LEAVE:"mouseleave.".concat(an),RESIZE:"resize.".concat(an)},ln="-active",hn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).mousePos={x:0,y:0},n.facePos={x:0,y:0},n.entryPos={x:0,y:0},n.$text=n.$el.find(".js-text"),n.$face=n.$el.find(".js-face"),n.$faceInner=n.$el.find(".js-face-inner"),n.$sprite=n.$el.find(".js-sprite"),n}return r(e,A),s(e,[{key:"init",value:function(){this.checkResizeBind=this.checkResize.bind(this),g.on(rn.RESIZE,this.checkResizeBind),this.checkResize(),this.$el.on(rn.MOUSE_ENTER,this.onMouseEnter.bind(this)),this.$el.on(rn.MOUSE_LEAVE,this.onMouseLeave.bind(this)),this.$el.on(rn.MOUSE_MOVE,this.onMouseMove.bind(this))}},{key:"onMouseEnter",value:function(t){var e=this;this.$sprite.triggerHandler({type:nn.SET_MODE,options:{value:window.innerWidth<700?sn.FADE:sn.INSTANT}}),TweenMax.set(this.$text,{scaleX:this.factorX,force3D:!0}),TweenMax.set(this.$el,{zIndex:10}),this.$face.toggleClass(ln,!0),requestAnimationFrame(function(){e.entering=!0,e.elBCR=e.$el[0].getBoundingClientRect(),e.entryPos.x=t.clientX-e.elBCR.left,e.entryPos.y=t.clientY-e.elBCR.top}),clearTimeout(this.updateTimeout),this.checkUpdate(),this.timeout=setTimeout(function(){e.$sprite.triggerHandler({type:nn.REQUEST_UPDATE,options:{value:!0}})},300)}},{key:"onMouseLeave",value:function(t){var e=this;clearTimeout(this.timeout),TweenMax.set(this.$text,{scaleX:1,force3D:!0}),TweenMax.set(this.$el,{clearProps:"zIndex"}),this.$face.toggleClass(ln,!1),this.updateTimeout=setTimeout(function(){e.updateRequest=!1,e.$sprite.triggerHandler({type:nn.REQUEST_UPDATE,options:{value:!1}})},500)}},{key:"onMouseMove",value:function(t){var e=this;cancelAnimationFrame(this.mouseRaf),this.mouseRaf=requestAnimationFrame(function(){e.elBCR=e.$el[0].getBoundingClientRect(),e.mousePos.x=t.clientX-e.elBCR.left,e.mousePos.y=t.clientY-e.elBCR.top})}},{key:"checkResize",value:function(){var t=this;this.computeTick||(requestAnimationFrame(function(){t.$text.length&&t.compute()}),this.computeTick=!0)}},{key:"checkUpdate",value:function(){var t=this;this.updateRequest||(requestAnimationFrame(function(){t.update()}),this.updateRequest=!0)}},{key:"compute",value:function(){this.textBCR=this.$text[0].getBoundingClientRect(),this.elBCR=this.$el[0].getBoundingClientRect(),this.factorX=this.elBCR.width/this.textBCR.width,this.computeTick=!1}},{key:"update",value:function(){1==this.entering&&(this.facePos.x=this.mousePos.x=this.entryPos.x,this.facePos.y=this.mousePos.y=this.entryPos.y,this.entering=!1),this.facePos.x=V(this.facePos.x,this.mousePos.x,.2),this.facePos.y=V(this.facePos.y,this.mousePos.y,.2),TweenMax.set(this.$face,{x:this.facePos.x,y:this.facePos.y,force3D:!0}),this.updateRequest&&requestAnimationFrame(this.update.bind(this))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),g.off(rn.RESIZE,this.checkResizeBind),this.$el.off(".".concat(an))}}]),e}(),cn="".concat(p,".").concat("TriforceMember"),un={CLICK:"click.".concat(cn),MOUSE_ENTER:"mouseenter.".concat(cn),MOUSE_LEAVE:"mouseleave.".concat(cn),MOUSE_MOVE:"mousemove.".concat(cn)},dn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).$shape=n.$el.find(".js-shape"),n}return r(e,hn),s(e,[{key:"init",value:function(){var t=this;this.$shape.on(un.MOUSE_ENTER,function(e){t.$el.toggleClass("-active",!0),t.onMouseEnter(e)}),this.$shape.on(un.MOUSE_LEAVE,function(e){t.$el.toggleClass("-active",!1),t.onMouseLeave(e)}),this.$shape.on(un.MOUSE_MOVE,function(e){t.onMouseMove(e)})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(cn)),this.$shape.off(".".concat(cn))}}]),e}(),fn="".concat(p,".").concat("TeamList"),pn={CLICK:"click.".concat(fn)},mn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).$category=n.$el.find(".js-category"),n.$list=n.$el.find(".js-list"),n.$member=n.$el.find(".js-member"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$category.on(pn.CLICK,function(e){var i=$(e.currentTarget),n=i.attr("data-ident");i.hasClass("-active")||(t.$category.toggleClass("-active",!1),i.toggleClass("-active",!0),t.$list.toggleClass("-hidden",!0),clearTimeout(t.hideTimeout),t.hideTimeout=setTimeout(function(){null==n?t.$member.show():t.$member.hide().filter('[data-category="'+$(e.currentTarget).attr("data-ident")+'"]').show(),t.$list.toggleClass("-hidden",!1),g.trigger("resize")},250))})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$category.off(".".concat(fn)),clearTimeout(this.hideTimeout)}}]),e}(),gn="".concat(p,".").concat("HiddenWords"),vn={CLICK:"click.".concat(gn),MOUSE_ENTER:"mouseenter.".concat(gn),LAUNCH:"launch.".concat(gn)},yn=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$words=this.$el.find(".js-word"),this.splitText=new SplitText(this.$words,{type:"chars",charsClass:"c-hidden-words_char"}),this.$chars=$(this.splitText.chars),this.$chars.on(vn.MOUSE_ENTER,function(t){$(t.currentTarget).toggleClass("-dirty",!0)}),window.isMobile&&this.$el.on(vn.LAUNCH,function(){var e=x(t.splitText.chars),i=0,n=setInterval(function(){$(e[i]).toggleClass("-dirty",!0),++i>=e.length&&clearInterval(n)},100)})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$chars.off(vn.MOUSE_ENTER),this.$el.off(".".concat(gn))}}]),e}(),wn="".concat(p,".").concat("Footer"),Tn={CLICK:"click.".concat(wn),MOUSEDOWN:"mousedown.".concat(wn),MOUSEUP:"mouseup.".concat(wn)},En=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).isLeaving=!1,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;setTimeout(function(){t.$timelines=$(".js-timeline",t.$el),t.timeline=new TimelineMax({onComplete:function(){t.prepareTransition()}}),t.timeline.to(t.$timelines,1,{scaleY:1,ease:Power0.easeNone}),t.timeline.pause(),t.$el.on(Tn.CLICK,function(e){e.preventDefault(),e.stopPropagation(),window.innerWidth<1200&&(t.timeline.timeScale(2),t.timeline.play())}),1200<=window.innerWidth&&(t.$el.on(Tn.MOUSEDOWN,function(){return t.hold()}),t.$el.on(Tn.MOUSEUP,function(){return t.release()}))},600)}},{key:"hold",value:function(){this.isLeaving||(this.timeline.timeScale(1),this.timeline.play())}},{key:"release",value:function(){this.isLeaving||(this.timeline.timeScale(4),this.timeline.reverse())}},{key:"prepareTransition",value:function(){var t=this;this.isLeaving=!0,this.$el.addClass("is-leaving"),TweenMax.to(this.$timelines,1,{scaleY:0,ease:Power4.easeInOut}),setTimeout(function(){m.triggerHandler({type:St.GOTO,target:t.el})},400)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.timeline.kill(),this.$el.off(".".concat(wn))}}]),e}(),kn="".concat(p,".").concat("PlayGrid"),Sn={CLICK:"click.".concat(kn),RESIZE:"resize.".concat(kn)},bn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).gridDimensions={w:0,h:0},n.position={x:0,y:0},n.target={x:0,y:0,scale:1},n.viewport={w:n.el.clientWidth,h:window.innerHeight},n.oldWidth=0,n.panSpeed={x:0,y:0},n.$grid=n.$el.find(".js-grid"),n.grid=n.$grid[0],n.$wrapper=n.$el.find(".js-wrapper"),n.wrapper=n.$grid[0],n.$itemsWrapper=n.$el.find(".js-play-items"),n.$item=n.$el.find(".js-play-grid-item"),n.$spot=n.$el.find(".js-play-grid-spot"),n.isPlayTracked=!1,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.insertAndShuffle(),this.compute(),window.innerWidth<1200||(this.manageInteractions(),this.onResizeBind=function(){t.resizeTick||(t.resizeTick=!0,requestAnimationFrame(function(){t.compute(),t.resizeTick=!1}))},g.on(Sn.RESIZE,this.onResizeBind))}},{key:"insertAndShuffle",value:function(){var t=this;this.counters={},this.spots={},x(Array.from(this.$itemsWrapper.find(".js-play-grid-item"))).forEach(function(e){var i=$(e).data("type");if(t.counters[i]||(t.counters[i]=0),t.spots[i]||(t.spots[i]=Array.from(t.$spot).filter(function(t){return $(t).data("type")==i})),!(t.counters[i]>=t.spots[i].length)){var n=t.spots[i][t.counters[i]],s=n.parentNode,o=Array.from(s.children).indexOf(t.spots[i][t.counters[i]]),a=null!=s.children[o+1]?s.children[o+1]:null;n.remove(),s.insertBefore(e,a),t.counters[i]++}}),this.$itemsWrapper.remove()}},{key:"compute",value:function(){var t=this;if(this.el.clientWidth!=this.oldWidth){var e=this.grid.getBoundingClientRect();this.gridDimensions.w=e.width,this.gridDimensions.h=e.height,this.viewport.w=this.el.clientWidth,this.viewport.h=window.innerHeight,this.oldWidth=this.viewport.w,this.items=Array.from(this.$item).map(function(i){var n=i.getBoundingClientRect(),s={};return s.el=i,s.w=n.width,s.h=n.height,s.x=n.left+t.position.x-e.left,s.y=n.top+t.position.y-e.top,s.inview=!1,s}),this.position.x=this.target.x=Math.round(100*(this.gridDimensions.w/2-this.viewport.w/2))/100,this.position.y=this.target.y=Math.round(100*(this.gridDimensions.h/2-this.viewport.h/2))/100,this.boundaries={x:{min:0,max:this.gridDimensions.w-this.viewport.w},y:{min:0,max:this.gridDimensions.h-this.viewport.h}}}}},{key:"manageInteractions",value:function(){this.hammerManager=new Hammer.Manager(this.el),this.hammerManager.add(new Hammer.Pan({direction:Hammer.DIRECTION_VERTICAL,threshold:0})),this.hammerManager.add(new Hammer.Pinch({})),this.managePan(),this.update()}},{key:"managePan",value:function(){var t=this;this.onPanStart=function(e){!1===t.isPlayTracked&&(t.isPlayTracked=!0,ga("send",{hitType:"event",eventCategory:"play.pan",eventAction:"click"})),t.$wrapper.toggleClass("-panning",!0),t.dragStartPosition={x:t.position.x,y:t.position.y},t.throwTw&&t.throwTw.kill&&(t.throwTw.kill(),t.throwTw=null)},this.hammerManager.on("panstart",this.onPanStart),this.onPanMove=function(e){if(t.target.x=t.dragStartPosition.x-1.5*e.deltaX,t.target.y=t.dragStartPosition.y-1.5*e.deltaY,t.target.x<0){var i=Math.abs(t.target.x-t.boundaries.x.min);t.target.x=t.boundaries.x.min-i/6}else if(t.target.x>t.boundaries.x.max){var n=Math.abs(t.target.x-t.boundaries.x.max);t.target.x=t.boundaries.x.max+n/6}if(t.target.y<0){var s=Math.abs(t.target.y-t.boundaries.y.min);t.target.y=t.boundaries.y.min-s/6}else if(t.target.y>t.boundaries.y.max){var o=Math.abs(t.target.y-t.boundaries.y.max);t.target.y=t.boundaries.y.max+o/6}t.panSpeed.x=e.velocityX,t.panSpeed.y=e.velocityY},this.hammerManager.on("panstart panmove",this.onPanMove),this.onPanEnd=function(e){t.$wrapper.toggleClass("-panning",!1),t.throwTw=ThrowPropsPlugin.to(t.target,{throwProps:{x:{velocity:1e3*-t.panSpeed.x,resistance:2500,min:t.boundaries.x.min,max:t.boundaries.x.max},y:{velocity:1e3*-t.panSpeed.y,resistance:2500,min:t.boundaries.y.min,max:t.boundaries.y.max}},ease:Power4.easeOut,onUpdate:function(){}},null,null,1)},this.hammerManager.on("panend",this.onPanEnd)}},{key:"managePinch",value:function(){var t=this;this.onPinchStart=function(e){t.scaleOnPinchStart=t.target.scale},this.hammerManager.on("pinchstart",this.onPinchStart),this.onPinchMove=function(e){t.target.scale=Math.max(SCALE.SMALLEST,Math.min(SCALE.DEFAULT,t.scaleOnPinchStart*e.scale*1.5))},this.hammerManager.on("pinchmove",this.onPinchMove)}},{key:"update",value:function(){void 0!==this.target.x&&(this.position.x=V(this.position.x,this.target.x,.2)),void 0!==this.target.y&&(this.position.y=V(this.position.y,this.target.y,.2)),Math.round(1*this.position.x)==Math.round(1*this.target.x)&&(this.position.x=this.target.x=Math.round(this.target.x)),Math.round(1*this.position.y)==Math.round(1*this.target.y)&&(this.position.y=this.target.y=Math.round(this.target.y));var t="matrix(1,0,0,1,".concat(Math.round(-this.position.x),",").concat(Math.round(-this.position.y),")"),e=!0,i=!1,n=void 0;try{for(var s,o=this.items[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;a.el.style.webkitTransform=t,a.el.style.MozTransform=t,a.el.style.msTransform=t,a.el.style.OTransform=t,a.el.style.transform=t}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}this.raf=window.requestAnimationFrame(this.update.bind(this))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(kn)),g.off(Sn.RESIZE,this.onResizeBind),window.cancelAnimationFrame(this.raf),window.innerWidth<1200||(this.throwTw&&this.throwTw.kill&&this.throwTw.kill(),this.hammerManager.off("panstart",this.onPanStart),this.hammerManager.off("panstart panmove",this.onPanMove),this.hammerManager.off("panend",this.onPanEnd),this.hammerManager.destroy(),this.hammerManager=null)}}]),e}(),Cn="".concat(p,".").concat("PlayRail"),xn={CLICK:"click.".concat(Cn),RESIZE:"resize.".concat(Cn)},Mn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).speed=t.speed||100,n.position=0,n.vertical="string"==typeof t.vertical||!0===t.vertical,n.lastUpdate=Date.now(),n.resizeTick=!1,n.$containers=n.$el.find(".js-play-rail-container"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.compute(),this.update(),this.onResizeBind=function(){t.resizeTick||(t.resizeTick=!0,requestAnimationFrame(function(){t.compute(),t.resizeTick=!1}))},g.on(xn.RESIZE,this.onResizeBind)}},{key:"compute",value:function(){this.containerSize=this.vertical?this.$containers[0].clientHeight:this.$containers[0].clientWidth}},{key:"update",value:function(){var t=Date.now(),e=t-this.lastUpdate;this.position-=this.speed*e/1e3,this.position<-this.containerSize&&(this.position=this.position+this.containerSize),0<this.position&&(this.position=-this.containerSize+this.position);var i=0,n=0;this.vertical?n=this.position:i=this.position,this.lastUpdate=t,TweenMax.set(this.$containers,{x:i,y:n,force3D:!0}),this.raf=window.requestAnimationFrame(this.update.bind(this))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Cn)),g.off(xn.RESIZE,this.onResizeBind),window.cancelAnimationFrame(this.raf)}}]),e}(),$n="".concat(p,".").concat("PlayModal"),Ln={CLICK:"click.".concat($n),OPEN:"open.".concat($n),CLOSE:"close.".concat($n)},Rn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).id=t.id,n.active=!1,n.$close=n.$el.find(".js-close"),n.$content=n.$el.find(".js-content"),n.$title=n.$el.find(".js-modal-title"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$el.on(Ln.CLICK,".js-close",function(){return t.close()}),m.on(Ln.OPEN,function(e){e.options.id==t.id&&t.openRequest(e)}),m.on(Ln.CLOSE,function(e){e.options.id==t.id&&t.closeRequest(e)})}},{key:"openRequest",value:function(t){this.open()}},{key:"closeRequest",value:function(t){this.close()}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.$el.find('[data-module="VimeoPlayer"]').trigger(qe.PAUSE),this.$el.removeClass("is-loading is-loaded is-animated")}},{key:"toggle",value:function(t){"undefined"===t&&(t=!this.active),this.active=t,this.$el.toggleClass("is-loaded",this.active),this.$el.toggleClass("is-animated",this.active)}},{key:"setTitle",value:function(t){this.$title.text(t)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat($n)),this.$close.off(".".concat($n)),m.off(Ln.OPEN,this.openRequestBind),m.off(Ln.CLOSE,this.closeRequestBind)}}]),e}(),On="".concat(p,".").concat("PlayGridTeam"),In=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).memberId=t.id,n.$sprite=n.$el.find(".js-sprite"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;1200<window.innerWidth&&requestAnimationFrame(function(){setTimeout(function(){t.$sprite.triggerHandler({type:nn.REQUEST_UPDATE,options:{value:!0}})},1e3+1e3*Math.random())})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(On))}}]),e}(),Pn="".concat(p,".").concat("PlayGridPicture"),An={CLICK:"click.".concat(Pn)},jn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).id=t.id,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$el.on(An.CLICK,function(){m.triggerHandler({type:Ln.OPEN,options:{id:"pictures",slideId:t.id}})})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Pn))}}]),e}(),Hn="".concat(p,".").concat("PlayModalSlider"),Dn=function(t){function e(t){var n;i(this,e),(n=c(this,l(e).call(this,t))).$slider=n.$el.find(".js-slider"),n.$next=n.$el.find(".js-next"),n.$prev=n.$el.find(".js-prev");var s=h(n);return n.swiperOn={init:function(){s.setTitle($(this.slides[this.activeIndex]).data("name"))},slideChange:function(){s.setTitle($(this.slides[this.activeIndex]).data("name"))}},n}return r(e,Rn),s(e,[{key:"init",value:function(){u(l(e.prototype),"init",this).call(this),this.swiper=new Swiper(this.$slider,{loop:!0,slidesPerView:1,grabCursor:!0,touchStartPreventDefault:!1,touchMoveStopPropagation:!1,navigation:{nextEl:this.$next[0],prevEl:this.$prev[0]},on:this.swiperOn})}},{key:"openRequest",value:function(t){if(u(l(e.prototype),"openRequest",this).call(this,t),t.options.slideId){var i=Array.from(this.swiper.slides).find(function(e){return $(e).data("id")==t.options.slideId});this.swiper.slideTo(Array.from(this.swiper.slides).indexOf(i),0)}}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Hn)),this.swiper.destroy()}}]),e}(),Nn="".concat(p,".").concat("LeafsItem"),Bn={CLICK:"click.".concat(Nn),RESIZE:"resize.".concat(Nn),SET_ACTIVE:"setActive.".concat(Nn)},_n=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.compute(),this.$video=this.$el.find(".js-leafs-item-video"),this.$el.on(Bn.SET_ACTIVE,function(e){t.setActive(e.options.value)}),this.$el.hasClass("is-active")&&this.setActive(!0),this.checkResizeBind=this.checkResize.bind(this),g.on(Bn.RESIZE,this.checkResizeBind)}},{key:"compute",value:function(){this.viewportW=window.innerWidth}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(requestAnimationFrame(function(){t.compute(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"setActive",value:function(t){var e=this;this.$video.length&&(t?this.timeout=setTimeout(function(){e.$video[0].play()},1e3<this.viewportW?250:1e3):(clearTimeout(this.timeout),this.$video[0].pause()))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Nn)),g.off(Bn.RESIZE,this.checkResizeBind)}}]),e}(),Un="".concat(p,".").concat("Leafs"),zn={CLICK:"click.".concat(Un),RESIZE:"resize.".concat(Un)},Fn=".js-leafs-item",Wn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).coords=[],n.lerpFactor=.2,n.progressTarget=0,n.activeIndex=-1,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$inner=this.$el.find(".js-leafs-inner"),this.$items=this.$el.find(Fn),this.compute(),this.initTl(),this.manageDragAndDrop(),this.update(),this.checkResizeBind=this.checkResize.bind(this),g.on(zn.RESIZE,this.checkResizeBind),this.$el.on(zn.CLICK,Fn,function(e){t.dragging||t.goTo($(e.currentTarget).attr("data-id"))})}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(requestAnimationFrame(function(){t.compute(),t.initTl(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"compute",value:function(){this.innerBCR=this.$inner[0].getBoundingClientRect(),this.leafW=.57,window.innerWidth<700&&(this.leafW=.75),this.leafDelta=1-1/this.leafW*(1-this.leafW)/(this.$items.length-1),this.progressDistDivider=-this.innerBCR.width*this.leafW*this.leafDelta*(this.$items.length-1)}},{key:"initTl",value:function(){var t=this;this.tl&&this.tl.kill&&this.tl.kill(),this.tl=new TimelineMax,this.tl.addLabel("start",0);var e=100*this.leafDelta;this.$items.each(function(i,n){t.tl.set(n,{x:-e*i+"%",zIndex:t.$items.length-i},"start");var s=1/(t.$items.length-1)*i;t.coords.push(s),t.$items.eq(i).attr("data-id",i),i!=t.$items.length-1&&t.tl.to(n,1,{x:-e*i-e+"%",ease:Linear.easeNone})}),this.tl.progress(.01),this.tl.progress(this.progressTarget),this.tl.pause()}},{key:"manageDragAndDrop",value:function(){var t=this;this.panManager=new Hammer.Manager(this.el,{inputClass:Hammer.TouchMouseInput}),this.panManager.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,threshold:0})),this.onPanStart=function(e){t.dragging=!0,t.progressOnGrabStart=t.tl.progress(),t.throwTw&&t.throwTw.kill&&(t.throwTw.kill(),t.throwTw=null)},this.panManager.on("panstart",this.onPanStart),this.onPanMove=function(e){var i=e.deltaX/t.progressDistDivider;t.progressTarget=Math.max(0,Math.min(t.progressOnGrabStart+i,1)),t.panSpeed=e.velocityX},this.panManager.on("panmove",this.onPanMove),this.onPanEnd=function(e){t.throwTw=ThrowPropsPlugin.to(t,{throwProps:{progressTarget:{velocity:t.panSpeed/t.progressDistDivider*1e3,resistance:1e3,end:t.coords}},ease:Power4.easeOut},null,null,0),requestAnimationFrame(function(){t.dragging=!1})},this.panManager.on("panend",this.onPanEnd)}},{key:"goTo",value:function(t){this.tw&&this.tw.kill&&(this.tw.kill(),this.tw=null),this.throwTw&&this.throwTw.kill&&(this.throwTw.kill(),this.throwTw=null),this.tw=TweenMax.to(this,.5,{progressTarget:this.coords[t],ease:Power2.easeOut})}},{key:"update",value:function(){var t=this.coords.indexOf(M(this.progressTarget,this.coords));t!=this.activeIndex&&(this.$items.eq(this.activeIndex).toggleClass("is-active",!1),this.$items.eq(this.activeIndex).triggerHandler({type:Bn.SET_ACTIVE,options:{value:!1}}),this.activeIndex=t,this.$items.eq(this.activeIndex).toggleClass("is-active",!0),this.$items.eq(this.activeIndex).triggerHandler({type:Bn.SET_ACTIVE,options:{value:!0}})),this.tl.progress(V(this.tl.progress(),this.progressTarget,this.lerpFactor)),this.raf=requestAnimationFrame(this.update.bind(this))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Un)),g.off(zn.RESIZE,this.checkResizeBind),this.panManager.off("panstart",this.onPanStart),this.panManager.off("panmove",this.onPanMove),this.panManager.off("panend",this.onPanEnd),this.panManager.destroy(),this.panManager=null,this.throwTw&&this.throwTw.kill&&(this.throwTw.kill(),this.throwTw=null)}}]),e}(),Gn="".concat(p,".").concat("Error"),Vn={CLICK:"click.".concat(Gn),RESIZE:"resize.".concat(Gn)},qn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).files=t.models.split(","),n.isSlow=!1,n.bassValue={from:50,to:3500},n.timeScale={value:.1},n.backgroundColor={r:0,g:0,b:0},n.lightsValues=[{r:20,g:255,b:136},{r:20,g:236,b:255},{r:20,g:31,b:255}],n.isPlaying=!1,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.checkResizeBind=this.checkResize.bind(this),g.on(Vn.RESIZE,this.checkResizeBind),this.checkResize(),this.timeScaleTl=new TimelineMax,this.timeScaleTl.to(this.timeScale,1,{value:1}),this.timeScaleTl.progress(.001),this.timeScaleTl.pause(),this.backgroundTl=new TimelineMax,this.backgroundTl.to(this.backgroundColor,1,{r:255,g:255,b:255}),this.backgroundTl.progress(1),this.backgroundTl.pause(),this.initScene(),this.initLights(),this.initObjects(),this.$el.on(Vn.CLICK,".js-play",function(){return t.play()})}},{key:"play",value:function(){var t=this;this.isPlaying=!0,this.player=document.querySelector("#js-audio"),this.player.play();var e=window.AudioContext||window.webkitAudioContext||!1;this.audioCtx=new e,this.audioCtx.resume().then(function(){t.player.play()}),this.initAudioDetection(),this.$el.addClass("is-playing")}},{key:"initScene",value:function(){this.scene,this.camera,this.renderer,this.element,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,3e3),this.camera.position.set(0,0,10),this.camera.lookAt(0,0,0),this.scene.add(this.camera),this.mouse=new THREE.Vector2,this.mouse.x=-window.innerWidth/2,this.mouse.y=-window.innerHeight/2,this.renderer=new THREE.WebGLRenderer({antialias:!(2<=window.devicePixelRatio),alpha:!0}),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,this.element=this.renderer.domElement,this.container=this.el.querySelector(".js-scene"),this.container.width=this.el.getBoundingClientRect().width,this.container.height=this.el.getBoundingClientRect().height,this.element.width=this.container.width,this.element.height=this.container.height,this.renderer.setSize(this.container.width,this.container.height),this.renderer.shadowMap.enabled=!0,this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.renderer.setPixelRatio(Math.min(1.5,window.devicePixelRatio)),this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.dampingFactor=.1,this.controls.enableZoom=!1,this.controls.rotateSpeed=.1,this.container.appendChild(this.element)}},{key:"initObjects",value:function(){var t=this,e=1;this.objects=new Array,this.timelines=new Array;var i=(new THREE.TextureLoader).load("/assets/images/hdri@2x.jpg");i.mapping=THREE.SphericalReflectionMapping;for(var n=0;n<this.files.length;n++)this.loadModel(this.files[n]).then(function(e){var n=new THREE.Object3D;n.add(e),e.position.set(10*Math.random()+2,10*Math.random()+2,10*Math.random()+2),n.rotation.set(Math.random()*(2*Math.PI),Math.random()*(2*Math.PI),Math.random()*(2*Math.PI));var s=new TimelineMax({repeat:-1});s.to(n.rotation,0,{y:0}),s.to(n.rotation,10,{y:2*Math.PI,ease:Power0.easeNone});var o=new TimelineMax({repeat:-1});o.to(e.rotation,0,{y:0}),o.to(e.rotation,10,{y:2*Math.PI,ease:Power0.easeNone}),t.timelines.push(s),t.timelines.push(o);for(var a=new THREE.MeshPhongMaterial({color:16777215,shininess:100,envMap:i,specular:16777215,emissive:0}),r=e.children.length-1;0<=r;r--){e.children[r].material=a;for(var l=e.children[r].children.length-1;0<=l;l--)e.children[r].children[l].material=a}t.objects.push(n),t.scene.add(n)}),++e===this.files.length&&this.animate()}},{key:"slow",value:function(){}},{key:"initLights",value:function(){var t=new THREE.Color("rgb(".concat(this.lightsValues[0].r,",").concat(this.lightsValues[0].g,",").concat(this.lightsValues[0].b,")")),e=new THREE.Color("rgb(".concat(this.lightsValues[1].r,",").concat(this.lightsValues[1].g,",").concat(this.lightsValues[1].b,")")),i=new THREE.Color("rgb(".concat(this.lightsValues[2].r,",").concat(this.lightsValues[2].g,",").concat(this.lightsValues[2].b,")")),n=new THREE.PointLight(t,1,1e3);n.position.set(2,2,2),this.scene.add(n);var s=new THREE.PointLight(e,1,1e3);s.position.set(2,-2,2),this.scene.add(s);var o=new THREE.PointLight(i,1,1e3);o.position.set(-2,2,2),this.scene.add(o),this.lights=[n,s,o],this.colors=[t,e,i],this.firstLightTl=new TimelineMax,this.firstLightTl.to(this.colors[0],1,{r:24/255,g:115/255,b:210/255}),this.firstLightTl.pause(),this.secondLightTl=new TimelineMax,this.secondLightTl.to(this.colors[1],1,{r:235/255,g:205/255,b:0}),this.secondLightTl.pause(),this.thirdLightTl=new TimelineMax,this.thirdLightTl.to(this.colors[2],1,{r:1,g:6/255,b:83/255}),this.thirdLightTl.pause(),this.lightTimelines=[this.firstLightTl,this.secondLightTl,this.thirdLightTl]}},{key:"animate",value:function(){var t=this;this.raf=requestAnimationFrame(function(){return t.animate()}),this.render();for(var e=0;e<this.timelines.length;e++)this.timelines[e].timeScale(this.timeScale.value);if(this.isPlaying){this.analyser.getByteFrequencyData(this.realFrequencyData);for(var i=0;i<this.objects.length;i++)this.frequencyData[i]=V(this.frequencyData[i],this.realFrequencyData[i],.15),this.objects[i].children[0].scale.set(.3+this.frequencyData[i%16]/256*(.5+this.timeScale.value),.3+this.frequencyData[i%16]/256*(.5+this.timeScale.value),.3+this.frequencyData[i%16]/256*(.5+this.timeScale.value))}for(e=0;e<this.lights.length;e++)this.lights[e].color=this.colors[e]}},{key:"render",value:function(){this.camera.updateProjectionMatrix(),this.controls.update();var t=(this.camera.position.z+10)/20;this.isPlaying&&(this.bassTl.progress(t),this.timeScaleTl.progress(t),this.backgroundTl.progress(t));for(var e=0;e<this.lightTimelines.length;e++)this.lightTimelines[e].progress(t);this.renderer.setClearColor(new THREE.Color("rgb(".concat(parseInt(this.backgroundColor.r),",").concat(parseInt(this.backgroundColor.g),",").concat(parseInt(this.backgroundColor.b),")"))),this.renderer.render(this.scene,this.camera)}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(requestAnimationFrame(function(){t.resize(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"resize",value:function(){this.container.width=this.$el[0].getBoundingClientRect().width,this.container.height=this.$el[0].getBoundingClientRect().height,this.element.width=this.container.width,this.element.height=this.container.height,this.camera.aspect=this.container.width/this.container.height,this.renderer.setSize(this.container.width,this.container.height)}},{key:"initAudioDetection",value:function(){this.analyser=this.audioCtx.createAnalyser(),this.stream=this.audioCtx.createMediaElementSource(this.player),this.analyser.fftSize=1024,this.frequencyData=new Uint8Array(this.analyser.frequencyBinCount),this.realFrequencyData=new Uint8Array(this.analyser.frequencyBinCount),this.bassFilter=this.audioCtx.createBiquadFilter(),this.bassFilter.type="lowpass",this.bassFilter.frequency.value=this.bassValue.from,this.stream.connect(this.bassFilter),this.bassFilter.connect(this.analyser),this.analyser.connect(this.audioCtx.destination),this.bassTl=new TimelineMax,this.bassTl.to(this.bassFilter.frequency,1,{value:this.bassValue.to}),this.bassTl.progress(1),this.bassTl.pause()}},{key:"loadModel",value:function(t){var e,i=this,n="/assets/3d/models/",s=t.substr(t.lastIndexOf(".")+1).toLowerCase();if(Ae.models3d[n+t])return new Promise(function(t){t()}).then(function(){return Ae.models3d[n+t].clone()});switch(s){case"fbx":this.fbxLoader||(this.fbxLoader=new THREE.FBXLoader),e=new Promise(function(e){i.fbxLoader.load(n+t,e)});break;case"obj":this.objLoader||(this.objLoader=new THREE.OBJLoader),e=new Promise(function(e){i.objLoader.load(n+t,e)});break;case"glb":case"gltf":this.gltfLoader||(this.gltfLoader=new THREE.GLTFLoader),e=new Promise(function(e){i.gltfLoader.load(n+t,e)}).then(function(t){return t.scene});break;default:return!1}return e.then(function(e){return(Ae.models3d[n+t]=e).clone()})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),void 0!==this.player&&this.player.remove(),cancelAnimationFrame(this.raf),this.$el.off(".".concat(Gn))}}]),e}(),Kn="".concat(p,".").concat("FileInput"),Yn={CLICK:"click.".concat(Kn),CHANGE:"change.".concat(Kn)},Xn=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).options=t,n.$input=n.$el.find(".js-fi-input"),n.$label=n.$el.find(".js-fi-label"),n.labelInitialVal=n.$label.find("span")[0].innerHTML,n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$input.on(Yn.CHANGE,function(e){var i;(i=this.files&&1<this.files.length?(t.options["multiple-caption"]||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?t.$label.find("span").text(i):t.$label.find("span").text(t.labelInitialVal)})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Kn)),this.$input.off(".".concat(Kn))}}]),e}(),Zn="".concat(p,".").concat("Share"),Qn={CLICK:"click.".concat(Zn),CHANGE:"change.".concat(Zn)},Jn="is-open",ts=function(t){function e(t){return i(this,e),c(this,l(e).call(this,t))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.$el.on(Qn.CLICK,".js-share-open",function(){t.$el.addClass(Jn)}),this.$el.on(Qn.CLICK,".js-share-close",function(){t.$el.removeClass(Jn)}),this.$el.on(Qn.CLICK,"[data-share-platform]",function(e){return t.share(e)})}},{key:"share",value:function(t){t.preventDefault();var e,i=$(t.currentTarget),n=i.attr("data-share-platform"),s=i.attr("data-share-url");switch(n){case"facebook":e="https://facebook.com/sharer/sharer.php?u="+s,this.openWindow(e);break;case"twitter":e="https://twitter.com/share?url="+s+"&amp;text="+i.attr("data-share-text"),this.openWindow(e);break;case"mail":var o=i.data("share-subject"),a=i.data("share-body");this.openMail(o,a)}}},{key:"openWindow",value:function(t){window.open(t,"","menubar=no, toolbar=no, resizable=yes, scrollbars=yes, height=500, width=600")}},{key:"openMail",value:function(t,e){window.location="mailto:?subject="+t+"&body="+e}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Zn))}}]),e}(),es="".concat(p,".").concat("OrderList"),is={CLICK:"click.".concat(es)},ns=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).$headFields=n.$el.find(".js-head-field"),n.$content=n.$el.find(".js-list-content"),n.$items=n.$el.find(".js-list-item"),n.$borderBottom=n.$el.find(".js-list-border-bottom"),n.itemsMap=Array.from(n.$items).map(function(t){var e=$(t),i=e.data("fields");return{el:t,$el:e,fields:i}}),n}return r(e,A),s(e,[{key:"init",value:function(){this.$headFields.on(is.CLICK,this.onOrderClick.bind(this))}},{key:"onOrderClick",value:function(t){var e=this,i=$(t.currentTarget);Promise.all([this.listOut()]).then(function(){e.orderBy(i.data("field")),e.listIn()})}},{key:"orderBy",value:function(t,e){var i=this;null==e||"ASC"!=e&&"DESC"!=e?t!=this.orderField?(this.orderField=t,this.orderOrientation="ASC"):"ASC"==this.orderOrientation?this.orderOrientation="DESC":this.orderOrientation="ASC":(this.orderField=t,this.orderOrientation=e),this.$headFields.toggleClass("-active",!1),this.$headFields.filter('[data-field="'+this.orderField+'"]').toggleClass("-active",!0).toggleClass("-reverse","ASC"==this.orderOrientation),this.itemsMap.sort(function(t,e){return(t=t.fields[i.orderField])==(e=e.fields[i.orderField])?0:t<e?1:-1}),$.each(this.itemsMap,function(t,e){"ASC"==i.orderOrientation?e.$el.prependTo(i.$content):e.$el.appendTo(i.$content)}),this.listIn()}},{key:"listOut",value:function(){var t=this;return new Promise(function(e,i){TweenMax.to([t.$content,t.$borderBottom],.25,{opacity:0,y:10,force3D:!0,ease:Power2.easeInOut,onComplete:e})})}},{key:"listIn",value:function(){var t=this;return new Promise(function(e,i){TweenMax.to([t.$content,t.$borderBottom],.25,{opacity:1,y:0,force3D:!0,ease:Power2.easeInOut,onComplete:e})})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(es)),this.$headFields.off(".".concat(es))}}]),e}(),ss="".concat(p,".").concat("FadeUpByRow"),os={CLICK:"click.".concat(ss),LAUNCH:"launch.".concat(ss),RESIZE:"resize.".concat(ss)},as=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).options=t,n}return r(e,A),s(e,[{key:"init",value:function(){this.split(),this.checkResizeBind=this.checkResize.bind(this),g.on(os.RESIZE,this.checkResizeBind)}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(requestAnimationFrame(function(){t.split(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"split",value:function(){var t=this,e={w:window.innerWidth,h:window.innerHeight};(!this.lastViewportDimensions||e.w!=this.lastViewportDimensions.w||e.h!=this.lastViewportDimensions.h)&&(this.splitText&&this.splitText.revert(),this.splitText=new SplitText(this.el,{type:"lines",linesClass:this.options["lines-class"]}),requestAnimationFrame(function(){requestAnimationFrame(function(){t.$el.addClass("is-ready")})})),this.lastViewportDimensions=e}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(ss))}}]),e}(),rs="".concat(p,".").concat("Choochoo"),ls={CLICK:"click.".concat(rs),KEYUP:"keyup.".concat(rs)},hs="is-visible",cs="is-launched",us=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).$el=$(".c-choo"),n.$lettersElem=$(".js-letter",n.el),n.$imagesContainer=$(".js-images-container",n.$el),n.lettersCodes=new Array(67,72,79,79,67,72,79,79),n.lettersStep=0,n.chooImages,n.timeoutIdle,n.letterBg=document.querySelector(".js-letter-bg",n.el),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;window.innerWidth<1200||(m.on(ls.KEYUP,function(e){return t.keyup(e)}),this.$el.on(ls.CLICK,".js-choo-close",function(e){return t.hideContent(e)}))}},{key:"keyup",value:function(t){if(!v.hasClass("has-lisa-active"))switch(t.keyCode){case 27:this.hideContent();break;case this.lettersCodes[this.lettersStep]:this.addLetter();break;default:this.lettersStep<6&&this.hideContent()}}},{key:"addLetter",value:function(){var t=this;0===this.lettersStep&&this.$el.addClass(hs),this.$lettersElem[this.lettersStep].classList.add(hs);var e=this.lettersStep/(this.$lettersElem.length-1);TweenMax.to(this.letterBg,.3,{scaleY:e,ease:Power2.easeInOut}),this.lettersStep==this.$lettersElem.length-1&&(this.trainDeparture(),clearTimeout(this.timeoutIdle)),this.lettersStep<7&&(this.lettersStep++,this.timeoutIdle&&clearTimeout(this.timeoutIdle),this.timeoutIdle=setTimeout(function(){return t.hideContent()},1500))}},{key:"hideContent",value:function(){var t=this;if(clearTimeout(this.timeoutIdle),this.letterAnim&&this.letterAnim.kill(),this.el.classList.remove("u-pointer-auto"),this.$el.removeClass("".concat(hs," ").concat(cs)),TweenMax.to(this.letterBg,1,{scaleY:0,ease:Power1.easeInOut}),this.$lettersElem.removeClass(hs),void(this.lettersStep=0)!==this.$chooImages)for(var e=0;e<this.$chooImages.length;e++)TweenMax.to($(this.$chooImages[e]),.6,{x:"0%",y:"0%",rotation:0});setTimeout(function(){return t.removeImages()},2e3)}},{key:"removeImages",value:function(){for(var t=document.querySelector(".js-images-container",this.el);t.lastChild;)t.removeChild(t.lastChild)}},{key:"trainDeparture",value:function(){this.$el.addClass(cs),this.loadImages(),this.el.classList.add("u-pointer-auto");for(var t=0;t<this.$lettersElem.length;t++){var e=new TimelineMax({repeat:-1,delay:.1*t});e.to(this.$lettersElem[t],0,{y:0}),e.to(this.$lettersElem[t],.3,{y:-50,scale:.5*Math.random()+1,rotation:30*Math.random()-15,ease:Power1.easeInOut}),e.to(this.$lettersElem[t],.6,{y:0,scale:1,rotation:0,ease:Power1.easeInOut})}}},{key:"loadImages",value:function(){for(var t=this,e=0,i=[],n=0;n<29;n++){var s=document.createElement("img");s.src="assets/images/choochoo/".concat(n,".jpg"),s.classList.add("c-choo_img_style"),s.classList.add("js-img"),i.push(s),s.addEventListener("load",function(){29==++e&&t.animateImages()})}i=x(i);var o=!0,a=!1,r=void 0;try{for(var l,h=i[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;$(c).appendTo(this.$imagesContainer)}}catch(t){a=!0,r=t}finally{try{o||null==h.return||h.return()}finally{if(a)throw r}}}},{key:"animateImages",value:function(){this.$chooImages=$(".js-img",this.$el);for(var t=0;t<this.$chooImages.length;t++){TweenMax.to($(this.$chooImages[t]),.6,{x:"".concat(100*Math.random()-50,"vw"),y:"".concat(-(70*Math.random()+30),"vh"),rotation:90*Math.random()-45,delay:.3*t});var e=new TimelineMax({repeat:-1,delay:.1*t});e.to(this.$chooImages[t],0,{scale:1}),e.to(this.$chooImages[t],.3,{scale:.5*Math.random()+1,ease:Power1.easeInOut}),e.to(this.$chooImages[t],.6,{scale:1,ease:Power1.easeInOut})}}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(rs)),m.off(".".concat(rs))}}]),e}(),ds="".concat(p,".").concat("EmployeeMonth"),fs={CLICK:"click.".concat(ds),INVIEW:"inview.".concat(ds),MOUSEENTER:"mouseenter.".concat(ds),MOUSELEAVE:"mouseleave.".concat(ds),TOUCHSTART:"touchstart.".concat(ds),TOUCHEND:"touchend.".concat(ds)},ps=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).launched=!1,n.$sprite=n.$el.find(".js-sprite"),n.$image=n.$el.find(".js-image"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.onInviewBind=function(e){"enter"==e.way?t.launched?t.requestUpdate(!0):t.launch():t.requestUpdate(!1)},this.$el.on(fs.INVIEW,this.onInviewBind)}},{key:"launch",value:function(){var t=this;if(!this.launched){this.launched=!0;for(var e=[],i=Array.from(this.$image),n=function(){var t=i[s];e.push(new Promise(function(e){var i=new Image;i.onload=function(){e()},i.src=t.dataset.src}))},s=0;s<i.length;s++)n();Promise.all(e).then(function(){requestAnimationFrame(function(){t.requestUpdate(!0),t.onEnter=function(){v.toggleClass("is-in-love",!0),t.$el.toggleClass("-active",!0)},t.$el.on(fs.MOUSEENTER,t.onEnter),t.$el.on(fs.TOUCHSTART,t.onEnter),t.onLeave=function(){v.toggleClass("is-in-love",!1),t.$el.toggleClass("-active",!1)},t.$el.on(fs.MOUSELEAVE,t.onLeave),t.$el.on(fs.TOUCHEND,t.onLeave)})})}}},{key:"requestUpdate",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.$sprite.trigger({type:nn.REQUEST_UPDATE,options:{value:t}})}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(ds)),this.$el.off(fs.LAUNCH,this.launch.bind(this))}}]),e}(),ms="".concat(p,".").concat("SliderFields"),gs=function(t){function e(t){var n;return i(this,e),(n=c(this,l(e).call(this,t))).$main=n.$el.find(".js-main-slider"),n.$mainSlide=n.$el.find(".js-main-slide"),n.nbSlides=n.$mainSlide.length,n.$secondary=n.$el.find(".js-secondary-slider"),n.$object3d=n.$el.find(".js-object3d"),n}return r(e,A),s(e,[{key:"init",value:function(){var t=this;1<this.nbSlides?(this.mainSlider=new Swiper(this.$main,{loop:!0,loopedSlides:this.nbSlides,grabCursor:!0,touchStartPreventDefault:!1,longSwipesRatio:.1,spaceBetween:40,slideToClickedSlide:!0,on:{slideChange:function(){t.mainSlider&&t.$object3d.trigger({type:ti.CHANGE,options:{index:t.mainSlider.realIndex}})}}}),this.secondarySlider=new Swiper(this.$secondary,{loop:!0,loopedSlides:this.nbSlides,effect:"fade",fadeEffect:{crossFade:!0}}),this.mainSlider.controller.control=this.secondarySlider,this.secondarySlider.controller.control=this.mainSlider):(this.$mainSlide.toggleClass("swiper-slide-active",!0),this.$object3d.trigger({type:ti.CHANGE,options:{index:0}}))}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.mainSlider&&this.mainSlider.destroy&&this.mainSlider.destroy(),this.secondarySlider&&this.secondarySlider.destroy&&this.secondarySlider.destroy(),this.$el.off(".".concat(ms))}}]),e}(),vs="".concat(p,".").concat("NavButton"),ys={CLICK:"click.".concat(vs)},ws="has-nav-open",Ts=function(t){function e(t){return i(this,e),c(this,l(e).call(this,t))}return r(e,A),s(e,[{key:"init",value:function(){this.$el.on(ys.CLICK,function(t){v.toggleClass("".concat(ws))})}},{key:"destroy",value:function(){v.removeClass(ws),clearTimeout(this.timeout),u(l(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(vs))}}]),e}();function Es(t,e){return t+Math.random()*(e-t)}function ks(t,e,i){if(e!=e)return function(t,e,i,n){for(var s=t.length,o=i+-1;++o<s;)if(e(t[o],o,t))return o;return-1}(t,bs,i);for(var n=i-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}function Ss(t,e,i,n){for(var s=i-1,o=t.length;++s<o;)if(n(t[s],e))return s;return-1}function bs(t){return t!=t}var Cs,xs,Ms=Array.prototype.splice,$s=Math.max;var Ls=(Cs=function(t,e){return t&&t.length&&e&&e.length?function(t,e,i,n){var s,o=n?Ss:ks,a=-1,r=e.length,l=t;for(t===e&&(e=function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}(e)),i&&(l=function(t,e){for(var i=-1,n=t?t.length:0,s=Array(n);++i<n;)s[i]=e(t[i],i,t);return s}(t,(s=i,function(t){return s(t)})));++a<r;)for(var h=0,c=e[a],u=i?i(c):c;-1<(h=o(l,u,h,n));)l!==t&&Ms.call(l,h,1),Ms.call(t,h,1);return t}(t,e):t},xs=$s(void 0===xs?Cs.length-1:xs,0),function(){for(var t=arguments,e=-1,i=$s(t.length-xs,0),n=Array(i);++e<i;)n[e]=t[xs+e];e=-1;for(var s=Array(xs+1);++e<xs;)s[e]=t[e];return s[xs]=n,function(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}(Cs,this,s)}),Rs=0,Os=function(){function t(e,n){if(i(this,t),e.length&&(e=e[0]),!e)throw"must pass canvas";this.canvas=e,this.options=Object.assign({debug:!1,resize:!0,trigger:this.canvas,forceCanvasSize:!1,decay:4,spread:60,gravity:1200,color:{red:[0,255],blue:[0,255],green:[0,255]}},n),this.dpr=window.devicePixelRatio||1,this.ctx=this.canvas.getContext("2d"),this.ctx.scale(this.dpr,this.dpr),this.confettiSpriteIds=[],this.confettiSprites={},this.drawVector=!1,this.vector=[{x:window.innerWidth,y:1.25*window.innerHeight},{x:window.innerWidth,y:2*window.innerHeight}],this.pointer={},this.render=this.render.bind(this),this.setCanvasSize=this.setCanvasSize.bind(this),TweenLite.ticker.addEventListener("tick",this.render),this.setCanvasSize(),this.options.trigger&&this.options.resize&&window.addEventListener("resize",this.setCanvasSize)}return s(t,[{key:"setCanvasSize",value:function(){this.canvas.width=window.innerWidth*this.dpr,this.canvas.height=window.innerHeight*this.dpr,this.options.forceCanvasSize||(this.canvas.style.width=window.innerWidth+"px",this.canvas.style.height=window.innerHeight+"px")}},{key:"addConfettiParticles",value:function(t){(t=Object.assign({angle:270,amount:100,velocity:2e3,dpr:this.dpr,x:this.canvas.width/this.dpr/2,y:this.canvas.height/this.dpr/2,color:this.options.color,decay:this.options.decay,spread:this.options.spread,gravity:this.options.gravity},t)).x*=t.dpr,t.y*=t.dpr;for(var e=0;e<t.amount;){var i=Es(4,6)*this.dpr,n=Es(15,25)*this.dpr;this.options.debug&&console.log("Adding Particle:",e,t);var s="function"==typeof t.color?t.color.apply():t.color;if(Array.isArray(s)){var a=s[Math.ceil(Es(0,s.length-1))];s="#".concat(a)}else{var r=Array.isArray(s.red)?Es.apply(void 0,f(s.red)):s.red,l=Array.isArray(s.blue)?Es.apply(void 0,f(s.blue)):s.blue,h=Array.isArray(s.green)?Es.apply(void 0,f(s.green)):s.green;s="rgb(".concat(r,", ").concat(h,", ").concat(l,")")}var c=Es(10,-10),u=Es(.07,.05),d=Rs++,p=o({},d,{r:i,d:n,tilt:c,color:s,tiltAngle:0,tiltAngleIncremental:u,x:t.x,y:t.y,angle:t.angle,velocity:t.velocity});Object.assign(this.confettiSprites,p),this.confettiSpriteIds.push(d),this.tweenConfettiParticle(d,t),e++}}},{key:"fire",value:function(){return this.addConfettiParticles.apply(this,arguments)}},{key:"tweenConfettiParticle",value:function(t,e){var i=this,n=this.confettiSprites[t].angle-e.spread/2,s=this.confettiSprites[t].angle+e.spread/2,o=Es(this.confettiSprites[t].velocity/4,this.confettiSprites[t].velocity),a=Es(n,s),r=e.gravity,l=(e.friction||Es(.1,.25))/this.dpr;TweenLite.to(this.confettiSprites[t],e.decay,{physics2D:{velocity:o,angle:a,gravity:r,friction:l},d:0,ease:Power4.easeIn,onComplete:function(){Ls(i.confettiSpriteIds,t),delete i.confettiSprites[t],i.confettiSpriteIds.length<1&&TweenLite.ticker.removeEventListener("tick",i.render)}})}},{key:"updateConfettiParticle",value:function(t){var e=this.confettiSprites[t],i=5e-4*e.d;e.angle+=.01,e.tiltAngle+=i,e.tiltAngle+=e.tiltAngleIncremental,e.tilt=Math.sin(e.tiltAngle-e.r/2)*e.r*2,e.y+=2*Math.sin(e.angle+e.r/2),e.x+=Math.cos(e.angle)/2}},{key:"drawConfetti",value:function(){var t=this;this.confettiSpriteIds.map(function(e){var i=t.confettiSprites[e];t.ctx.beginPath(),t.ctx.lineWidth=i.d/2,t.ctx.strokeStyle=i.color,t.ctx.moveTo(i.x+i.tilt+i.r,i.y),t.ctx.lineTo(i.x+i.tilt,i.y+i.tilt+i.r),t.ctx.stroke(),t.updateConfettiParticle(e)})}},{key:"render",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawConfetti()}},{key:"getDegAngle",value:function(){var t=y1-y0,e=x1-x0;return Math.atan2(t,e)*(180/Math.PI)}},{key:"getLength",value:function(){var t=x1-x0,e=y1-y0;return Math.sqrt(t*t+e*e)}},{key:"destroy",value:function(){TweenLite.ticker.removeEventListener("tick",this.render),window.removeEventListener("resize",this.setCanvasSize)}}]),t}(),Is=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}return r(e,A),s(e,[{key:"init",value:function(){var t=this;this.confetti=new Os(this.el,{color:["F7AD6B","FCEA90","F7AD6B","FCEA90"]}),setTimeout(function(){for(var e=0;e<10;e++)setTimeout(function(){t.confetti.fire({amount:Math.ceil(100*Math.random())+100,angle:-Math.ceil(90*Math.random())-45,velocity:Math.ceil(6e3*Math.random())+2e3,x:Math.ceil(Math.random()*window.innerWidth),y:Math.ceil(Math.random()*window.innerHeight/2+window.innerHeight/2)})},500*e)},1500)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this),this.confetti.destroy()}}]),e}(),Ps=Object.freeze({Load:bt,Scroll:te,Banner:ee,FancyVideo:Ie,ProjectDevice:Ue,ProjectSmartphone:Fe,ProjectLaptop:Ge,ProjectHeader:Ne,VimeoPlayer:Ke,VideoPlayer:Ze,Slider:ni,CursorZone:ae,Object3D:ei,AwardsList:ri,Lisa:vi,LisaStep:fi,LisaChoicesStep:yi,LisaCircle:ci,LisaProgress:Ti,LisaFormStep:$i,LisaSessionStep:ki,LisaBudgetStep:Li,LisaContextStep:Ri,LisaOpener:Pi,StickyLimiter:Di,AccordionCareers:Fi,Panorama:Yi,Quote:tn,Sprite:on,TeamMember:hn,TriforceMember:dn,TeamList:mn,Rail:ot,HiddenWords:yn,Footer:En,PlayGrid:bn,PlayRail:Mn,PlayGridTeam:In,PlayGridPicture:jn,PlayModal:Rn,PlayModalSlider:Dn,Leafs:Wn,LeafsItem:_n,Error:qn,FileInput:Xn,Share:ts,OrderList:ns,FadeUpByRow:as,Choochoo:us,EmployeeMonth:ps,SliderFields:gs,HomeFlag:W,HomeSimpleSlider:ct,HomeLinkSlider:vt,Rope:ft,FancySlider:Et,NavButton:Ts,PlayShapes:_,Confetti:Is});console.log("%c👋 – 🔨 with ❤️ by Locomotive","font-size:10px;font-weight: bold;color:#fff; background-color:#4D84F1; padding:5px;border-radius:4px;");var As=function(){function t(){var e=this;i(this,t),this.modules=Ps,this.currentModules=[],window.scroll={x:0,y:0,direction:null,limit:0},window.cursor={x:window.innerWidth/2,y:window.innerHeight/2},g.on("mousemove",function(t){window.cursor.x=t.clientX,window.cursor.y=t.clientY}),window.isTouch="ontouchstart"in document.documentElement,v.toggleClass("is-touch",window.isTouch),m.on(St.INIT_MODULES,function(t){e.initGlobals(t.firstBlood).deleteModules(t).initModules(t)}),m.on(St.INIT_SCOPED_MODULES,function(t){e.initModules(t)}),m.on(St.INIT_GLOBALS,function(t){e.initGlobals(t.firstBlood)}),m.on(St.DELETE_SCOPED_MODULES,function(t){e.deleteModules(t)})}return s(t,[{key:"deleteModules",value:function(t){var e=!0,i=[];if(t.$scope instanceof jQuery&&0<t.$scope.length){var n=t.$scope.find("[data-module]");if(!(0<(i=$.makeArray(n.map(function(t){return n.eq(t).data("uid")}))).length))return this;e=!1}for(var s=this.currentModules.length;s--;)(e||C(i,this.currentModules[s].uid))&&this.currentModules[s].destroy();return this}},{key:"initGlobals",value:function(t){return function(t){var e=S.mobile||S.tablet||!1;(window.isMobile=e)&&v.addClass("is-mobile");var i=S.msedge;(window.isEdge=i)&&v.addClass("is-edge");var n=S.firefox;(window.isFirefox=n)&&v.addClass("is-firefox");var s=S.safari;window.isSafari=s,/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&v.addClass("is-ios");var o=S.msie;(window.isIE=o)&&v.addClass("is-ie")}(),this}},{key:"initModules",value:function(t){var e=[];t.firstBlood?e=m.find("[data-module]"):t.$scope instanceof jQuery&&0<t.$scope.length&&(e=t.$scope.find("[data-module]"));for(var i=0,n=e.length;i<n;i++){var s=e[i],o=L(s);o.el=s,o.$el=e.eq(i);for(var a=o.module.split(/[,\s]+/g),r=0,l=a.length;r<l;r++){var h=a[r];if("function"==typeof this.modules[h]){var c=new this.modules[h](o);this.currentModules.push(c),c.init()}}}return this}}]),t}();v.addClass("has-dom-loading has-dom-first-loading -first"),"default"==v.attr("data-pageColor")?TweenMax.set(w,{clearProps:"background-color"}):TweenMax.set(w,{backgroundColor:v.attr("data-pageColor")}),setTimeout(function(){new As,m.triggerHandler({type:St.INIT_MODULES,firstBlood:!0}),v.addClass("has-dom-loaded has-dom-first-loaded"),v.removeClass("has-dom-loading has-dom-first-loading"),setTimeout(function(){v.addClass("has-dom-animated")},800),m.triggerHandler({type:St.READYTOANIMATE})},1e3)}();